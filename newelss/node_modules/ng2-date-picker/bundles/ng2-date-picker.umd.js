(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('moment'), require('@angular/forms'), require('@angular/common')) :
    typeof define === 'function' && define.amd ? define('ng2-date-picker', ['exports', '@angular/core', 'moment', '@angular/forms', '@angular/common'], factory) :
    (factory((global['ng2-date-picker'] = {}),global.ng.core,global.momentNs,global.ng.forms,global.ng.common));
}(this, (function (exports,core,momentNs,forms,common) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var ECalendarMode = {
        Day: 0,
        DayTime: 1,
        Month: 2,
        Time: 3,
    };
    ECalendarMode[ECalendarMode.Day] = 'Day';
    ECalendarMode[ECalendarMode.DayTime] = 'DayTime';
    ECalendarMode[ECalendarMode.Month] = 'Month';
    ECalendarMode[ECalendarMode.Time] = 'Time';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var ECalendarValue = {
        Moment: 1,
        MomentArr: 2,
        String: 3,
        StringArr: 4,
    };
    ECalendarValue[ECalendarValue.Moment] = 'Moment';
    ECalendarValue[ECalendarValue.MomentArr] = 'MomentArr';
    ECalendarValue[ECalendarValue.String] = 'String';
    ECalendarValue[ECalendarValue.StringArr] = 'StringArr';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var SelectEvent = {
        INPUT: 'input',
        SELECTION: 'selection',
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DomHelper = /** @class */ (function () {
        function DomHelper() {
        }
        /**
         * @private
         * @param {?} element
         * @param {?} container
         * @param {?} anchor
         * @param {?} drops
         * @return {?}
         */
        DomHelper.setYAxisPosition = /**
         * @private
         * @param {?} element
         * @param {?} container
         * @param {?} anchor
         * @param {?} drops
         * @return {?}
         */
            function (element, container, anchor, drops) {
                /** @type {?} */
                var anchorRect = anchor.getBoundingClientRect();
                /** @type {?} */
                var containerRect = container.getBoundingClientRect();
                /** @type {?} */
                var bottom = anchorRect.bottom - containerRect.top;
                /** @type {?} */
                var top = anchorRect.top - containerRect.top;
                if (drops === 'down') {
                    element.style.top = (bottom + 1 + 'px');
                }
                else {
                    element.style.top = (top - 1 - element.scrollHeight) + 'px';
                }
            };
        /**
         * @private
         * @param {?} element
         * @param {?} container
         * @param {?} anchor
         * @param {?} dimElem
         * @param {?} opens
         * @return {?}
         */
        DomHelper.setXAxisPosition = /**
         * @private
         * @param {?} element
         * @param {?} container
         * @param {?} anchor
         * @param {?} dimElem
         * @param {?} opens
         * @return {?}
         */
            function (element, container, anchor, dimElem, opens) {
                /** @type {?} */
                var anchorRect = anchor.getBoundingClientRect();
                /** @type {?} */
                var containerRect = container.getBoundingClientRect();
                /** @type {?} */
                var left = anchorRect.left - containerRect.left;
                if (opens === 'right') {
                    element.style.left = left + 'px';
                }
                else {
                    element.style.left = left - dimElem.offsetWidth + anchor.offsetWidth + 'px';
                }
            };
        /**
         * @private
         * @param {?} el
         * @return {?}
         */
        DomHelper.isTopInView = /**
         * @private
         * @param {?} el
         * @return {?}
         */
            function (el) {
                var top = el.getBoundingClientRect().top;
                return (top >= 0);
            };
        /**
         * @private
         * @param {?} el
         * @return {?}
         */
        DomHelper.isBottomInView = /**
         * @private
         * @param {?} el
         * @return {?}
         */
            function (el) {
                var bottom = el.getBoundingClientRect().bottom;
                return (bottom <= window.innerHeight);
            };
        /**
         * @private
         * @param {?} el
         * @return {?}
         */
        DomHelper.isLeftInView = /**
         * @private
         * @param {?} el
         * @return {?}
         */
            function (el) {
                var left = el.getBoundingClientRect().left;
                return (left >= 0);
            };
        /**
         * @private
         * @param {?} el
         * @return {?}
         */
        DomHelper.isRightInView = /**
         * @private
         * @param {?} el
         * @return {?}
         */
            function (el) {
                var right = el.getBoundingClientRect().right;
                return (right <= window.innerWidth);
            };
        /**
         * @param {?} config
         * @return {?}
         */
        DomHelper.prototype.appendElementToPosition = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                var _this = this;
                var container = config.container, element = config.element;
                if (!container.style.position || container.style.position === 'static') {
                    container.style.position = 'relative';
                }
                if (element.style.position !== 'absolute') {
                    element.style.position = 'absolute';
                }
                element.style.visibility = 'hidden';
                setTimeout(function () {
                    _this.setElementPosition(config);
                    element.style.visibility = 'visible';
                });
            };
        /**
         * @param {?} __0
         * @return {?}
         */
        DomHelper.prototype.setElementPosition = /**
         * @param {?} __0
         * @return {?}
         */
            function (_a) {
                var element = _a.element, container = _a.container, anchor = _a.anchor, dimElem = _a.dimElem, drops = _a.drops, opens = _a.opens;
                DomHelper.setYAxisPosition(element, container, anchor, 'down');
                DomHelper.setXAxisPosition(element, container, anchor, dimElem, 'right');
                if (drops !== 'down' && drops !== 'up') {
                    if (DomHelper.isBottomInView(dimElem)) {
                        DomHelper.setYAxisPosition(element, container, anchor, 'down');
                    }
                    else if (DomHelper.isTopInView(dimElem)) {
                        DomHelper.setYAxisPosition(element, container, anchor, 'up');
                    }
                }
                else {
                    DomHelper.setYAxisPosition(element, container, anchor, drops);
                }
                if (opens !== 'left' && opens !== 'right') {
                    if (DomHelper.isRightInView(dimElem)) {
                        DomHelper.setXAxisPosition(element, container, anchor, dimElem, 'right');
                    }
                    else if (DomHelper.isLeftInView(dimElem)) {
                        DomHelper.setXAxisPosition(element, container, anchor, dimElem, 'left');
                    }
                }
                else {
                    DomHelper.setXAxisPosition(element, container, anchor, dimElem, opens);
                }
            };
        DomHelper.decorators = [
            { type: core.Injectable }
        ];
        return DomHelper;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var moment = momentNs;
    var UtilsService = /** @class */ (function () {
        function UtilsService() {
        }
        /**
         * @param {?} func
         * @param {?} wait
         * @return {?}
         */
        UtilsService.debounce = /**
         * @param {?} func
         * @param {?} wait
         * @return {?}
         */
            function (func, wait) {
                /** @type {?} */
                var timeout;
                return function () {
                    /** @type {?} */
                    var context = this;
                    /** @type {?} */
                    var args = arguments;
                    timeout = clearTimeout(timeout);
                    setTimeout(function () {
                        func.apply(context, args);
                    }, wait);
                };
            };
        /**
         * @param {?} size
         * @return {?}
         */
        UtilsService.prototype.createArray = /**
         * @param {?} size
         * @return {?}
         */
            function (size) {
                return new Array(size).fill(1);
            };
        /**
         * @param {?} date
         * @param {?} format
         * @return {?}
         */
        UtilsService.prototype.convertToMoment = /**
         * @param {?} date
         * @param {?} format
         * @return {?}
         */
            function (date, format) {
                if (!date) {
                    return null;
                }
                else if (typeof date === 'string') {
                    return moment(date, format);
                }
                else {
                    return date.clone();
                }
            };
        /**
         * @param {?} date
         * @param {?} format
         * @return {?}
         */
        UtilsService.prototype.isDateValid = /**
         * @param {?} date
         * @param {?} format
         * @return {?}
         */
            function (date, format) {
                if (date === '') {
                    return true;
                }
                return moment(date, format, true).isValid();
            };
        // todo:: add unit test
        // todo:: add unit test
        /**
         * @param {?} current
         * @param {?} selected
         * @param {?} allowMultiSelect
         * @param {?} minDate
         * @return {?}
         */
        UtilsService.prototype.getDefaultDisplayDate =
            // todo:: add unit test
            /**
             * @param {?} current
             * @param {?} selected
             * @param {?} allowMultiSelect
             * @param {?} minDate
             * @return {?}
             */
            function (current, selected, allowMultiSelect, minDate) {
                if (current) {
                    return current.clone();
                }
                else if (minDate && minDate.isAfter(moment())) {
                    return minDate.clone();
                }
                else if (allowMultiSelect) {
                    if (selected && selected[selected.length]) {
                        return selected[selected.length].clone();
                    }
                }
                else if (selected && selected[0]) {
                    return selected[0].clone();
                }
                return moment();
            };
        // todo:: add unit test
        // todo:: add unit test
        /**
         * @param {?} value
         * @param {?} allowMultiSelect
         * @return {?}
         */
        UtilsService.prototype.getInputType =
            // todo:: add unit test
            /**
             * @param {?} value
             * @param {?} allowMultiSelect
             * @return {?}
             */
            function (value, allowMultiSelect) {
                if (Array.isArray(value)) {
                    if (!value.length) {
                        return ECalendarValue.MomentArr;
                    }
                    else if (typeof value[0] === 'string') {
                        return ECalendarValue.StringArr;
                    }
                    else if (moment.isMoment(value[0])) {
                        return ECalendarValue.MomentArr;
                    }
                }
                else {
                    if (typeof value === 'string') {
                        return ECalendarValue.String;
                    }
                    else if (moment.isMoment(value)) {
                        return ECalendarValue.Moment;
                    }
                }
                return allowMultiSelect ? ECalendarValue.MomentArr : ECalendarValue.Moment;
            };
        // todo:: add unit test
        // todo:: add unit test
        /**
         * @param {?} value
         * @param {?} format
         * @param {?} allowMultiSelect
         * @return {?}
         */
        UtilsService.prototype.convertToMomentArray =
            // todo:: add unit test
            /**
             * @param {?} value
             * @param {?} format
             * @param {?} allowMultiSelect
             * @return {?}
             */
            function (value, format, allowMultiSelect) {
                switch (this.getInputType(value, allowMultiSelect)) {
                    case (ECalendarValue.String):
                        return value ? [moment(( /** @type {?} */(value)), format, true)] : [];
                    case (ECalendarValue.StringArr):
                        return (( /** @type {?} */(value))).map(function (v) { return v ? moment(v, format, true) : null; }).filter(Boolean);
                    case (ECalendarValue.Moment):
                        return value ? [(( /** @type {?} */(value))).clone()] : [];
                    case (ECalendarValue.MomentArr):
                        return (( /** @type {?} */(value)) || []).map(function (v) { return v.clone(); });
                    default:
                        return [];
                }
            };
        // todo:: add unit test
        // todo:: add unit test
        /**
         * @param {?} format
         * @param {?} value
         * @param {?} convertTo
         * @return {?}
         */
        UtilsService.prototype.convertFromMomentArray =
            // todo:: add unit test
            /**
             * @param {?} format
             * @param {?} value
             * @param {?} convertTo
             * @return {?}
             */
            function (format, value, convertTo) {
                switch (convertTo) {
                    case (ECalendarValue.String):
                        return value[0] && value[0].format(format);
                    case (ECalendarValue.StringArr):
                        return value.filter(Boolean).map(function (v) { return v.format(format); });
                    case (ECalendarValue.Moment):
                        return value[0] ? value[0].clone() : value[0];
                    case (ECalendarValue.MomentArr):
                        return value ? value.map(function (v) { return v.clone(); }) : value;
                    default:
                        return value;
                }
            };
        /**
         * @param {?} value
         * @param {?} format
         * @return {?}
         */
        UtilsService.prototype.convertToString = /**
         * @param {?} value
         * @param {?} format
         * @return {?}
         */
            function (value, format) {
                var _this = this;
                /** @type {?} */
                var tmpVal;
                if (typeof value === 'string') {
                    tmpVal = [value];
                }
                else if (Array.isArray(value)) {
                    if (value.length) {
                        tmpVal = (( /** @type {?} */(value))).map(function (v) {
                            return _this.convertToMoment(v, format).format(format);
                        });
                    }
                    else {
                        tmpVal = ( /** @type {?} */(value));
                    }
                }
                else if (moment.isMoment(value)) {
                    tmpVal = [value.format(format)];
                }
                else {
                    return '';
                }
                return tmpVal.filter(Boolean).join(' | ');
            };
        // todo:: add unit test
        // todo:: add unit test
        /**
         * @template T
         * @param {?} obj
         * @return {?}
         */
        UtilsService.prototype.clearUndefined =
            // todo:: add unit test
            /**
             * @template T
             * @param {?} obj
             * @return {?}
             */
            function (obj) {
                if (!obj) {
                    return obj;
                }
                Object.keys(obj).forEach(function (key) { return (obj[key] === undefined) && delete obj[key]; });
                return obj;
            };
        /**
         * @param {?} isMultiple
         * @param {?} currentlySelected
         * @param {?} date
         * @param {?=} granularity
         * @return {?}
         */
        UtilsService.prototype.updateSelected = /**
         * @param {?} isMultiple
         * @param {?} currentlySelected
         * @param {?} date
         * @param {?=} granularity
         * @return {?}
         */
            function (isMultiple, currentlySelected, date, granularity) {
                if (granularity === void 0) {
                    granularity = 'day';
                }
                if (isMultiple) {
                    return !date.selected
                        ? currentlySelected.concat([date.date])
                        : currentlySelected.filter(function (d) { return !d.isSame(date.date, granularity); });
                }
                else {
                    return !date.selected ? [date.date] : [];
                }
            };
        /**
         * @param {?} element
         * @param {?} selector
         * @return {?}
         */
        UtilsService.prototype.closestParent = /**
         * @param {?} element
         * @param {?} selector
         * @return {?}
         */
            function (element, selector) {
                if (!element) {
                    return undefined;
                }
                /** @type {?} */
                var match = ( /** @type {?} */(element.querySelector(selector)));
                return match || this.closestParent(element.parentElement, selector);
            };
        /**
         * @param {?} m
         * @return {?}
         */
        UtilsService.prototype.onlyTime = /**
         * @param {?} m
         * @return {?}
         */
            function (m) {
                return m && moment.isMoment(m) && moment(m.format('HH:mm:ss'), 'HH:mm:ss');
            };
        /**
         * @param {?} calendarType
         * @return {?}
         */
        UtilsService.prototype.granularityFromType = /**
         * @param {?} calendarType
         * @return {?}
         */
            function (calendarType) {
                switch (calendarType) {
                    case 'time':
                        return 'second';
                    case 'daytime':
                        return 'second';
                    default:
                        return calendarType;
                }
            };
        /**
         * @param {?} __0
         * @param {?} format
         * @param {?} calendarType
         * @return {?}
         */
        UtilsService.prototype.createValidator = /**
         * @param {?} __0
         * @param {?} format
         * @param {?} calendarType
         * @return {?}
         */
            function (_a, format, calendarType) {
                var _this = this;
                var minDate = _a.minDate, maxDate = _a.maxDate, minTime = _a.minTime, maxTime = _a.maxTime;
                /** @type {?} */
                var isValid;
                /** @type {?} */
                var value;
                /** @type {?} */
                var validators = [];
                /** @type {?} */
                var granularity = this.granularityFromType(calendarType);
                if (minDate) {
                    /** @type {?} */
                    var md_1 = this.convertToMoment(minDate, format);
                    validators.push({
                        key: 'minDate',
                        isValid: function () {
                            /** @type {?} */
                            var _isValid = value.every(function (val) { return val.isSameOrAfter(md_1, granularity); });
                            isValid = isValid ? _isValid : false;
                            return _isValid;
                        }
                    });
                }
                if (maxDate) {
                    /** @type {?} */
                    var md_2 = this.convertToMoment(maxDate, format);
                    validators.push({
                        key: 'maxDate',
                        isValid: function () {
                            /** @type {?} */
                            var _isValid = value.every(function (val) { return val.isSameOrBefore(md_2, granularity); });
                            isValid = isValid ? _isValid : false;
                            return _isValid;
                        }
                    });
                }
                if (minTime) {
                    /** @type {?} */
                    var md_3 = this.onlyTime(this.convertToMoment(minTime, format));
                    validators.push({
                        key: 'minTime',
                        isValid: function () {
                            /** @type {?} */
                            var _isValid = value.every(function (val) { return _this.onlyTime(val).isSameOrAfter(md_3); });
                            isValid = isValid ? _isValid : false;
                            return _isValid;
                        }
                    });
                }
                if (maxTime) {
                    /** @type {?} */
                    var md_4 = this.onlyTime(this.convertToMoment(maxTime, format));
                    validators.push({
                        key: 'maxTime',
                        isValid: function () {
                            /** @type {?} */
                            var _isValid = value.every(function (val) { return _this.onlyTime(val).isSameOrBefore(md_4); });
                            isValid = isValid ? _isValid : false;
                            return _isValid;
                        }
                    });
                }
                return function (inputVal) {
                    isValid = true;
                    value = _this.convertToMomentArray(inputVal, format, true).filter(Boolean);
                    if (!value.every(function (val) { return val.isValid(); })) {
                        return {
                            format: {
                                given: inputVal
                            }
                        };
                    }
                    /** @type {?} */
                    var errors = validators.reduce(function (map, err) {
                        if (!err.isValid()) {
                            map[err.key] = {
                                given: value
                            };
                        }
                        return map;
                    }, {});
                    return !isValid ? errors : null;
                };
            };
        /**
         * @param {?} value
         * @return {?}
         */
        UtilsService.prototype.datesStringToStringArray = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return (value || '').split('|').map(function (m) { return m.trim(); }).filter(Boolean);
            };
        /**
         * @param {?} value
         * @param {?} format
         * @return {?}
         */
        UtilsService.prototype.getValidMomentArray = /**
         * @param {?} value
         * @param {?} format
         * @return {?}
         */
            function (value, format) {
                var _this = this;
                return this.datesStringToStringArray(value)
                    .filter(function (d) { return _this.isDateValid(d, format); })
                    .map(function (d) { return moment(d, format); });
            };
        /**
         * @param {?} showGoToCurrent
         * @param {?} mode
         * @param {?} min
         * @param {?} max
         * @return {?}
         */
        UtilsService.prototype.shouldShowCurrent = /**
         * @param {?} showGoToCurrent
         * @param {?} mode
         * @param {?} min
         * @param {?} max
         * @return {?}
         */
            function (showGoToCurrent, mode, min, max) {
                return showGoToCurrent &&
                    mode !== 'time' &&
                    this.isDateInRange(moment(), min, max);
            };
        /**
         * @param {?} date
         * @param {?} from
         * @param {?} to
         * @return {?}
         */
        UtilsService.prototype.isDateInRange = /**
         * @param {?} date
         * @param {?} from
         * @param {?} to
         * @return {?}
         */
            function (date, from, to) {
                return date.isBetween(from, to, 'day', '[]');
            };
        /**
         * @param {?} obj
         * @param {?} format
         * @param {?} props
         * @return {?}
         */
        UtilsService.prototype.convertPropsToMoment = /**
         * @param {?} obj
         * @param {?} format
         * @param {?} props
         * @return {?}
         */
            function (obj, format, props) {
                var _this = this;
                props.forEach(function (prop) {
                    if (obj.hasOwnProperty(prop)) {
                        obj[prop] = _this.convertToMoment(obj[prop], format);
                    }
                });
            };
        /**
         * @template T
         * @param {?} prevConf
         * @param {?} currentConf
         * @return {?}
         */
        UtilsService.prototype.shouldResetCurrentView = /**
         * @template T
         * @param {?} prevConf
         * @param {?} currentConf
         * @return {?}
         */
            function (prevConf, currentConf) {
                if (prevConf && currentConf) {
                    if (!prevConf.min && currentConf.min) {
                        return true;
                    }
                    else if (prevConf.min && currentConf.min && !prevConf.min.isSame(currentConf.min, 'd')) {
                        return true;
                    }
                    else if (!prevConf.max && currentConf.max) {
                        return true;
                    }
                    else if (prevConf.max && currentConf.max && !prevConf.max.isSame(currentConf.max, 'd')) {
                        return true;
                    }
                    return false;
                }
                return false;
            };
        /**
         * @param {?} elem
         * @return {?}
         */
        UtilsService.prototype.getNativeElement = /**
         * @param {?} elem
         * @return {?}
         */
            function (elem) {
                if (!elem) {
                    return null;
                }
                else if (typeof elem === 'string') {
                    return ( /** @type {?} */(document.querySelector(elem)));
                }
                else {
                    return elem;
                }
            };
        UtilsService.decorators = [
            { type: core.Injectable }
        ];
        return UtilsService;
    }());

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    var __assign = function () {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s)
                    if (Object.prototype.hasOwnProperty.call(s, p))
                        t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var moment$1 = momentNs;
    var DayCalendarService = /** @class */ (function () {
        function DayCalendarService(utilsService) {
            this.utilsService = utilsService;
            this.DAYS = ['su', 'mo', 'tu', 'we', 'th', 'fr', 'sa'];
            this.DEFAULT_CONFIG = {
                showNearMonthDays: true,
                showWeekNumbers: false,
                firstDayOfWeek: 'su',
                weekDayFormat: 'ddd',
                format: 'DD-MM-YYYY',
                allowMultiSelect: false,
                monthFormat: 'MMM, YYYY',
                enableMonthSelector: true,
                locale: moment$1.locale(),
                dayBtnFormat: 'DD',
                unSelectOnClick: true
            };
        }
        /**
         * @private
         * @param {?} currentMonth
         * @param {?} monthArray
         * @return {?}
         */
        DayCalendarService.prototype.removeNearMonthWeeks = /**
         * @private
         * @param {?} currentMonth
         * @param {?} monthArray
         * @return {?}
         */
            function (currentMonth, monthArray) {
                if (monthArray[monthArray.length - 1].find(function (day) { return day.date.isSame(currentMonth, 'month'); })) {
                    return monthArray;
                }
                else {
                    return monthArray.slice(0, -1);
                }
            };
        /**
         * @param {?} config
         * @return {?}
         */
        DayCalendarService.prototype.getConfig = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                /** @type {?} */
                var _config = ( /** @type {?} */(__assign({}, this.DEFAULT_CONFIG, this.utilsService.clearUndefined(config))));
                this.utilsService.convertPropsToMoment(_config, _config.format, ['min', 'max']);
                moment$1.locale(_config.locale);
                return _config;
            };
        /**
         * @param {?} firstDayOfWeek
         * @return {?}
         */
        DayCalendarService.prototype.generateDaysMap = /**
         * @param {?} firstDayOfWeek
         * @return {?}
         */
            function (firstDayOfWeek) {
                /** @type {?} */
                var firstDayIndex = this.DAYS.indexOf(firstDayOfWeek);
                /** @type {?} */
                var daysArr = this.DAYS.slice(firstDayIndex, 7).concat(this.DAYS.slice(0, firstDayIndex));
                return daysArr.reduce(function (map, day, index) {
                    map[day] = index;
                    return map;
                }, ( /** @type {?} */({})));
            };
        /**
         * @param {?} config
         * @param {?} month
         * @param {?} selected
         * @return {?}
         */
        DayCalendarService.prototype.generateMonthArray = /**
         * @param {?} config
         * @param {?} month
         * @param {?} selected
         * @return {?}
         */
            function (config, month, selected) {
                var _this = this;
                /** @type {?} */
                var monthArray = [];
                /** @type {?} */
                var firstDayOfWeekIndex = this.DAYS.indexOf(config.firstDayOfWeek);
                /** @type {?} */
                var firstDayOfBoard = month.clone().startOf('month');
                while (firstDayOfBoard.day() !== firstDayOfWeekIndex) {
                    firstDayOfBoard.subtract(1, 'day');
                }
                /** @type {?} */
                var current = firstDayOfBoard.clone();
                /** @type {?} */
                var prevMonth = month.clone().subtract(1, 'month');
                /** @type {?} */
                var nextMonth = month.clone().add(1, 'month');
                /** @type {?} */
                var today = moment$1();
                /** @type {?} */
                var daysOfCalendar = this.utilsService.createArray(42)
                    .reduce(function (array) {
                    array.push({
                        date: current.clone(),
                        selected: !!selected.find(function (selectedDay) { return current.isSame(selectedDay, 'day'); }),
                        currentMonth: current.isSame(month, 'month'),
                        prevMonth: current.isSame(prevMonth, 'month'),
                        nextMonth: current.isSame(nextMonth, 'month'),
                        currentDay: current.isSame(today, 'day'),
                        disabled: _this.isDateDisabled(current, config)
                    });
                    current.add(1, 'day');
                    return array;
                }, []);
                daysOfCalendar.forEach(function (day, index) {
                    /** @type {?} */
                    var weekIndex = Math.floor(index / 7);
                    if (!monthArray[weekIndex]) {
                        monthArray.push([]);
                    }
                    monthArray[weekIndex].push(day);
                });
                if (!config.showNearMonthDays) {
                    monthArray = this.removeNearMonthWeeks(month, monthArray);
                }
                return monthArray;
            };
        /**
         * @param {?} firstDayOfWeek
         * @return {?}
         */
        DayCalendarService.prototype.generateWeekdays = /**
         * @param {?} firstDayOfWeek
         * @return {?}
         */
            function (firstDayOfWeek) {
                /** @type {?} */
                var weekdayNames = {
                    su: moment$1().day(0),
                    mo: moment$1().day(1),
                    tu: moment$1().day(2),
                    we: moment$1().day(3),
                    th: moment$1().day(4),
                    fr: moment$1().day(5),
                    sa: moment$1().day(6)
                };
                /** @type {?} */
                var weekdays = [];
                /** @type {?} */
                var daysMap = this.generateDaysMap(firstDayOfWeek);
                for (var dayKey in daysMap) {
                    if (daysMap.hasOwnProperty(dayKey)) {
                        weekdays[daysMap[dayKey]] = weekdayNames[dayKey];
                    }
                }
                return weekdays;
            };
        /**
         * @param {?} date
         * @param {?} config
         * @return {?}
         */
        DayCalendarService.prototype.isDateDisabled = /**
         * @param {?} date
         * @param {?} config
         * @return {?}
         */
            function (date, config) {
                if (config.isDayDisabledCallback) {
                    return config.isDayDisabledCallback(date);
                }
                if (config.min && date.isBefore(config.min, 'day')) {
                    return true;
                }
                return !!(config.max && date.isAfter(config.max, 'day'));
            };
        // todo:: add unit tests
        // todo:: add unit tests
        /**
         * @param {?} config
         * @param {?} month
         * @return {?}
         */
        DayCalendarService.prototype.getHeaderLabel =
            // todo:: add unit tests
            /**
             * @param {?} config
             * @param {?} month
             * @return {?}
             */
            function (config, month) {
                if (config.monthFormatter) {
                    return config.monthFormatter(month);
                }
                return month.format(config.monthFormat);
            };
        // todo:: add unit tests
        // todo:: add unit tests
        /**
         * @param {?} min
         * @param {?} currentMonthView
         * @return {?}
         */
        DayCalendarService.prototype.shouldShowLeft =
            // todo:: add unit tests
            /**
             * @param {?} min
             * @param {?} currentMonthView
             * @return {?}
             */
            function (min, currentMonthView) {
                return min ? min.isBefore(currentMonthView, 'month') : true;
            };
        // todo:: add unit tests
        // todo:: add unit tests
        /**
         * @param {?} max
         * @param {?} currentMonthView
         * @return {?}
         */
        DayCalendarService.prototype.shouldShowRight =
            // todo:: add unit tests
            /**
             * @param {?} max
             * @param {?} currentMonthView
             * @return {?}
             */
            function (max, currentMonthView) {
                return max ? max.isAfter(currentMonthView, 'month') : true;
            };
        /**
         * @param {?} firstDayOfWeek
         * @return {?}
         */
        DayCalendarService.prototype.generateDaysIndexMap = /**
         * @param {?} firstDayOfWeek
         * @return {?}
         */
            function (firstDayOfWeek) {
                /** @type {?} */
                var firstDayIndex = this.DAYS.indexOf(firstDayOfWeek);
                /** @type {?} */
                var daysArr = this.DAYS.slice(firstDayIndex, 7).concat(this.DAYS.slice(0, firstDayIndex));
                return daysArr.reduce(function (map, day, index) {
                    map[index] = day;
                    return map;
                }, ( /** @type {?} */({})));
            };
        /**
         * @param {?} componentConfig
         * @return {?}
         */
        DayCalendarService.prototype.getMonthCalendarConfig = /**
         * @param {?} componentConfig
         * @return {?}
         */
            function (componentConfig) {
                return this.utilsService.clearUndefined({
                    min: componentConfig.min,
                    max: componentConfig.max,
                    format: componentConfig.format,
                    isNavHeaderBtnClickable: true,
                    allowMultiSelect: false,
                    yearFormat: componentConfig.yearFormat,
                    yearFormatter: componentConfig.yearFormatter,
                    monthBtnFormat: componentConfig.monthBtnFormat,
                    monthBtnFormatter: componentConfig.monthBtnFormatter,
                    monthBtnCssClassCallback: componentConfig.monthBtnCssClassCallback,
                    multipleYearsNavigateBy: componentConfig.multipleYearsNavigateBy,
                    showMultipleYearsNavigation: componentConfig.showMultipleYearsNavigation,
                    showGoToCurrent: componentConfig.showGoToCurrent
                });
            };
        /**
         * @param {?} config
         * @param {?} day
         * @return {?}
         */
        DayCalendarService.prototype.getDayBtnText = /**
         * @param {?} config
         * @param {?} day
         * @return {?}
         */
            function (config, day) {
                if (config.dayBtnFormatter) {
                    return config.dayBtnFormatter(day);
                }
                return day.format(config.dayBtnFormat);
            };
        /**
         * @param {?} config
         * @param {?} day
         * @return {?}
         */
        DayCalendarService.prototype.getDayBtnCssClass = /**
         * @param {?} config
         * @param {?} day
         * @return {?}
         */
            function (config, day) {
                if (config.dayBtnCssClassCallback) {
                    return config.dayBtnCssClassCallback(day);
                }
                return '';
            };
        DayCalendarService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        DayCalendarService.ctorParameters = function () {
            return [
                { type: UtilsService }
            ];
        };
        return DayCalendarService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var moment$2 = momentNs;
    /** @type {?} */
    var FIRST_PM_HOUR = 12;
    var TimeSelectService = /** @class */ (function () {
        function TimeSelectService(utilsService) {
            this.utilsService = utilsService;
            this.DEFAULT_CONFIG = {
                hours12Format: 'hh',
                hours24Format: 'HH',
                meridiemFormat: 'A',
                minutesFormat: 'mm',
                minutesInterval: 1,
                secondsFormat: 'ss',
                secondsInterval: 1,
                showSeconds: false,
                showTwentyFourHours: false,
                timeSeparator: ':',
                locale: moment$2.locale()
            };
        }
        /**
         * @param {?} config
         * @return {?}
         */
        TimeSelectService.prototype.getConfig = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                /** @type {?} */
                var timeConfigs = {
                    maxTime: this.utilsService.onlyTime(config && config.maxTime),
                    minTime: this.utilsService.onlyTime(config && config.minTime)
                };
                /** @type {?} */
                var _config = ( /** @type {?} */(__assign({}, this.DEFAULT_CONFIG, this.utilsService.clearUndefined(config), timeConfigs)));
                moment$2.locale(_config.locale);
                return _config;
            };
        /**
         * @param {?} config
         * @return {?}
         */
        TimeSelectService.prototype.getTimeFormat = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                return (config.showTwentyFourHours ? config.hours24Format : config.hours12Format)
                    + config.timeSeparator + config.minutesFormat
                    + (config.showSeconds ? (config.timeSeparator + config.secondsFormat) : '')
                    + (config.showTwentyFourHours ? '' : ' ' + config.meridiemFormat);
            };
        /**
         * @param {?} config
         * @param {?} t
         * @return {?}
         */
        TimeSelectService.prototype.getHours = /**
         * @param {?} config
         * @param {?} t
         * @return {?}
         */
            function (config, t) {
                /** @type {?} */
                var time = t || moment$2();
                return time && time.format(config.showTwentyFourHours ? config.hours24Format : config.hours12Format);
            };
        /**
         * @param {?} config
         * @param {?} t
         * @return {?}
         */
        TimeSelectService.prototype.getMinutes = /**
         * @param {?} config
         * @param {?} t
         * @return {?}
         */
            function (config, t) {
                /** @type {?} */
                var time = t || moment$2();
                return time && time.format(config.minutesFormat);
            };
        /**
         * @param {?} config
         * @param {?} t
         * @return {?}
         */
        TimeSelectService.prototype.getSeconds = /**
         * @param {?} config
         * @param {?} t
         * @return {?}
         */
            function (config, t) {
                /** @type {?} */
                var time = t || moment$2();
                return time && time.format(config.secondsFormat);
            };
        /**
         * @param {?} config
         * @param {?} time
         * @return {?}
         */
        TimeSelectService.prototype.getMeridiem = /**
         * @param {?} config
         * @param {?} time
         * @return {?}
         */
            function (config, time) {
                return time && time.format(config.meridiemFormat);
            };
        /**
         * @param {?} config
         * @param {?} time
         * @param {?} unit
         * @return {?}
         */
        TimeSelectService.prototype.decrease = /**
         * @param {?} config
         * @param {?} time
         * @param {?} unit
         * @return {?}
         */
            function (config, time, unit) {
                /** @type {?} */
                var amount = 1;
                switch (unit) {
                    case 'minute':
                        amount = config.minutesInterval;
                        break;
                    case 'second':
                        amount = config.secondsInterval;
                        break;
                }
                return time.clone().subtract(amount, unit);
            };
        /**
         * @param {?} config
         * @param {?} time
         * @param {?} unit
         * @return {?}
         */
        TimeSelectService.prototype.increase = /**
         * @param {?} config
         * @param {?} time
         * @param {?} unit
         * @return {?}
         */
            function (config, time, unit) {
                /** @type {?} */
                var amount = 1;
                switch (unit) {
                    case 'minute':
                        amount = config.minutesInterval;
                        break;
                    case 'second':
                        amount = config.secondsInterval;
                        break;
                }
                return time.clone().add(amount, unit);
            };
        /**
         * @param {?} time
         * @return {?}
         */
        TimeSelectService.prototype.toggleMeridiem = /**
         * @param {?} time
         * @return {?}
         */
            function (time) {
                if (time.hours() < FIRST_PM_HOUR) {
                    return time.clone().add(12, 'hour');
                }
                else {
                    return time.clone().subtract(12, 'hour');
                }
            };
        /**
         * @param {?} config
         * @param {?} time
         * @param {?} unit
         * @return {?}
         */
        TimeSelectService.prototype.shouldShowDecrease = /**
         * @param {?} config
         * @param {?} time
         * @param {?} unit
         * @return {?}
         */
            function (config, time, unit) {
                if (!config.min && !config.minTime) {
                    return true;
                }
                /** @type {?} */
                var newTime = this.decrease(config, time, unit);
                return (!config.min || config.min.isSameOrBefore(newTime))
                    && (!config.minTime || config.minTime.isSameOrBefore(this.utilsService.onlyTime(newTime)));
            };
        /**
         * @param {?} config
         * @param {?} time
         * @param {?} unit
         * @return {?}
         */
        TimeSelectService.prototype.shouldShowIncrease = /**
         * @param {?} config
         * @param {?} time
         * @param {?} unit
         * @return {?}
         */
            function (config, time, unit) {
                if (!config.max && !config.maxTime) {
                    return true;
                }
                /** @type {?} */
                var newTime = this.increase(config, time, unit);
                return (!config.max || config.max.isSameOrAfter(newTime))
                    && (!config.maxTime || config.maxTime.isSameOrAfter(this.utilsService.onlyTime(newTime)));
            };
        /**
         * @param {?} config
         * @param {?} time
         * @return {?}
         */
        TimeSelectService.prototype.shouldShowToggleMeridiem = /**
         * @param {?} config
         * @param {?} time
         * @return {?}
         */
            function (config, time) {
                if (!config.min && !config.max && !config.minTime && !config.maxTime) {
                    return true;
                }
                /** @type {?} */
                var newTime = this.toggleMeridiem(time);
                return (!config.max || config.max.isSameOrAfter(newTime))
                    && (!config.min || config.min.isSameOrBefore(newTime))
                    && (!config.maxTime || config.maxTime.isSameOrAfter(this.utilsService.onlyTime(newTime)))
                    && (!config.minTime || config.minTime.isSameOrBefore(this.utilsService.onlyTime(newTime)));
            };
        TimeSelectService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        TimeSelectService.ctorParameters = function () {
            return [
                { type: UtilsService }
            ];
        };
        return TimeSelectService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var moment$3 = momentNs;
    /** @type {?} */
    var DAY_FORMAT = 'YYYYMMDD';
    /** @type {?} */
    var TIME_FORMAT = 'HH:mm:ss';
    /** @type {?} */
    var COMBINED_FORMAT = DAY_FORMAT + TIME_FORMAT;
    var DayTimeCalendarService = /** @class */ (function () {
        function DayTimeCalendarService(utilsService, dayCalendarService, timeSelectService) {
            this.utilsService = utilsService;
            this.dayCalendarService = dayCalendarService;
            this.timeSelectService = timeSelectService;
            this.DEFAULT_CONFIG = {
                locale: moment$3.locale()
            };
        }
        /**
         * @param {?} config
         * @return {?}
         */
        DayTimeCalendarService.prototype.getConfig = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                /** @type {?} */
                var _config = __assign({}, this.DEFAULT_CONFIG, this.timeSelectService.getConfig(config), this.dayCalendarService.getConfig(config));
                moment$3.locale(config.locale);
                return _config;
            };
        /**
         * @param {?} current
         * @param {?} day
         * @param {?} config
         * @return {?}
         */
        DayTimeCalendarService.prototype.updateDay = /**
         * @param {?} current
         * @param {?} day
         * @param {?} config
         * @return {?}
         */
            function (current, day, config) {
                /** @type {?} */
                var time = current ? current : moment$3();
                /** @type {?} */
                var updated = moment$3(day.format(DAY_FORMAT) + time.format(TIME_FORMAT), COMBINED_FORMAT);
                if (config.min) {
                    /** @type {?} */
                    var min = ( /** @type {?} */(config.min));
                    updated = min.isAfter(updated) ? min : updated;
                }
                if (config.max) {
                    /** @type {?} */
                    var max = ( /** @type {?} */(config.max));
                    updated = max.isBefore(updated) ? max : updated;
                }
                return updated;
            };
        /**
         * @param {?} current
         * @param {?} time
         * @return {?}
         */
        DayTimeCalendarService.prototype.updateTime = /**
         * @param {?} current
         * @param {?} time
         * @return {?}
         */
            function (current, time) {
                /** @type {?} */
                var day = current ? current : moment$3();
                return moment$3(day.format(DAY_FORMAT) + time.format(TIME_FORMAT), COMBINED_FORMAT);
            };
        DayTimeCalendarService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        DayTimeCalendarService.ctorParameters = function () {
            return [
                { type: UtilsService },
                { type: DayCalendarService },
                { type: TimeSelectService }
            ];
        };
        return DayTimeCalendarService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var moment$4 = momentNs;
    var DatePickerService = /** @class */ (function () {
        function DatePickerService(utilsService, timeSelectService, daytimeCalendarService) {
            this.utilsService = utilsService;
            this.timeSelectService = timeSelectService;
            this.daytimeCalendarService = daytimeCalendarService;
            this.onPickerClosed = new core.EventEmitter();
            this.defaultConfig = {
                closeOnSelect: true,
                closeOnSelectDelay: 100,
                format: 'DD-MM-YYYY',
                openOnFocus: true,
                openOnClick: true,
                onOpenDelay: 0,
                disableKeypress: false,
                showNearMonthDays: true,
                showWeekNumbers: false,
                enableMonthSelector: true,
                showGoToCurrent: true,
                locale: moment$4.locale(),
                hideOnOutsideClick: true
            };
        }
        // todo:: add unit tests
        // todo:: add unit tests
        /**
         * @param {?} config
         * @param {?=} mode
         * @return {?}
         */
        DatePickerService.prototype.getConfig =
            // todo:: add unit tests
            /**
             * @param {?} config
             * @param {?=} mode
             * @return {?}
             */
            function (config, mode) {
                if (mode === void 0) {
                    mode = 'daytime';
                }
                /** @type {?} */
                var _config = ( /** @type {?} */(__assign({}, this.defaultConfig, { format: this.getDefaultFormatByMode(mode) }, this.utilsService.clearUndefined(config))));
                this.utilsService.convertPropsToMoment(_config, _config.format, ['min', 'max']);
                if (config && config.allowMultiSelect && config.closeOnSelect === undefined) {
                    _config.closeOnSelect = false;
                }
                moment$4.locale(_config.locale);
                return _config;
            };
        /**
         * @param {?} pickerConfig
         * @return {?}
         */
        DatePickerService.prototype.getDayConfigService = /**
         * @param {?} pickerConfig
         * @return {?}
         */
            function (pickerConfig) {
                return {
                    min: pickerConfig.min,
                    max: pickerConfig.max,
                    isDayDisabledCallback: pickerConfig.isDayDisabledCallback,
                    weekDayFormat: pickerConfig.weekDayFormat,
                    showNearMonthDays: pickerConfig.showNearMonthDays,
                    showWeekNumbers: pickerConfig.showWeekNumbers,
                    firstDayOfWeek: pickerConfig.firstDayOfWeek,
                    format: pickerConfig.format,
                    allowMultiSelect: pickerConfig.allowMultiSelect,
                    monthFormat: pickerConfig.monthFormat,
                    monthFormatter: pickerConfig.monthFormatter,
                    enableMonthSelector: pickerConfig.enableMonthSelector,
                    yearFormat: pickerConfig.yearFormat,
                    yearFormatter: pickerConfig.yearFormatter,
                    dayBtnFormat: pickerConfig.dayBtnFormat,
                    dayBtnFormatter: pickerConfig.dayBtnFormatter,
                    dayBtnCssClassCallback: pickerConfig.dayBtnCssClassCallback,
                    monthBtnFormat: pickerConfig.monthBtnFormat,
                    monthBtnFormatter: pickerConfig.monthBtnFormatter,
                    monthBtnCssClassCallback: pickerConfig.monthBtnCssClassCallback,
                    multipleYearsNavigateBy: pickerConfig.multipleYearsNavigateBy,
                    showMultipleYearsNavigation: pickerConfig.showMultipleYearsNavigation,
                    locale: pickerConfig.locale,
                    returnedValueType: pickerConfig.returnedValueType,
                    showGoToCurrent: pickerConfig.showGoToCurrent,
                    unSelectOnClick: pickerConfig.unSelectOnClick
                };
            };
        /**
         * @param {?} pickerConfig
         * @return {?}
         */
        DatePickerService.prototype.getDayTimeConfigService = /**
         * @param {?} pickerConfig
         * @return {?}
         */
            function (pickerConfig) {
                return this.daytimeCalendarService.getConfig(pickerConfig);
            };
        /**
         * @param {?} pickerConfig
         * @return {?}
         */
        DatePickerService.prototype.getTimeConfigService = /**
         * @param {?} pickerConfig
         * @return {?}
         */
            function (pickerConfig) {
                return this.timeSelectService.getConfig(pickerConfig);
            };
        /**
         * @return {?}
         */
        DatePickerService.prototype.pickerClosed = /**
         * @return {?}
         */
            function () {
                this.onPickerClosed.emit();
            };
        // todo:: add unit tests
        // todo:: add unit tests
        /**
         * @param {?} value
         * @param {?} config
         * @return {?}
         */
        DatePickerService.prototype.isValidInputDateValue =
            // todo:: add unit tests
            /**
             * @param {?} value
             * @param {?} config
             * @return {?}
             */
            function (value, config) {
                var _this = this;
                value = value ? value : '';
                /** @type {?} */
                var datesStrArr = this.utilsService.datesStringToStringArray(value);
                return datesStrArr.every(function (date) { return _this.utilsService.isDateValid(date, config.format); });
            };
        // todo:: add unit tests
        // todo:: add unit tests
        /**
         * @param {?} value
         * @param {?} config
         * @return {?}
         */
        DatePickerService.prototype.convertInputValueToMomentArray =
            // todo:: add unit tests
            /**
             * @param {?} value
             * @param {?} config
             * @return {?}
             */
            function (value, config) {
                value = value ? value : '';
                /** @type {?} */
                var datesStrArr = this.utilsService.datesStringToStringArray(value);
                return this.utilsService.convertToMomentArray(datesStrArr, config.format, config.allowMultiSelect);
            };
        /**
         * @private
         * @param {?} mode
         * @return {?}
         */
        DatePickerService.prototype.getDefaultFormatByMode = /**
         * @private
         * @param {?} mode
         * @return {?}
         */
            function (mode) {
                switch (mode) {
                    case 'day':
                        return 'DD-MM-YYYY';
                    case 'daytime':
                        return 'DD-MM-YYYY HH:mm:ss';
                    case 'time':
                        return 'HH:mm:ss';
                    case 'month':
                        return 'MMM, YYYY';
                }
            };
        DatePickerService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        DatePickerService.ctorParameters = function () {
            return [
                { type: UtilsService },
                { type: TimeSelectService },
                { type: DayTimeCalendarService }
            ];
        };
        return DatePickerService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DatePickerComponent = /** @class */ (function () {
        function DatePickerComponent(dayPickerService, domHelper, elemRef, renderer, utilsService, cd) {
            this.dayPickerService = dayPickerService;
            this.domHelper = domHelper;
            this.elemRef = elemRef;
            this.renderer = renderer;
            this.utilsService = utilsService;
            this.cd = cd;
            this.isInitialized = false;
            this.mode = 'day';
            this.placeholder = '';
            this.disabled = false;
            this.open = new core.EventEmitter();
            this.close = new core.EventEmitter();
            this.onChange = new core.EventEmitter();
            this.onGoToCurrent = new core.EventEmitter();
            this.onLeftNav = new core.EventEmitter();
            this.onRightNav = new core.EventEmitter();
            this.onSelect = new core.EventEmitter();
            this._areCalendarsShown = false;
            this.hideStateHelper = false;
            this._selected = [];
            this.isFocusedTrigger = false;
            this.handleInnerElementClickUnlisteners = [];
            this.globalListenersUnlisteners = [];
            this.api = {
                open: this.showCalendars.bind(this),
                close: this.hideCalendar.bind(this),
                moveCalendarTo: this.moveCalendarTo.bind(this)
            };
            this.selectEvent = SelectEvent;
        }
        Object.defineProperty(DatePickerComponent.prototype, "selected", {
            get: /**
             * @return {?}
             */ function () {
                return this._selected;
            },
            set: /**
             * @param {?} selected
             * @return {?}
             */ function (selected) {
                this._selected = selected;
                this.inputElementValue = (( /** @type {?} */(this.utilsService
                    .convertFromMomentArray(this.componentConfig.format, selected, ECalendarValue.StringArr))))
                    .join(' | ');
                /** @type {?} */
                var val = this.processOnChangeCallback(selected);
                this.onChangeCallback(val, false);
                this.onChange.emit(val);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerComponent.prototype, "areCalendarsShown", {
            get: /**
             * @return {?}
             */ function () {
                return this._areCalendarsShown;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                if (value) {
                    this.startGlobalListeners();
                    this.domHelper.appendElementToPosition({
                        container: this.appendToElement,
                        element: this.calendarWrapper,
                        anchor: this.inputElementContainer,
                        dimElem: this.popupElem,
                        drops: this.componentConfig.drops,
                        opens: this.componentConfig.opens
                    });
                }
                else {
                    this.stopGlobalListeners();
                    this.dayPickerService.pickerClosed();
                }
                this._areCalendarsShown = value;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerComponent.prototype, "openOnFocus", {
            get: /**
             * @return {?}
             */ function () {
                return this.componentConfig.openOnFocus;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerComponent.prototype, "openOnClick", {
            get: /**
             * @return {?}
             */ function () {
                return this.componentConfig.openOnClick;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerComponent.prototype, "currentDateView", {
            get: /**
             * @return {?}
             */ function () {
                return this._currentDateView;
            },
            set: /**
             * @param {?} date
             * @return {?}
             */ function (date) {
                this._currentDateView = date;
                if (this.dayCalendarRef) {
                    this.dayCalendarRef.moveCalendarTo(date);
                }
                if (this.monthCalendarRef) {
                    this.monthCalendarRef.moveCalendarTo(date);
                }
                if (this.dayTimeCalendarRef) {
                    this.dayTimeCalendarRef.moveCalendarTo(date);
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.onClick = /**
         * @return {?}
         */
            function () {
                if (!this.openOnClick) {
                    return;
                }
                if (!this.isFocusedTrigger && !this.disabled) {
                    this.hideStateHelper = true;
                    if (!this.areCalendarsShown) {
                        this.showCalendars();
                    }
                }
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.onBodyClick = /**
         * @return {?}
         */
            function () {
                if (this.componentConfig.hideOnOutsideClick) {
                    if (!this.hideStateHelper && this.areCalendarsShown) {
                        this.hideCalendar();
                    }
                    this.hideStateHelper = false;
                }
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.onScroll = /**
         * @return {?}
         */
            function () {
                if (this.areCalendarsShown) {
                    this.domHelper.setElementPosition({
                        container: this.appendToElement,
                        element: this.calendarWrapper,
                        anchor: this.inputElementContainer,
                        dimElem: this.popupElem,
                        drops: this.componentConfig.drops,
                        opens: this.componentConfig.opens
                    });
                }
            };
        /**
         * @param {?} value
         * @return {?}
         */
        DatePickerComponent.prototype.writeValue = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                this.inputValue = value;
                if (value || value === '') {
                    this.selected = this.utilsService
                        .convertToMomentArray(value, this.componentConfig.format, this.componentConfig.allowMultiSelect);
                    this.init();
                }
                else {
                    this.selected = [];
                }
                this.cd.markForCheck();
            };
        /**
         * @param {?} fn
         * @return {?}
         */
        DatePickerComponent.prototype.registerOnChange = /**
         * @param {?} fn
         * @return {?}
         */
            function (fn) {
                this.onChangeCallback = fn;
            };
        /**
         * @param {?} _
         * @param {?} changedByInput
         * @return {?}
         */
        DatePickerComponent.prototype.onChangeCallback = /**
         * @param {?} _
         * @param {?} changedByInput
         * @return {?}
         */
            function (_, changedByInput) {
            };
        /**
         * @param {?} fn
         * @return {?}
         */
        DatePickerComponent.prototype.registerOnTouched = /**
         * @param {?} fn
         * @return {?}
         */
            function (fn) {
                this.onTouchedCallback = fn;
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.onTouchedCallback = /**
         * @return {?}
         */
            function () {
            };
        /**
         * @param {?} formControl
         * @return {?}
         */
        DatePickerComponent.prototype.validate = /**
         * @param {?} formControl
         * @return {?}
         */
            function (formControl) {
                return this.validateFn(formControl.value);
            };
        /**
         * @param {?} selected
         * @return {?}
         */
        DatePickerComponent.prototype.processOnChangeCallback = /**
         * @param {?} selected
         * @return {?}
         */
            function (selected) {
                if (typeof selected === 'string') {
                    return selected;
                }
                else {
                    return this.utilsService.convertFromMomentArray(this.componentConfig.format, selected, this.componentConfig.returnedValueType || this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect));
                }
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.initValidators = /**
         * @return {?}
         */
            function () {
                this.validateFn = this.utilsService.createValidator({
                    minDate: this.minDate,
                    maxDate: this.maxDate,
                    minTime: this.minTime,
                    maxTime: this.maxTime
                }, this.componentConfig.format, this.mode);
                this.onChangeCallback(this.processOnChangeCallback(this.selected), false);
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.isInitialized = true;
                this.init();
                this.initValidators();
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        DatePickerComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (this.isInitialized) {
                    var minDate = changes.minDate, maxDate = changes.maxDate, minTime = changes.minTime, maxTime = changes.maxTime;
                    this.init();
                    if (minDate || maxDate || minTime || maxTime) {
                        this.initValidators();
                    }
                }
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
                this.setElementPositionInDom();
            };
        /**
         * @param {?} isDisabled
         * @return {?}
         */
        DatePickerComponent.prototype.setDisabledState = /**
         * @param {?} isDisabled
         * @return {?}
         */
            function (isDisabled) {
                this.disabled = isDisabled;
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.setElementPositionInDom = /**
         * @return {?}
         */
            function () {
                this.calendarWrapper = ( /** @type {?} */(this.calendarContainer.nativeElement));
                this.setInputElementContainer();
                this.popupElem = this.elemRef.nativeElement.querySelector('.dp-popup');
                this.handleInnerElementClick(this.popupElem);
                var appendTo = this.componentConfig.appendTo;
                if (appendTo) {
                    if (typeof appendTo === 'string') {
                        this.appendToElement = ( /** @type {?} */(document.querySelector(( /** @type {?} */(appendTo)))));
                    }
                    else {
                        this.appendToElement = ( /** @type {?} */(appendTo));
                    }
                }
                else {
                    this.appendToElement = this.elemRef.nativeElement;
                }
                this.appendToElement.appendChild(this.calendarWrapper);
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.setInputElementContainer = /**
         * @return {?}
         */
            function () {
                this.inputElementContainer = this.utilsService.getNativeElement(this.componentConfig.inputElementContainer)
                    || this.elemRef.nativeElement.querySelector('.dp-input-container')
                    || document.body;
            };
        /**
         * @param {?} element
         * @return {?}
         */
        DatePickerComponent.prototype.handleInnerElementClick = /**
         * @param {?} element
         * @return {?}
         */
            function (element) {
                var _this = this;
                this.handleInnerElementClickUnlisteners.push(this.renderer.listen(element, 'click', function () {
                    _this.hideStateHelper = true;
                }));
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.init = /**
         * @return {?}
         */
            function () {
                this.componentConfig = this.dayPickerService.getConfig(this.config, this.mode);
                this.currentDateView = this.displayDate
                    ? this.utilsService.convertToMoment(this.displayDate, this.componentConfig.format).clone()
                    : this.utilsService
                        .getDefaultDisplayDate(this.currentDateView, this.selected, this.componentConfig.allowMultiSelect, this.componentConfig.min);
                this.dayCalendarConfig = this.dayPickerService.getDayConfigService(this.componentConfig);
                this.dayTimeCalendarConfig = this.dayPickerService.getDayTimeConfigService(this.componentConfig);
                this.timeSelectConfig = this.dayPickerService.getTimeConfigService(this.componentConfig);
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.inputFocused = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (!this.openOnFocus) {
                    return;
                }
                this.isFocusedTrigger = true;
                setTimeout(function () {
                    if (!_this.areCalendarsShown) {
                        _this.showCalendars();
                    }
                    _this.hideStateHelper = false;
                    _this.isFocusedTrigger = false;
                    _this.cd.markForCheck();
                }, this.componentConfig.onOpenDelay);
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.inputBlurred = /**
         * @return {?}
         */
            function () {
                this.onTouchedCallback();
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.showCalendars = /**
         * @return {?}
         */
            function () {
                this.hideStateHelper = true;
                this.areCalendarsShown = true;
                if (this.timeSelectRef) {
                    this.timeSelectRef.api.triggerChange();
                }
                this.open.emit();
                this.cd.markForCheck();
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.hideCalendar = /**
         * @return {?}
         */
            function () {
                this.areCalendarsShown = false;
                if (this.dayCalendarRef) {
                    this.dayCalendarRef.api.toggleCalendarMode(ECalendarMode.Day);
                }
                this.close.emit();
                this.cd.markForCheck();
            };
        /**
         * @param {?} value
         * @return {?}
         */
        DatePickerComponent.prototype.onViewDateChange = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                /** @type {?} */
                var strVal = value ? this.utilsService.convertToString(value, this.componentConfig.format) : '';
                if (this.dayPickerService.isValidInputDateValue(strVal, this.componentConfig)) {
                    this.selected = this.dayPickerService.convertInputValueToMomentArray(strVal, this.componentConfig);
                    this.currentDateView = this.selected.length
                        ? this.utilsService.getDefaultDisplayDate(null, this.selected, this.componentConfig.allowMultiSelect, this.componentConfig.min)
                        : this.currentDateView;
                    this.onSelect.emit({
                        date: strVal,
                        type: SelectEvent.INPUT,
                        granularity: null
                    });
                }
                else {
                    this._selected = this.utilsService
                        .getValidMomentArray(strVal, this.componentConfig.format);
                    this.onChangeCallback(this.processOnChangeCallback(strVal), true);
                }
            };
        /**
         * @param {?} date
         * @param {?} granularity
         * @param {?} type
         * @param {?=} ignoreClose
         * @return {?}
         */
        DatePickerComponent.prototype.dateSelected = /**
         * @param {?} date
         * @param {?} granularity
         * @param {?} type
         * @param {?=} ignoreClose
         * @return {?}
         */
            function (date, granularity, type, ignoreClose) {
                this.selected = this.utilsService
                    .updateSelected(this.componentConfig.allowMultiSelect, this.selected, date, granularity);
                if (!ignoreClose) {
                    this.onDateClick();
                }
                this.onSelect.emit({
                    date: date.date,
                    granularity: granularity,
                    type: type
                });
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.onDateClick = /**
         * @return {?}
         */
            function () {
                if (this.componentConfig.closeOnSelect) {
                    setTimeout(this.hideCalendar.bind(this), this.componentConfig.closeOnSelectDelay);
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        DatePickerComponent.prototype.onKeyPress = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                switch (event.keyCode) {
                    case (9):
                    case (27):
                        this.hideCalendar();
                        break;
                }
            };
        /**
         * @param {?} date
         * @return {?}
         */
        DatePickerComponent.prototype.moveCalendarTo = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                /** @type {?} */
                var momentDate = this.utilsService.convertToMoment(date, this.componentConfig.format);
                this.currentDateView = momentDate;
            };
        /**
         * @param {?} change
         * @return {?}
         */
        DatePickerComponent.prototype.onLeftNavClick = /**
         * @param {?} change
         * @return {?}
         */
            function (change) {
                this.onLeftNav.emit(change);
            };
        /**
         * @param {?} change
         * @return {?}
         */
        DatePickerComponent.prototype.onRightNavClick = /**
         * @param {?} change
         * @return {?}
         */
            function (change) {
                this.onRightNav.emit(change);
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.startGlobalListeners = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.globalListenersUnlisteners.push(this.renderer.listen(document, 'keydown', function (e) {
                    _this.onKeyPress(e);
                }), this.renderer.listen(document, 'scroll', function () {
                    _this.onScroll();
                }), this.renderer.listen(document, 'click', function () {
                    _this.onBodyClick();
                }));
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.stopGlobalListeners = /**
         * @return {?}
         */
            function () {
                this.globalListenersUnlisteners.forEach(function (ul) { return ul(); });
                this.globalListenersUnlisteners = [];
            };
        /**
         * @return {?}
         */
        DatePickerComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.handleInnerElementClickUnlisteners.forEach(function (ul) { return ul(); });
                if (this.appendToElement) {
                    this.appendToElement.removeChild(this.calendarWrapper);
                }
            };
        DatePickerComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'dp-date-picker',
                        template: "<div [ngClass]=\"{'dp-open': areCalendarsShown}\">\n  <div class=\"dp-input-container\"\n       [hidden]=\"componentConfig.hideInputContainer\"\n       [attr.data-hidden]=\"componentConfig.hideInputContainer\">\n    <input type=\"text\"\n           class=\"dp-picker-input\"\n           [placeholder]=\"placeholder\"\n           [ngModel]=\"inputElementValue\"\n           (ngModelChange)=\"onViewDateChange($event)\"\n           (focus)=\"inputFocused()\"\n           (blur)=\"inputBlurred()\"\n           [readonly]=\"componentConfig.disableKeypress\"\n           [disabled]=\"disabled\"/>\n  </div>\n  <div #container>\n    <div class=\"dp-popup {{theme}}\"\n         [ngSwitch]=\"mode\"\n         [hidden]=\"!_areCalendarsShown\"\n         [attr.data-hidden]=\"!_areCalendarsShown\">\n      <dp-day-calendar #dayCalendar\n                       *ngSwitchCase=\"'day'\"\n                       [config]=\"dayCalendarConfig\"\n                       [ngModel]=\"_selected\"\n                       [displayDate]=\"displayDate\"\n                       [theme]=\"theme\"\n                       (onSelect)=\"dateSelected($event, 'day', selectEvent.SELECTION, false)\"\n                       (onGoToCurrent)=\"onGoToCurrent.emit()\"\n                       (onLeftNav)=\"onLeftNavClick($event)\"\n                       (onRightNav)=\"onRightNavClick($event)\">\n      </dp-day-calendar>\n\n      <dp-month-calendar #monthCalendar\n                         *ngSwitchCase=\"'month'\"\n                         [config]=\"dayCalendarConfig\"\n                         [ngModel]=\"_selected\"\n                         [displayDate]=\"displayDate\"\n                         [theme]=\"theme\"\n                         (onSelect)=\"dateSelected($event, 'month', selectEvent.SELECTION, false)\"\n                         (onGoToCurrent)=\"onGoToCurrent.emit()\"\n                         (onLeftNav)=\"onLeftNavClick($event)\"\n                         (onRightNav)=\"onRightNavClick($event)\">\n      </dp-month-calendar>\n\n      <dp-time-select #timeSelect\n                      *ngSwitchCase=\"'time'\"\n                      [config]=\"timeSelectConfig\"\n                      [ngModel]=\"_selected && _selected[0]\"\n                      (onChange)=\"dateSelected($event, 'second', selectEvent.SELECTION, true)\"\n                      [theme]=\"theme\">\n      </dp-time-select>\n\n      <dp-day-time-calendar #daytimeCalendar\n                            *ngSwitchCase=\"'daytime'\"\n                            [config]=\"dayTimeCalendarConfig\"\n                            [displayDate]=\"displayDate\"\n                            [ngModel]=\"_selected && _selected[0]\"\n                            [theme]=\"theme\"\n                            (onChange)=\"dateSelected($event, 'second', selectEvent.SELECTION, true)\"\n                            (onGoToCurrent)=\"onGoToCurrent.emit()\"\n                            (onLeftNav)=\"onLeftNavClick($event)\"\n                            (onRightNav)=\"onRightNavClick($event)\">\n      </dp-day-time-calendar>\n    </div>\n  </div>\n</div>\n",
                        encapsulation: core.ViewEncapsulation.None,
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        providers: [
                            DatePickerService,
                            DayTimeCalendarService,
                            DayCalendarService,
                            TimeSelectService,
                            {
                                provide: forms.NG_VALUE_ACCESSOR,
                                useExisting: core.forwardRef(function () { return DatePickerComponent; }),
                                multi: true
                            },
                            {
                                provide: forms.NG_VALIDATORS,
                                useExisting: core.forwardRef(function () { return DatePickerComponent; }),
                                multi: true
                            }
                        ],
                        styles: ["dp-date-picker{display:inline-block}dp-date-picker.dp-material .dp-picker-input{box-sizing:border-box;height:30px;width:213px;font-size:13px;outline:0}dp-date-picker .dp-input-container{position:relative}dp-date-picker .dp-selected{background:#106cc8;color:#fff}.dp-popup{position:relative;background:#fff;box-shadow:1px 1px 5px 0 rgba(0,0,0,.1);border-left:1px solid rgba(0,0,0,.1);border-right:1px solid rgba(0,0,0,.1);border-bottom:1px solid rgba(0,0,0,.1);z-index:9999;white-space:nowrap}"]
                    }] }
        ];
        /** @nocollapse */
        DatePickerComponent.ctorParameters = function () {
            return [
                { type: DatePickerService },
                { type: DomHelper },
                { type: core.ElementRef },
                { type: core.Renderer },
                { type: UtilsService },
                { type: core.ChangeDetectorRef }
            ];
        };
        DatePickerComponent.propDecorators = {
            config: [{ type: core.Input }],
            mode: [{ type: core.Input }],
            placeholder: [{ type: core.Input }],
            disabled: [{ type: core.Input }],
            displayDate: [{ type: core.Input }],
            theme: [{ type: core.HostBinding, args: ['class',] }, { type: core.Input }],
            minDate: [{ type: core.Input }],
            maxDate: [{ type: core.Input }],
            minTime: [{ type: core.Input }],
            maxTime: [{ type: core.Input }],
            open: [{ type: core.Output }],
            close: [{ type: core.Output }],
            onChange: [{ type: core.Output }],
            onGoToCurrent: [{ type: core.Output }],
            onLeftNav: [{ type: core.Output }],
            onRightNav: [{ type: core.Output }],
            onSelect: [{ type: core.Output }],
            calendarContainer: [{ type: core.ViewChild, args: ['container',] }],
            dayCalendarRef: [{ type: core.ViewChild, args: ['dayCalendar',] }],
            monthCalendarRef: [{ type: core.ViewChild, args: ['monthCalendar',] }],
            dayTimeCalendarRef: [{ type: core.ViewChild, args: ['daytimeCalendar',] }],
            timeSelectRef: [{ type: core.ViewChild, args: ['timeSelect',] }],
            onClick: [{ type: core.HostListener, args: ['click',] }],
            onScroll: [{ type: core.HostListener, args: ['window:resize',] }]
        };
        return DatePickerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DatePickerDirectiveService = /** @class */ (function () {
        function DatePickerDirectiveService(utilsService) {
            this.utilsService = utilsService;
        }
        /**
         * @param {?} attachTo
         * @param {?} baseElement
         * @return {?}
         */
        DatePickerDirectiveService.prototype.convertToHTMLElement = /**
         * @param {?} attachTo
         * @param {?} baseElement
         * @return {?}
         */
            function (attachTo, baseElement) {
                if (typeof attachTo === 'string') {
                    return this.utilsService.closestParent(baseElement, attachTo);
                }
                else if (attachTo) {
                    return attachTo.nativeElement;
                }
                return undefined;
            };
        /**
         * @param {?=} config
         * @param {?=} baseElement
         * @param {?=} attachTo
         * @return {?}
         */
        DatePickerDirectiveService.prototype.getConfig = /**
         * @param {?=} config
         * @param {?=} baseElement
         * @param {?=} attachTo
         * @return {?}
         */
            function (config, baseElement, attachTo) {
                if (config === void 0) {
                    config = {};
                }
                /** @type {?} */
                var _config = __assign({}, config);
                _config.hideInputContainer = true;
                /** @type {?} */
                var native;
                if (config.inputElementContainer) {
                    native = this.utilsService.getNativeElement(config.inputElementContainer);
                }
                else {
                    native = baseElement ? baseElement.nativeElement : null;
                }
                if (native) {
                    _config.inputElementContainer = attachTo
                        ? this.convertToHTMLElement(attachTo, native)
                        : native;
                }
                return _config;
            };
        DatePickerDirectiveService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        DatePickerDirectiveService.ctorParameters = function () {
            return [
                { type: UtilsService }
            ];
        };
        return DatePickerDirectiveService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DatePickerDirective = /** @class */ (function () {
        function DatePickerDirective(viewContainerRef, elemRef, componentFactoryResolver, service, formControl, utilsService) {
            this.viewContainerRef = viewContainerRef;
            this.elemRef = elemRef;
            this.componentFactoryResolver = componentFactoryResolver;
            this.service = service;
            this.formControl = formControl;
            this.utilsService = utilsService;
            this._mode = 'day';
            this.open = new core.EventEmitter();
            this.close = new core.EventEmitter();
            this.onChange = new core.EventEmitter();
            this.onGoToCurrent = new core.EventEmitter();
            this.onLeftNav = new core.EventEmitter();
            this.onRightNav = new core.EventEmitter();
            this.onSelect = new core.EventEmitter();
        }
        Object.defineProperty(DatePickerDirective.prototype, "config", {
            get: /**
             * @return {?}
             */ function () {
                return this._config;
            },
            set: /**
             * @param {?} config
             * @return {?}
             */ function (config) {
                this._config = this.service.getConfig(config, this.viewContainerRef.element, this.attachTo);
                this.updateDatepickerConfig();
                this.markForCheck();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerDirective.prototype, "attachTo", {
            get: /**
             * @return {?}
             */ function () {
                return this._attachTo;
            },
            set: /**
             * @param {?} attachTo
             * @return {?}
             */ function (attachTo) {
                this._attachTo = attachTo;
                this._config = this.service.getConfig(this.config, this.viewContainerRef.element, this.attachTo);
                this.updateDatepickerConfig();
                this.markForCheck();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerDirective.prototype, "theme", {
            get: /**
             * @return {?}
             */ function () {
                return this._theme;
            },
            set: /**
             * @param {?} theme
             * @return {?}
             */ function (theme) {
                this._theme = theme;
                if (this.datePicker) {
                    this.datePicker.theme = theme;
                }
                this.markForCheck();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerDirective.prototype, "mode", {
            get: /**
             * @return {?}
             */ function () {
                return this._mode;
            },
            set: /**
             * @param {?} mode
             * @return {?}
             */ function (mode) {
                this._mode = mode;
                if (this.datePicker) {
                    this.datePicker.mode = mode;
                }
                this.markForCheck();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerDirective.prototype, "minDate", {
            get: /**
             * @return {?}
             */ function () {
                return this._minDate;
            },
            set: /**
             * @param {?} minDate
             * @return {?}
             */ function (minDate) {
                this._minDate = minDate;
                if (this.datePicker) {
                    this.datePicker.minDate = minDate;
                    this.datePicker.ngOnInit();
                }
                this.markForCheck();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerDirective.prototype, "maxDate", {
            get: /**
             * @return {?}
             */ function () {
                return this._maxDate;
            },
            set: /**
             * @param {?} maxDate
             * @return {?}
             */ function (maxDate) {
                this._maxDate = maxDate;
                if (this.datePicker) {
                    this.datePicker.maxDate = maxDate;
                    this.datePicker.ngOnInit();
                }
                this.markForCheck();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerDirective.prototype, "minTime", {
            get: /**
             * @return {?}
             */ function () {
                return this._minTime;
            },
            set: /**
             * @param {?} minTime
             * @return {?}
             */ function (minTime) {
                this._minTime = minTime;
                if (this.datePicker) {
                    this.datePicker.minTime = minTime;
                    this.datePicker.ngOnInit();
                }
                this.markForCheck();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerDirective.prototype, "maxTime", {
            get: /**
             * @return {?}
             */ function () {
                return this._maxTime;
            },
            set: /**
             * @param {?} maxTime
             * @return {?}
             */ function (maxTime) {
                this._maxTime = maxTime;
                if (this.datePicker) {
                    this.datePicker.maxTime = maxTime;
                    this.datePicker.ngOnInit();
                }
                this.markForCheck();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DatePickerDirective.prototype, "displayDate", {
            get: /**
             * @return {?}
             */ function () {
                return this._displayDate;
            },
            set: /**
             * @param {?} displayDate
             * @return {?}
             */ function (displayDate) {
                this._displayDate = displayDate;
                this.updateDatepickerConfig();
                this.markForCheck();
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        DatePickerDirective.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.datePicker = this.createDatePicker();
                this.api = this.datePicker.api;
                this.updateDatepickerConfig();
                this.attachModelToDatePicker();
                this.datePicker.theme = this.theme;
            };
        /**
         * @return {?}
         */
        DatePickerDirective.prototype.createDatePicker = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var factory = this.componentFactoryResolver.resolveComponentFactory(DatePickerComponent);
                return this.viewContainerRef.createComponent(factory).instance;
            };
        /**
         * @return {?}
         */
        DatePickerDirective.prototype.attachModelToDatePicker = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (!this.formControl) {
                    return;
                }
                this.datePicker.onViewDateChange(this.formControl.value);
                this.formControl.valueChanges.subscribe(function (value) {
                    if (value !== _this.datePicker.inputElementValue) {
                        /** @type {?} */
                        var strVal = _this.utilsService.convertToString(value, _this.datePicker.componentConfig.format);
                        _this.datePicker.onViewDateChange(strVal);
                    }
                });
                /** @type {?} */
                var setup = true;
                this.datePicker.registerOnChange(function (value, changedByInput) {
                    if (value) {
                        /** @type {?} */
                        var isMultiselectEmpty = setup && Array.isArray(value) && !value.length;
                        if (!isMultiselectEmpty && !changedByInput) {
                            _this.formControl.control.setValue(_this.datePicker.inputElementValue);
                        }
                    }
                    /** @type {?} */
                    var errors = _this.datePicker.validateFn(value);
                    if (!setup) {
                        _this.formControl.control.markAsDirty({
                            onlySelf: true
                        });
                    }
                    else {
                        setup = false;
                    }
                    if (errors) {
                        if (errors.hasOwnProperty('format')) {
                            var given = errors['format'].given;
                            _this.datePicker.inputElementValue = given;
                            if (!changedByInput) {
                                _this.formControl.control.setValue(given);
                            }
                        }
                        _this.formControl.control.setErrors(errors);
                    }
                });
            };
        /**
         * @return {?}
         */
        DatePickerDirective.prototype.onClick = /**
         * @return {?}
         */
            function () {
                this.datePicker.onClick();
            };
        /**
         * @return {?}
         */
        DatePickerDirective.prototype.onFocus = /**
         * @return {?}
         */
            function () {
                this.datePicker.inputFocused();
            };
        /**
         * @private
         * @return {?}
         */
        DatePickerDirective.prototype.updateDatepickerConfig = /**
         * @private
         * @return {?}
         */
            function () {
                if (this.datePicker) {
                    this.datePicker.minDate = this.minDate;
                    this.datePicker.maxDate = this.maxDate;
                    this.datePicker.minTime = this.minTime;
                    this.datePicker.maxTime = this.maxTime;
                    this.datePicker.mode = this.mode || 'day';
                    this.datePicker.displayDate = this.displayDate;
                    this.datePicker.config = this.config;
                    this.datePicker.open = this.open;
                    this.datePicker.close = this.close;
                    this.datePicker.onChange = this.onChange;
                    this.datePicker.onGoToCurrent = this.onGoToCurrent;
                    this.datePicker.onLeftNav = this.onLeftNav;
                    this.datePicker.onRightNav = this.onRightNav;
                    this.datePicker.onSelect = this.onSelect;
                    this.datePicker.init();
                    if (this.datePicker.componentConfig.disableKeypress) {
                        this.elemRef.nativeElement.setAttribute('readonly', true);
                    }
                    else {
                        this.elemRef.nativeElement.removeAttribute('readonly');
                    }
                }
            };
        /**
         * @return {?}
         */
        DatePickerDirective.prototype.markForCheck = /**
         * @return {?}
         */
            function () {
                if (this.datePicker) {
                    this.datePicker.cd.markForCheck();
                }
            };
        DatePickerDirective.decorators = [
            { type: core.Directive, args: [{
                        exportAs: 'dpDayPicker',
                        providers: [DatePickerDirectiveService],
                        selector: '[dpDayPicker]'
                    },] }
        ];
        /** @nocollapse */
        DatePickerDirective.ctorParameters = function () {
            return [
                { type: core.ViewContainerRef },
                { type: core.ElementRef },
                { type: core.ComponentFactoryResolver },
                { type: DatePickerDirectiveService },
                { type: forms.NgControl, decorators: [{ type: core.Optional }] },
                { type: UtilsService }
            ];
        };
        DatePickerDirective.propDecorators = {
            config: [{ type: core.Input, args: ['dpDayPicker',] }],
            attachTo: [{ type: core.Input }],
            theme: [{ type: core.Input }],
            mode: [{ type: core.Input }],
            minDate: [{ type: core.Input }],
            maxDate: [{ type: core.Input }],
            minTime: [{ type: core.Input }],
            maxTime: [{ type: core.Input }],
            displayDate: [{ type: core.Input }],
            open: [{ type: core.Output }],
            close: [{ type: core.Output }],
            onChange: [{ type: core.Output }],
            onGoToCurrent: [{ type: core.Output }],
            onLeftNav: [{ type: core.Output }],
            onRightNav: [{ type: core.Output }],
            onSelect: [{ type: core.Output }],
            onClick: [{ type: core.HostListener, args: ['click',] }],
            onFocus: [{ type: core.HostListener, args: ['focus',] }]
        };
        return DatePickerDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var moment$5 = momentNs;
    var DayCalendarComponent = /** @class */ (function () {
        function DayCalendarComponent(dayCalendarService, utilsService, cd) {
            this.dayCalendarService = dayCalendarService;
            this.utilsService = utilsService;
            this.cd = cd;
            this.onSelect = new core.EventEmitter();
            this.onMonthSelect = new core.EventEmitter();
            this.onNavHeaderBtnClick = new core.EventEmitter();
            this.onGoToCurrent = new core.EventEmitter();
            this.onLeftNav = new core.EventEmitter();
            this.onRightNav = new core.EventEmitter();
            this.CalendarMode = ECalendarMode;
            this.isInited = false;
            this.currentCalendarMode = ECalendarMode.Day;
            this._shouldShowCurrent = true;
            this.api = {
                moveCalendarsBy: this.moveCalendarsBy.bind(this),
                moveCalendarTo: this.moveCalendarTo.bind(this),
                toggleCalendarMode: this.toggleCalendarMode.bind(this)
            };
        }
        Object.defineProperty(DayCalendarComponent.prototype, "selected", {
            get: /**
             * @return {?}
             */ function () {
                return this._selected;
            },
            set: /**
             * @param {?} selected
             * @return {?}
             */ function (selected) {
                this._selected = selected;
                this.onChangeCallback(this.processOnChangeCallback(selected));
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(DayCalendarComponent.prototype, "currentDateView", {
            get: /**
             * @return {?}
             */ function () {
                return this._currentDateView;
            },
            set: /**
             * @param {?} current
             * @return {?}
             */ function (current) {
                this._currentDateView = current.clone();
                this.weeks = this.dayCalendarService
                    .generateMonthArray(this.componentConfig, this._currentDateView, this.selected);
                this.navLabel = this.dayCalendarService.getHeaderLabel(this.componentConfig, this._currentDateView);
                this.showLeftNav = this.dayCalendarService.shouldShowLeft(this.componentConfig.min, this.currentDateView);
                this.showRightNav = this.dayCalendarService.shouldShowRight(this.componentConfig.max, this.currentDateView);
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        DayCalendarComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.isInited = true;
                this.init();
                this.initValidators();
            };
        /**
         * @return {?}
         */
        DayCalendarComponent.prototype.init = /**
         * @return {?}
         */
            function () {
                this.componentConfig = this.dayCalendarService.getConfig(this.config);
                this.selected = this.selected || [];
                this.currentDateView = this.displayDate
                    ? this.utilsService.convertToMoment(this.displayDate, this.componentConfig.format).clone()
                    : this.utilsService
                        .getDefaultDisplayDate(this.currentDateView, this.selected, this.componentConfig.allowMultiSelect, this.componentConfig.min);
                this.weekdays = this.dayCalendarService
                    .generateWeekdays(this.componentConfig.firstDayOfWeek);
                this.inputValueType = this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect);
                this.monthCalendarConfig = this.dayCalendarService.getMonthCalendarConfig(this.componentConfig);
                this._shouldShowCurrent = this.shouldShowCurrent();
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        DayCalendarComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (this.isInited) {
                    var minDate = changes.minDate, maxDate = changes.maxDate, config = changes.config;
                    this.handleConfigChange(config);
                    this.init();
                    if (minDate || maxDate) {
                        this.initValidators();
                    }
                }
            };
        /**
         * @param {?} value
         * @return {?}
         */
        DayCalendarComponent.prototype.writeValue = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                this.inputValue = value;
                if (value) {
                    this.selected = this.utilsService
                        .convertToMomentArray(value, this.componentConfig.format, this.componentConfig.allowMultiSelect);
                    this.inputValueType = this.utilsService
                        .getInputType(this.inputValue, this.componentConfig.allowMultiSelect);
                }
                else {
                    this.selected = [];
                }
                this.weeks = this.dayCalendarService
                    .generateMonthArray(this.componentConfig, this.currentDateView, this.selected);
                this.cd.markForCheck();
            };
        /**
         * @param {?} fn
         * @return {?}
         */
        DayCalendarComponent.prototype.registerOnChange = /**
         * @param {?} fn
         * @return {?}
         */
            function (fn) {
                this.onChangeCallback = fn;
            };
        /**
         * @param {?} _
         * @return {?}
         */
        DayCalendarComponent.prototype.onChangeCallback = /**
         * @param {?} _
         * @return {?}
         */
            function (_) {
            };
        /**
         * @param {?} fn
         * @return {?}
         */
        DayCalendarComponent.prototype.registerOnTouched = /**
         * @param {?} fn
         * @return {?}
         */
            function (fn) {
            };
        /**
         * @param {?} formControl
         * @return {?}
         */
        DayCalendarComponent.prototype.validate = /**
         * @param {?} formControl
         * @return {?}
         */
            function (formControl) {
                if (this.minDate || this.maxDate) {
                    return this.validateFn(formControl.value);
                }
                else {
                    return function () { return null; };
                }
            };
        /**
         * @param {?} value
         * @return {?}
         */
        DayCalendarComponent.prototype.processOnChangeCallback = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return this.utilsService.convertFromMomentArray(this.componentConfig.format, value, this.componentConfig.returnedValueType || this.inputValueType);
            };
        /**
         * @return {?}
         */
        DayCalendarComponent.prototype.initValidators = /**
         * @return {?}
         */
            function () {
                this.validateFn = this.utilsService.createValidator({ minDate: this.minDate, maxDate: this.maxDate }, this.componentConfig.format, 'day');
                this.onChangeCallback(this.processOnChangeCallback(this.selected));
            };
        /**
         * @param {?} day
         * @return {?}
         */
        DayCalendarComponent.prototype.dayClicked = /**
         * @param {?} day
         * @return {?}
         */
            function (day) {
                if (day.selected && !this.componentConfig.unSelectOnClick) {
                    return;
                }
                this.selected = this.utilsService
                    .updateSelected(this.componentConfig.allowMultiSelect, this.selected, day);
                this.weeks = this.dayCalendarService
                    .generateMonthArray(this.componentConfig, this.currentDateView, this.selected);
                this.onSelect.emit(day);
            };
        /**
         * @param {?} day
         * @return {?}
         */
        DayCalendarComponent.prototype.getDayBtnText = /**
         * @param {?} day
         * @return {?}
         */
            function (day) {
                return this.dayCalendarService.getDayBtnText(this.componentConfig, day.date);
            };
        /**
         * @param {?} day
         * @return {?}
         */
        DayCalendarComponent.prototype.getDayBtnCssClass = /**
         * @param {?} day
         * @return {?}
         */
            function (day) {
                /** @type {?} */
                var cssClasses = {
                    'dp-selected': day.selected,
                    'dp-current-month': day.currentMonth,
                    'dp-prev-month': day.prevMonth,
                    'dp-next-month': day.nextMonth,
                    'dp-current-day': day.currentDay
                };
                /** @type {?} */
                var customCssClass = this.dayCalendarService.getDayBtnCssClass(this.componentConfig, day.date);
                if (customCssClass) {
                    cssClasses[customCssClass] = true;
                }
                return cssClasses;
            };
        /**
         * @return {?}
         */
        DayCalendarComponent.prototype.onLeftNavClick = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var from = this.currentDateView.clone();
                this.moveCalendarsBy(this.currentDateView, -1, 'month');
                /** @type {?} */
                var to = this.currentDateView.clone();
                this.onLeftNav.emit({ from: from, to: to });
            };
        /**
         * @return {?}
         */
        DayCalendarComponent.prototype.onRightNavClick = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var from = this.currentDateView.clone();
                this.moveCalendarsBy(this.currentDateView, 1, 'month');
                /** @type {?} */
                var to = this.currentDateView.clone();
                this.onRightNav.emit({ from: from, to: to });
            };
        /**
         * @param {?} change
         * @return {?}
         */
        DayCalendarComponent.prototype.onMonthCalendarLeftClick = /**
         * @param {?} change
         * @return {?}
         */
            function (change) {
                this.onLeftNav.emit(change);
            };
        /**
         * @param {?} change
         * @return {?}
         */
        DayCalendarComponent.prototype.onMonthCalendarRightClick = /**
         * @param {?} change
         * @return {?}
         */
            function (change) {
                this.onRightNav.emit(change);
            };
        /**
         * @param {?} change
         * @return {?}
         */
        DayCalendarComponent.prototype.onMonthCalendarSecondaryLeftClick = /**
         * @param {?} change
         * @return {?}
         */
            function (change) {
                this.onRightNav.emit(change);
            };
        /**
         * @param {?} change
         * @return {?}
         */
        DayCalendarComponent.prototype.onMonthCalendarSecondaryRightClick = /**
         * @param {?} change
         * @return {?}
         */
            function (change) {
                this.onLeftNav.emit(change);
            };
        /**
         * @param {?} weekday
         * @return {?}
         */
        DayCalendarComponent.prototype.getWeekdayName = /**
         * @param {?} weekday
         * @return {?}
         */
            function (weekday) {
                if (this.componentConfig.weekDayFormatter) {
                    return this.componentConfig.weekDayFormatter(weekday.day());
                }
                return weekday.format(this.componentConfig.weekDayFormat);
            };
        /**
         * @param {?} mode
         * @return {?}
         */
        DayCalendarComponent.prototype.toggleCalendarMode = /**
         * @param {?} mode
         * @return {?}
         */
            function (mode) {
                if (this.currentCalendarMode !== mode) {
                    this.currentCalendarMode = mode;
                    this.onNavHeaderBtnClick.emit(mode);
                }
                this.cd.markForCheck();
            };
        /**
         * @param {?} month
         * @return {?}
         */
        DayCalendarComponent.prototype.monthSelected = /**
         * @param {?} month
         * @return {?}
         */
            function (month) {
                this.currentDateView = month.date.clone();
                this.currentCalendarMode = ECalendarMode.Day;
                this.onMonthSelect.emit(month);
            };
        /**
         * @param {?} current
         * @param {?} amount
         * @param {?=} granularity
         * @return {?}
         */
        DayCalendarComponent.prototype.moveCalendarsBy = /**
         * @param {?} current
         * @param {?} amount
         * @param {?=} granularity
         * @return {?}
         */
            function (current, amount, granularity) {
                if (granularity === void 0) {
                    granularity = 'month';
                }
                this.currentDateView = current.clone().add(amount, granularity);
                this.cd.markForCheck();
            };
        /**
         * @param {?} to
         * @return {?}
         */
        DayCalendarComponent.prototype.moveCalendarTo = /**
         * @param {?} to
         * @return {?}
         */
            function (to) {
                if (to) {
                    this.currentDateView = this.utilsService.convertToMoment(to, this.componentConfig.format);
                }
                this.cd.markForCheck();
            };
        /**
         * @return {?}
         */
        DayCalendarComponent.prototype.shouldShowCurrent = /**
         * @return {?}
         */
            function () {
                return this.utilsService.shouldShowCurrent(this.componentConfig.showGoToCurrent, 'day', this.componentConfig.min, this.componentConfig.max);
            };
        /**
         * @return {?}
         */
        DayCalendarComponent.prototype.goToCurrent = /**
         * @return {?}
         */
            function () {
                this.currentDateView = moment$5();
                this.onGoToCurrent.emit();
            };
        /**
         * @param {?} config
         * @return {?}
         */
        DayCalendarComponent.prototype.handleConfigChange = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                if (config) {
                    /** @type {?} */
                    var prevConf = this.dayCalendarService.getConfig(config.previousValue);
                    /** @type {?} */
                    var currentConf = this.dayCalendarService.getConfig(config.currentValue);
                    if (this.utilsService.shouldResetCurrentView(prevConf, currentConf)) {
                        this._currentDateView = null;
                    }
                }
            };
        DayCalendarComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'dp-day-calendar',
                        template: "<div class=\"dp-day-calendar-container\" *ngIf=\"currentCalendarMode ===  CalendarMode.Day\">\n  <dp-calendar-nav\n      [label]=\"navLabel\"\n      [showLeftNav]=\"showLeftNav\"\n      [showRightNav]=\"showRightNav\"\n      [isLabelClickable]=\"componentConfig.enableMonthSelector\"\n      [showGoToCurrent]=\"_shouldShowCurrent\"\n      [theme]=\"theme\"\n      (onLeftNav)=\"onLeftNavClick()\"\n      (onRightNav)=\"onRightNavClick()\"\n      (onLabelClick)=\"toggleCalendarMode(CalendarMode.Month)\"\n      (onGoToCurrent)=\"goToCurrent()\">\n  </dp-calendar-nav>\n\n  <div class=\"dp-calendar-wrapper\"\n       [ngClass]=\"{'dp-hide-near-month': !componentConfig.showNearMonthDays}\">\n    <div class=\"dp-weekdays\">\n      <span class=\"dp-calendar-weekday\"\n            *ngFor=\"let weekday of weekdays\"\n            [innerText]=\"getWeekdayName(weekday)\">\n      </span>\n    </div>\n    <div class=\"dp-calendar-week\" *ngFor=\"let week of weeks\">\n      <span class=\"dp-week-number\"\n            *ngIf=\"componentConfig.showWeekNumbers\"\n            [innerText]=\"week[0].date.isoWeek()\">\n      </span>\n      <button type=\"button\"\n              class=\"dp-calendar-day\"\n              *ngFor=\"let day of week\"\n              [attr.data-date]=\"day.date.format(componentConfig.format)\"\n              (click)=\"dayClicked(day)\"\n              [disabled]=\"day.disabled\"\n              [ngClass]=\"getDayBtnCssClass(day)\"\n              [innerText]=\"getDayBtnText(day)\">\n      </button>\n    </div>\n  </div>\n</div>\n\n<dp-month-calendar\n    *ngIf=\"currentCalendarMode ===  CalendarMode.Month\"\n    [config]=\"monthCalendarConfig\"\n    [displayDate]=\"_currentDateView\"\n    [theme]=\"theme\"\n    (onSelect)=\"monthSelected($event)\"\n    (onNavHeaderBtnClick)=\"toggleCalendarMode(CalendarMode.Day)\"\n    (onLeftNav)=\"onMonthCalendarLeftClick($event)\"\n    (onRightNav)=\"onMonthCalendarRightClick($event)\"\n    (onLeftSecondaryNav)=\"onMonthCalendarSecondaryLeftClick($event)\"\n    (onRightSecondaryNav)=\"onMonthCalendarSecondaryRightClick($event)\">\n</dp-month-calendar>\n",
                        encapsulation: core.ViewEncapsulation.None,
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        providers: [
                            DayCalendarService,
                            {
                                provide: forms.NG_VALUE_ACCESSOR,
                                useExisting: core.forwardRef(function () { return DayCalendarComponent; }),
                                multi: true
                            },
                            {
                                provide: forms.NG_VALIDATORS,
                                useExisting: core.forwardRef(function () { return DayCalendarComponent; }),
                                multi: true
                            }
                        ],
                        styles: ["dp-day-calendar{display:inline-block}dp-day-calendar .dp-day-calendar-container{background:#fff}dp-day-calendar .dp-calendar-wrapper{box-sizing:border-box;border:1px solid #000}dp-day-calendar .dp-calendar-wrapper .dp-calendar-weekday:first-child{border-left:none}dp-day-calendar .dp-weekdays{font-size:15px;margin-bottom:5px}dp-day-calendar .dp-calendar-weekday{box-sizing:border-box;display:inline-block;width:30px;text-align:center;border-left:1px solid #000;border-bottom:1px solid #000}dp-day-calendar .dp-calendar-day{box-sizing:border-box;width:30px;height:30px;cursor:pointer}dp-day-calendar .dp-selected{background:#106cc8;color:#fff}dp-day-calendar .dp-next-month,dp-day-calendar .dp-prev-month{opacity:.5}dp-day-calendar .dp-hide-near-month .dp-next-month,dp-day-calendar .dp-hide-near-month .dp-prev-month{visibility:hidden}dp-day-calendar .dp-week-number{position:absolute;font-size:9px}dp-day-calendar.dp-material .dp-calendar-weekday{height:25px;width:30px;line-height:25px;color:#7a7a7a;border:none}dp-day-calendar.dp-material .dp-calendar-wrapper{border:1px solid #e0e0e0}dp-day-calendar.dp-material .dp-calendar-day,dp-day-calendar.dp-material .dp-calendar-month{box-sizing:border-box;background:#fff;border-radius:50%;border:none;outline:0}dp-day-calendar.dp-material .dp-calendar-day:hover,dp-day-calendar.dp-material .dp-calendar-month:hover{background:#e0e0e0}dp-day-calendar.dp-material .dp-selected{background:#106cc8;color:#fff}dp-day-calendar.dp-material .dp-selected:hover{background:#106cc8}dp-day-calendar.dp-material .dp-current-day{border:1px solid #106cc8}"]
                    }] }
        ];
        /** @nocollapse */
        DayCalendarComponent.ctorParameters = function () {
            return [
                { type: DayCalendarService },
                { type: UtilsService },
                { type: core.ChangeDetectorRef }
            ];
        };
        DayCalendarComponent.propDecorators = {
            config: [{ type: core.Input }],
            displayDate: [{ type: core.Input }],
            minDate: [{ type: core.Input }],
            maxDate: [{ type: core.Input }],
            theme: [{ type: core.HostBinding, args: ['class',] }, { type: core.Input }],
            onSelect: [{ type: core.Output }],
            onMonthSelect: [{ type: core.Output }],
            onNavHeaderBtnClick: [{ type: core.Output }],
            onGoToCurrent: [{ type: core.Output }],
            onLeftNav: [{ type: core.Output }],
            onRightNav: [{ type: core.Output }]
        };
        return DayCalendarComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var moment$6 = momentNs;
    var MonthCalendarService = /** @class */ (function () {
        function MonthCalendarService(utilsService) {
            this.utilsService = utilsService;
            this.DEFAULT_CONFIG = {
                allowMultiSelect: false,
                yearFormat: 'YYYY',
                format: 'MM-YYYY',
                isNavHeaderBtnClickable: false,
                monthBtnFormat: 'MMM',
                locale: moment$6.locale(),
                multipleYearsNavigateBy: 10,
                showMultipleYearsNavigation: false,
                unSelectOnClick: true
            };
        }
        /**
         * @param {?} config
         * @return {?}
         */
        MonthCalendarService.prototype.getConfig = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                /** @type {?} */
                var _config = ( /** @type {?} */(__assign({}, this.DEFAULT_CONFIG, this.utilsService.clearUndefined(config))));
                this.utilsService.convertPropsToMoment(_config, _config.format, ['min', 'max']);
                moment$6.locale(_config.locale);
                return _config;
            };
        /**
         * @param {?} config
         * @param {?} year
         * @param {?=} selected
         * @return {?}
         */
        MonthCalendarService.prototype.generateYear = /**
         * @param {?} config
         * @param {?} year
         * @param {?=} selected
         * @return {?}
         */
            function (config, year, selected) {
                var _this = this;
                if (selected === void 0) {
                    selected = null;
                }
                /** @type {?} */
                var index = year.clone().startOf('year');
                return this.utilsService.createArray(3).map(function () {
                    return _this.utilsService.createArray(4).map(function () {
                        /** @type {?} */
                        var date = index.clone();
                        /** @type {?} */
                        var month = {
                            date: date,
                            selected: !!selected.find(function (s) { return index.isSame(s, 'month'); }),
                            currentMonth: index.isSame(moment$6(), 'month'),
                            disabled: _this.isMonthDisabled(date, config),
                            text: _this.getMonthBtnText(config, date)
                        };
                        index.add(1, 'month');
                        return month;
                    });
                });
            };
        /**
         * @param {?} date
         * @param {?} config
         * @return {?}
         */
        MonthCalendarService.prototype.isMonthDisabled = /**
         * @param {?} date
         * @param {?} config
         * @return {?}
         */
            function (date, config) {
                if (config.min && date.isBefore(config.min, 'month')) {
                    return true;
                }
                return !!(config.max && date.isAfter(config.max, 'month'));
            };
        /**
         * @param {?} min
         * @param {?} currentMonthView
         * @return {?}
         */
        MonthCalendarService.prototype.shouldShowLeft = /**
         * @param {?} min
         * @param {?} currentMonthView
         * @return {?}
         */
            function (min, currentMonthView) {
                return min ? min.isBefore(currentMonthView, 'year') : true;
            };
        /**
         * @param {?} max
         * @param {?} currentMonthView
         * @return {?}
         */
        MonthCalendarService.prototype.shouldShowRight = /**
         * @param {?} max
         * @param {?} currentMonthView
         * @return {?}
         */
            function (max, currentMonthView) {
                return max ? max.isAfter(currentMonthView, 'year') : true;
            };
        /**
         * @param {?} config
         * @param {?} year
         * @return {?}
         */
        MonthCalendarService.prototype.getHeaderLabel = /**
         * @param {?} config
         * @param {?} year
         * @return {?}
         */
            function (config, year) {
                if (config.yearFormatter) {
                    return config.yearFormatter(year);
                }
                return year.format(config.yearFormat);
            };
        /**
         * @param {?} config
         * @param {?} month
         * @return {?}
         */
        MonthCalendarService.prototype.getMonthBtnText = /**
         * @param {?} config
         * @param {?} month
         * @return {?}
         */
            function (config, month) {
                if (config.monthBtnFormatter) {
                    return config.monthBtnFormatter(month);
                }
                return month.format(config.monthBtnFormat);
            };
        /**
         * @param {?} config
         * @param {?} month
         * @return {?}
         */
        MonthCalendarService.prototype.getMonthBtnCssClass = /**
         * @param {?} config
         * @param {?} month
         * @return {?}
         */
            function (config, month) {
                if (config.monthBtnCssClassCallback) {
                    return config.monthBtnCssClassCallback(month);
                }
                return '';
            };
        MonthCalendarService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        MonthCalendarService.ctorParameters = function () {
            return [
                { type: UtilsService }
            ];
        };
        return MonthCalendarService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var moment$7 = momentNs;
    var MonthCalendarComponent = /** @class */ (function () {
        function MonthCalendarComponent(monthCalendarService, utilsService, cd) {
            this.monthCalendarService = monthCalendarService;
            this.utilsService = utilsService;
            this.cd = cd;
            this.onSelect = new core.EventEmitter();
            this.onNavHeaderBtnClick = new core.EventEmitter();
            this.onGoToCurrent = new core.EventEmitter();
            this.onLeftNav = new core.EventEmitter();
            this.onRightNav = new core.EventEmitter();
            this.onLeftSecondaryNav = new core.EventEmitter();
            this.onRightSecondaryNav = new core.EventEmitter();
            this.isInited = false;
            this._shouldShowCurrent = true;
            this.api = {
                toggleCalendar: this.toggleCalendarMode.bind(this),
                moveCalendarTo: this.moveCalendarTo.bind(this)
            };
        }
        Object.defineProperty(MonthCalendarComponent.prototype, "selected", {
            get: /**
             * @return {?}
             */ function () {
                return this._selected;
            },
            set: /**
             * @param {?} selected
             * @return {?}
             */ function (selected) {
                this._selected = selected;
                this.onChangeCallback(this.processOnChangeCallback(selected));
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(MonthCalendarComponent.prototype, "currentDateView", {
            get: /**
             * @return {?}
             */ function () {
                return this._currentDateView;
            },
            set: /**
             * @param {?} current
             * @return {?}
             */ function (current) {
                this._currentDateView = current.clone();
                this.yearMonths = this.monthCalendarService
                    .generateYear(this.componentConfig, this._currentDateView, this.selected);
                this.navLabel = this.monthCalendarService.getHeaderLabel(this.componentConfig, this.currentDateView);
                this.showLeftNav = this.monthCalendarService.shouldShowLeft(this.componentConfig.min, this._currentDateView);
                this.showRightNav = this.monthCalendarService.shouldShowRight(this.componentConfig.max, this.currentDateView);
                this.showSecondaryLeftNav = this.componentConfig.showMultipleYearsNavigation && this.showLeftNav;
                this.showSecondaryRightNav = this.componentConfig.showMultipleYearsNavigation && this.showRightNav;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        MonthCalendarComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.isInited = true;
                this.init();
                this.initValidators();
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        MonthCalendarComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (this.isInited) {
                    var minDate = changes.minDate, maxDate = changes.maxDate, config = changes.config;
                    this.handleConfigChange(config);
                    this.init();
                    if (minDate || maxDate) {
                        this.initValidators();
                    }
                }
            };
        /**
         * @return {?}
         */
        MonthCalendarComponent.prototype.init = /**
         * @return {?}
         */
            function () {
                this.componentConfig = this.monthCalendarService.getConfig(this.config);
                this.selected = this.selected || [];
                this.currentDateView = this.displayDate
                    ? this.displayDate
                    : this.utilsService
                        .getDefaultDisplayDate(this.currentDateView, this.selected, this.componentConfig.allowMultiSelect, this.componentConfig.min);
                this.inputValueType = this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect);
                this._shouldShowCurrent = this.shouldShowCurrent();
            };
        /**
         * @param {?} value
         * @return {?}
         */
        MonthCalendarComponent.prototype.writeValue = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                this.inputValue = value;
                if (value) {
                    this.selected = this.utilsService
                        .convertToMomentArray(value, this.componentConfig.format, this.componentConfig.allowMultiSelect);
                    this.yearMonths = this.monthCalendarService
                        .generateYear(this.componentConfig, this.currentDateView, this.selected);
                    this.inputValueType = this.utilsService.getInputType(this.inputValue, this.componentConfig.allowMultiSelect);
                }
                else {
                    this.selected = [];
                    this.yearMonths = this.monthCalendarService
                        .generateYear(this.componentConfig, this.currentDateView, this.selected);
                }
                this.cd.markForCheck();
            };
        /**
         * @param {?} fn
         * @return {?}
         */
        MonthCalendarComponent.prototype.registerOnChange = /**
         * @param {?} fn
         * @return {?}
         */
            function (fn) {
                this.onChangeCallback = fn;
            };
        /**
         * @param {?} _
         * @return {?}
         */
        MonthCalendarComponent.prototype.onChangeCallback = /**
         * @param {?} _
         * @return {?}
         */
            function (_) {
            };
        /**
         * @param {?} fn
         * @return {?}
         */
        MonthCalendarComponent.prototype.registerOnTouched = /**
         * @param {?} fn
         * @return {?}
         */
            function (fn) {
            };
        /**
         * @param {?} formControl
         * @return {?}
         */
        MonthCalendarComponent.prototype.validate = /**
         * @param {?} formControl
         * @return {?}
         */
            function (formControl) {
                if (this.minDate || this.maxDate) {
                    return this.validateFn(formControl.value);
                }
                else {
                    return function () { return null; };
                }
            };
        /**
         * @param {?} value
         * @return {?}
         */
        MonthCalendarComponent.prototype.processOnChangeCallback = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return this.utilsService.convertFromMomentArray(this.componentConfig.format, value, this.componentConfig.returnedValueType || this.inputValueType);
            };
        /**
         * @return {?}
         */
        MonthCalendarComponent.prototype.initValidators = /**
         * @return {?}
         */
            function () {
                this.validateFn = this.validateFn = this.utilsService.createValidator({ minDate: this.minDate, maxDate: this.maxDate }, this.componentConfig.format, 'month');
                this.onChangeCallback(this.processOnChangeCallback(this.selected));
            };
        /**
         * @param {?} month
         * @return {?}
         */
        MonthCalendarComponent.prototype.monthClicked = /**
         * @param {?} month
         * @return {?}
         */
            function (month) {
                if (month.selected && !this.componentConfig.unSelectOnClick) {
                    return;
                }
                this.selected = this.utilsService
                    .updateSelected(this.componentConfig.allowMultiSelect, this.selected, month, 'month');
                this.yearMonths = this.monthCalendarService
                    .generateYear(this.componentConfig, this.currentDateView, this.selected);
                this.onSelect.emit(month);
            };
        /**
         * @return {?}
         */
        MonthCalendarComponent.prototype.onLeftNavClick = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var from = this.currentDateView.clone();
                this.currentDateView = this.currentDateView.clone().subtract(1, 'year');
                /** @type {?} */
                var to = this.currentDateView.clone();
                this.yearMonths = this.monthCalendarService.generateYear(this.componentConfig, this.currentDateView, this.selected);
                this.onLeftNav.emit({ from: from, to: to });
            };
        /**
         * @return {?}
         */
        MonthCalendarComponent.prototype.onLeftSecondaryNavClick = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var navigateBy = this.componentConfig.multipleYearsNavigateBy;
                /** @type {?} */
                var isOutsideRange = this.componentConfig.min &&
                    this.currentDateView.year() - this.componentConfig.min.year() < navigateBy;
                if (isOutsideRange) {
                    navigateBy = this.currentDateView.year() - this.componentConfig.min.year();
                }
                /** @type {?} */
                var from = this.currentDateView.clone();
                this.currentDateView = this.currentDateView.clone().subtract(navigateBy, 'year');
                /** @type {?} */
                var to = this.currentDateView.clone();
                this.onLeftSecondaryNav.emit({ from: from, to: to });
            };
        /**
         * @return {?}
         */
        MonthCalendarComponent.prototype.onRightNavClick = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var from = this.currentDateView.clone();
                this.currentDateView = this.currentDateView.clone().add(1, 'year');
                /** @type {?} */
                var to = this.currentDateView.clone();
                this.onRightNav.emit({ from: from, to: to });
            };
        /**
         * @return {?}
         */
        MonthCalendarComponent.prototype.onRightSecondaryNavClick = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var navigateBy = this.componentConfig.multipleYearsNavigateBy;
                /** @type {?} */
                var isOutsideRange = this.componentConfig.max &&
                    this.componentConfig.max.year() - this.currentDateView.year() < navigateBy;
                if (isOutsideRange) {
                    navigateBy = this.componentConfig.max.year() - this.currentDateView.year();
                }
                /** @type {?} */
                var from = this.currentDateView.clone();
                this.currentDateView = this.currentDateView.clone().add(navigateBy, 'year');
                /** @type {?} */
                var to = this.currentDateView.clone();
                this.onRightSecondaryNav.emit({ from: from, to: to });
            };
        /**
         * @return {?}
         */
        MonthCalendarComponent.prototype.toggleCalendarMode = /**
         * @return {?}
         */
            function () {
                this.onNavHeaderBtnClick.emit();
            };
        /**
         * @param {?} month
         * @return {?}
         */
        MonthCalendarComponent.prototype.getMonthBtnCssClass = /**
         * @param {?} month
         * @return {?}
         */
            function (month) {
                /** @type {?} */
                var cssClass = {
                    'dp-selected': month.selected,
                    'dp-current-month': month.currentMonth
                };
                /** @type {?} */
                var customCssClass = this.monthCalendarService.getMonthBtnCssClass(this.componentConfig, month.date);
                if (customCssClass) {
                    cssClass[customCssClass] = true;
                }
                return cssClass;
            };
        /**
         * @return {?}
         */
        MonthCalendarComponent.prototype.shouldShowCurrent = /**
         * @return {?}
         */
            function () {
                return this.utilsService.shouldShowCurrent(this.componentConfig.showGoToCurrent, 'month', this.componentConfig.min, this.componentConfig.max);
            };
        /**
         * @return {?}
         */
        MonthCalendarComponent.prototype.goToCurrent = /**
         * @return {?}
         */
            function () {
                this.currentDateView = moment$7();
                this.onGoToCurrent.emit();
            };
        /**
         * @param {?} to
         * @return {?}
         */
        MonthCalendarComponent.prototype.moveCalendarTo = /**
         * @param {?} to
         * @return {?}
         */
            function (to) {
                if (to) {
                    this.currentDateView = this.utilsService.convertToMoment(to, this.componentConfig.format);
                    this.cd.markForCheck();
                }
            };
        /**
         * @param {?} config
         * @return {?}
         */
        MonthCalendarComponent.prototype.handleConfigChange = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                if (config) {
                    /** @type {?} */
                    var prevConf = this.monthCalendarService.getConfig(config.previousValue);
                    /** @type {?} */
                    var currentConf = this.monthCalendarService.getConfig(config.currentValue);
                    if (this.utilsService.shouldResetCurrentView(prevConf, currentConf)) {
                        this._currentDateView = null;
                    }
                }
            };
        MonthCalendarComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'dp-month-calendar',
                        template: "<div class=\"dp-month-calendar-container\">\n  <dp-calendar-nav\n      [label]=\"navLabel\"\n      [showLeftNav]=\"showLeftNav\"\n      [showLeftSecondaryNav]=\"showSecondaryLeftNav\"\n      [showRightNav]=\"showRightNav\"\n      [showRightSecondaryNav]=\"showSecondaryRightNav\"\n      [isLabelClickable]=\"componentConfig.isNavHeaderBtnClickable\"\n      [showGoToCurrent]=\"shouldShowCurrent()\"\n      [theme]=\"theme\"\n      (onLeftNav)=\"onLeftNavClick()\"\n      (onLeftSecondaryNav)=\"onLeftSecondaryNavClick()\"\n      (onRightNav)=\"onRightNavClick()\"\n      (onRightSecondaryNav)=\"onRightSecondaryNavClick()\"\n      (onLabelClick)=\"toggleCalendarMode()\"\n      (onGoToCurrent)=\"goToCurrent()\">\n  </dp-calendar-nav>\n\n  <div class=\"dp-calendar-wrapper\">\n    <div class=\"dp-months-row\" *ngFor=\"let monthRow of yearMonths\">\n      <button type=\"button\"\n              class=\"dp-calendar-month\"\n              *ngFor=\"let month of monthRow\"\n              [attr.data-date]=\"month.date.format(componentConfig.format)\"\n              [disabled]=\"month.disabled\"\n              [ngClass]=\"getMonthBtnCssClass(month)\"\n              (click)=\"monthClicked(month)\"\n              [innerText]=\"month.text\">\n      </button>\n    </div>\n  </div>\n</div>\n",
                        encapsulation: core.ViewEncapsulation.None,
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        providers: [
                            MonthCalendarService,
                            {
                                provide: forms.NG_VALUE_ACCESSOR,
                                useExisting: core.forwardRef(function () { return MonthCalendarComponent; }),
                                multi: true
                            },
                            {
                                provide: forms.NG_VALIDATORS,
                                useExisting: core.forwardRef(function () { return MonthCalendarComponent; }),
                                multi: true
                            }
                        ],
                        styles: ["dp-month-calendar{display:inline-block}dp-month-calendar .dp-month-calendar-container{background:#fff}dp-month-calendar .dp-calendar-wrapper{border:1px solid #000}dp-month-calendar .dp-calendar-month{box-sizing:border-box;width:52.5px;height:52.5px;cursor:pointer}dp-month-calendar .dp-calendar-month.dp-selected{background:#106cc8;color:#fff}dp-month-calendar.dp-material .dp-calendar-weekday{height:25px;width:30px;line-height:25px;background:#e0e0e0;border:1px solid #e0e0e0}dp-month-calendar.dp-material .dp-calendar-wrapper{border:1px solid #e0e0e0}dp-month-calendar.dp-material .dp-calendar-month{box-sizing:border-box;background:#fff;border-radius:50%;border:none;outline:0}dp-month-calendar.dp-material .dp-calendar-month:hover{background:#e0e0e0}dp-month-calendar.dp-material .dp-selected{background:#106cc8;color:#fff}dp-month-calendar.dp-material .dp-selected:hover{background:#106cc8}dp-month-calendar.dp-material .dp-current-month{border:1px solid #106cc8}"]
                    }] }
        ];
        /** @nocollapse */
        MonthCalendarComponent.ctorParameters = function () {
            return [
                { type: MonthCalendarService },
                { type: UtilsService },
                { type: core.ChangeDetectorRef }
            ];
        };
        MonthCalendarComponent.propDecorators = {
            config: [{ type: core.Input }],
            displayDate: [{ type: core.Input }],
            minDate: [{ type: core.Input }],
            maxDate: [{ type: core.Input }],
            theme: [{ type: core.HostBinding, args: ['class',] }, { type: core.Input }],
            onSelect: [{ type: core.Output }],
            onNavHeaderBtnClick: [{ type: core.Output }],
            onGoToCurrent: [{ type: core.Output }],
            onLeftNav: [{ type: core.Output }],
            onRightNav: [{ type: core.Output }],
            onLeftSecondaryNav: [{ type: core.Output }],
            onRightSecondaryNav: [{ type: core.Output }]
        };
        return MonthCalendarComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var moment$8 = momentNs;
    var TimeSelectComponent = /** @class */ (function () {
        function TimeSelectComponent(timeSelectService, utilsService, cd) {
            this.timeSelectService = timeSelectService;
            this.utilsService = utilsService;
            this.cd = cd;
            this.onChange = new core.EventEmitter();
            this.isInited = false;
            this.api = {
                triggerChange: this.emitChange.bind(this)
            };
        }
        Object.defineProperty(TimeSelectComponent.prototype, "selected", {
            get: /**
             * @return {?}
             */ function () {
                return this._selected;
            },
            set: /**
             * @param {?} selected
             * @return {?}
             */ function (selected) {
                this._selected = selected;
                this.calculateTimeParts(this.selected);
                this.showDecHour = this.timeSelectService.shouldShowDecrease(this.componentConfig, this._selected, 'hour');
                this.showDecMinute = this.timeSelectService.shouldShowDecrease(this.componentConfig, this._selected, 'minute');
                this.showDecSecond = this.timeSelectService.shouldShowDecrease(this.componentConfig, this._selected, 'second');
                this.showIncHour = this.timeSelectService.shouldShowIncrease(this.componentConfig, this._selected, 'hour');
                this.showIncMinute = this.timeSelectService.shouldShowIncrease(this.componentConfig, this._selected, 'minute');
                this.showIncSecond = this.timeSelectService.shouldShowIncrease(this.componentConfig, this._selected, 'second');
                this.showToggleMeridiem = this.timeSelectService.shouldShowToggleMeridiem(this.componentConfig, this._selected);
                this.onChangeCallback(this.processOnChangeCallback(selected));
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        TimeSelectComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.isInited = true;
                this.init();
                this.initValidators();
            };
        /**
         * @return {?}
         */
        TimeSelectComponent.prototype.init = /**
         * @return {?}
         */
            function () {
                this.componentConfig = this.timeSelectService.getConfig(this.config);
                this.selected = this.selected || moment$8();
                this.inputValueType = this.utilsService.getInputType(this.inputValue, false);
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        TimeSelectComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (this.isInited) {
                    var minDate = changes.minDate, maxDate = changes.maxDate, minTime = changes.minTime, maxTime = changes.maxTime;
                    this.init();
                    if (minDate || maxDate || minTime || maxTime) {
                        this.initValidators();
                    }
                }
            };
        /**
         * @param {?} value
         * @return {?}
         */
        TimeSelectComponent.prototype.writeValue = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                this.inputValue = value;
                if (value) {
                    /** @type {?} */
                    var momentValue = this.utilsService
                        .convertToMomentArray(value, this.timeSelectService.getTimeFormat(this.componentConfig), false)[0];
                    if (momentValue.isValid()) {
                        this.selected = momentValue;
                        this.inputValueType = this.utilsService
                            .getInputType(this.inputValue, false);
                    }
                }
                this.cd.markForCheck();
            };
        /**
         * @param {?} fn
         * @return {?}
         */
        TimeSelectComponent.prototype.registerOnChange = /**
         * @param {?} fn
         * @return {?}
         */
            function (fn) {
                this.onChangeCallback = fn;
            };
        /**
         * @param {?} _
         * @return {?}
         */
        TimeSelectComponent.prototype.onChangeCallback = /**
         * @param {?} _
         * @return {?}
         */
            function (_) {
            };
        /**
         * @param {?} fn
         * @return {?}
         */
        TimeSelectComponent.prototype.registerOnTouched = /**
         * @param {?} fn
         * @return {?}
         */
            function (fn) {
            };
        /**
         * @param {?} formControl
         * @return {?}
         */
        TimeSelectComponent.prototype.validate = /**
         * @param {?} formControl
         * @return {?}
         */
            function (formControl) {
                if (this.minDate || this.maxDate || this.minTime || this.maxTime) {
                    return this.validateFn(formControl.value);
                }
                else {
                    return function () { return null; };
                }
            };
        /**
         * @param {?} value
         * @return {?}
         */
        TimeSelectComponent.prototype.processOnChangeCallback = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return this.utilsService.convertFromMomentArray(this.timeSelectService.getTimeFormat(this.componentConfig), [value], this.componentConfig.returnedValueType || this.inputValueType);
            };
        /**
         * @return {?}
         */
        TimeSelectComponent.prototype.initValidators = /**
         * @return {?}
         */
            function () {
                this.validateFn = this.utilsService.createValidator({
                    minDate: this.minDate,
                    maxDate: this.maxDate,
                    minTime: this.minTime,
                    maxTime: this.maxTime
                }, undefined, 'day');
                this.onChangeCallback(this.processOnChangeCallback(this.selected));
            };
        /**
         * @param {?} unit
         * @return {?}
         */
        TimeSelectComponent.prototype.decrease = /**
         * @param {?} unit
         * @return {?}
         */
            function (unit) {
                this.selected = this.timeSelectService.decrease(this.componentConfig, this.selected, unit);
                this.emitChange();
            };
        /**
         * @param {?} unit
         * @return {?}
         */
        TimeSelectComponent.prototype.increase = /**
         * @param {?} unit
         * @return {?}
         */
            function (unit) {
                this.selected = this.timeSelectService.increase(this.componentConfig, this.selected, unit);
                this.emitChange();
            };
        /**
         * @return {?}
         */
        TimeSelectComponent.prototype.toggleMeridiem = /**
         * @return {?}
         */
            function () {
                this.selected = this.timeSelectService.toggleMeridiem(this.selected);
                this.emitChange();
            };
        /**
         * @return {?}
         */
        TimeSelectComponent.prototype.emitChange = /**
         * @return {?}
         */
            function () {
                this.onChange.emit({ date: this.selected, selected: false });
                this.cd.markForCheck();
            };
        /**
         * @param {?} time
         * @return {?}
         */
        TimeSelectComponent.prototype.calculateTimeParts = /**
         * @param {?} time
         * @return {?}
         */
            function (time) {
                this.hours = this.timeSelectService.getHours(this.componentConfig, time);
                this.minutes = this.timeSelectService.getMinutes(this.componentConfig, time);
                this.seconds = this.timeSelectService.getSeconds(this.componentConfig, time);
                this.meridiem = this.timeSelectService.getMeridiem(this.componentConfig, time);
            };
        TimeSelectComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'dp-time-select',
                        template: "<ul class=\"dp-time-select-controls\">\n  <li class=\"dp-time-select-control dp-time-select-control-hours\">\n    <button type=\"button\"\n            class=\"dp-time-select-control-up\"\n            [disabled]=\"!showIncHour\"\n            (click)=\"increase('hour')\">\n    </button>\n    <span class=\"dp-time-select-display-hours\"\n          [innerText]=\"hours\">\n    </span>\n    <button type=\"button\"\n            class=\"dp-time-select-control-down\"\n            [disabled]=\"!showDecHour\"\n            (click)=\"decrease('hour')\"></button>\n  </li>\n  <li class=\"dp-time-select-control dp-time-select-separator\"\n      [innerText]=\"componentConfig.timeSeparator\">\n  </li>\n  <li class=\"dp-time-select-control dp-time-select-control-minutes\">\n    <button type=\"button\"\n            class=\"dp-time-select-control-up\"\n            [disabled]=\"!showIncMinute\"\n            (click)=\"increase('minute')\"></button>\n    <span class=\"dp-time-select-display-minutes\"\n          [innerText]=\"minutes\">\n    </span>\n    <button type=\"button\"\n            [disabled]=\"!showDecMinute\" class=\"dp-time-select-control-down\"\n            (click)=\"decrease('minute')\"></button>\n  </li>\n  <ng-container *ngIf=\"componentConfig.showSeconds\">\n    <li class=\"dp-time-select-control dp-time-select-separator\"\n        [innerText]=\"componentConfig.timeSeparator\">\n    </li>\n    <li class=\"dp-time-select-control dp-time-select-control-seconds\">\n      <button type=\"button\"\n              class=\"dp-time-select-control-up\"\n              [disabled]=\"!showIncSecond\"\n              (click)=\"increase('second')\"></button>\n      <span class=\"dp-time-select-display-seconds\"\n            [innerText]=\"seconds\">\n      </span>\n      <button type=\"button\"\n              class=\"dp-time-select-control-down\"\n              [disabled]=\"!showDecSecond\"\n              (click)=\"decrease('second')\"></button>\n    </li>\n  </ng-container>\n  <li class=\"dp-time-select-control dp-time-select-control-meridiem\" *ngIf=\"!componentConfig.showTwentyFourHours\">\n    <button type=\"button\"\n            class=\"dp-time-select-control-up\"\n            [disabled]=\"!showToggleMeridiem\"\n            (click)=\"toggleMeridiem()\"></button>\n    <span class=\"dp-time-select-display-meridiem\"\n          [innerText]=\"meridiem\">\n    </span>\n    <button type=\"button\"\n            class=\"dp-time-select-control-down\"\n            [disabled]=\"!showToggleMeridiem\"\n            (click)=\"toggleMeridiem()\"></button>\n  </li>\n</ul>\n",
                        encapsulation: core.ViewEncapsulation.None,
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        providers: [
                            TimeSelectService,
                            {
                                provide: forms.NG_VALUE_ACCESSOR,
                                useExisting: core.forwardRef(function () { return TimeSelectComponent; }),
                                multi: true
                            },
                            {
                                provide: forms.NG_VALIDATORS,
                                useExisting: core.forwardRef(function () { return TimeSelectComponent; }),
                                multi: true
                            }
                        ],
                        styles: ["dp-time-select{display:inline-block}dp-time-select .dp-time-select-controls{margin:0;padding:0;text-align:center;line-height:normal;background:#fff}dp-time-select .dp-time-select-control{display:inline-block;width:35px;margin:0 auto;vertical-align:middle;font-size:inherit;letter-spacing:1px}dp-time-select .dp-time-select-control-down,dp-time-select .dp-time-select-control-up{position:relative;display:block;width:24px;height:24px;margin:3px auto;cursor:pointer}dp-time-select .dp-time-select-control-down::before,dp-time-select .dp-time-select-control-up::before{position:relative;content:'';display:inline-block;height:8px;width:8px;vertical-align:baseline;border-style:solid;border-width:2px 2px 0 0}dp-time-select .dp-time-select-control-up::before{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);top:4px}dp-time-select .dp-time-select-control-down::before{-webkit-transform:rotate(135deg);transform:rotate(135deg)}dp-time-select .dp-time-select-separator{width:5px}dp-time-select.dp-material .dp-time-select-control-down,dp-time-select.dp-material .dp-time-select-control-up{box-sizing:border-box;background:0 0;border:none;outline:0;border-radius:50%}dp-time-select.dp-material .dp-time-select-control-down::before,dp-time-select.dp-material .dp-time-select-control-up::before{left:0}dp-time-select.dp-material .dp-time-select-control-down:hover,dp-time-select.dp-material .dp-time-select-control-up:hover{background:#e0e0e0}"]
                    }] }
        ];
        /** @nocollapse */
        TimeSelectComponent.ctorParameters = function () {
            return [
                { type: TimeSelectService },
                { type: UtilsService },
                { type: core.ChangeDetectorRef }
            ];
        };
        TimeSelectComponent.propDecorators = {
            config: [{ type: core.Input }],
            displayDate: [{ type: core.Input }],
            minDate: [{ type: core.Input }],
            maxDate: [{ type: core.Input }],
            minTime: [{ type: core.Input }],
            maxTime: [{ type: core.Input }],
            theme: [{ type: core.HostBinding, args: ['class',] }, { type: core.Input }],
            onChange: [{ type: core.Output }]
        };
        return TimeSelectComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CalendarNavComponent = /** @class */ (function () {
        function CalendarNavComponent() {
            this.isLabelClickable = false;
            this.showLeftNav = true;
            this.showLeftSecondaryNav = false;
            this.showRightNav = true;
            this.showRightSecondaryNav = false;
            this.leftNavDisabled = false;
            this.leftSecondaryNavDisabled = false;
            this.rightNavDisabled = false;
            this.rightSecondaryNavDisabled = false;
            this.showGoToCurrent = true;
            this.onLeftNav = new core.EventEmitter();
            this.onLeftSecondaryNav = new core.EventEmitter();
            this.onRightNav = new core.EventEmitter();
            this.onRightSecondaryNav = new core.EventEmitter();
            this.onLabelClick = new core.EventEmitter();
            this.onGoToCurrent = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        CalendarNavComponent.prototype.leftNavClicked = /**
         * @return {?}
         */
            function () {
                this.onLeftNav.emit();
            };
        /**
         * @return {?}
         */
        CalendarNavComponent.prototype.leftSecondaryNavClicked = /**
         * @return {?}
         */
            function () {
                this.onLeftSecondaryNav.emit();
            };
        /**
         * @return {?}
         */
        CalendarNavComponent.prototype.rightNavClicked = /**
         * @return {?}
         */
            function () {
                this.onRightNav.emit();
            };
        /**
         * @return {?}
         */
        CalendarNavComponent.prototype.rightSecondaryNavClicked = /**
         * @return {?}
         */
            function () {
                this.onRightSecondaryNav.emit();
            };
        /**
         * @return {?}
         */
        CalendarNavComponent.prototype.labelClicked = /**
         * @return {?}
         */
            function () {
                this.onLabelClick.emit();
            };
        CalendarNavComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'dp-calendar-nav',
                        template: "<div class=\"dp-calendar-nav-container\">\n  <div class=\"dp-nav-header\">\n    <span [hidden]=\"isLabelClickable\"\n          [attr.data-hidden]=\"isLabelClickable\"\n          [innerText]=\"label\">\n    </span>\n    <button type=\"button\"\n            class=\"dp-nav-header-btn\"\n            [hidden]=\"!isLabelClickable\"\n            [attr.data-hidden]=\"!isLabelClickable\"\n            (click)=\"labelClicked()\"\n            [innerText]=\"label\">\n    </button>\n  </div>\n\n  <div class=\"dp-nav-btns-container\">\n    <div class=\"dp-calendar-nav-container-left\">\n      <button type=\"button\"\n              class=\"dp-calendar-secondary-nav-left\"\n              *ngIf=\"showLeftSecondaryNav\"\n              [disabled]=\"leftSecondaryNavDisabled\"\n              (click)=\"leftSecondaryNavClicked()\">\n      </button>\n      <button type=\"button\"\n              class=\"dp-calendar-nav-left\"\n              [hidden]=\"!showLeftNav\"\n              [attr.data-hidden]=\"!showLeftNav\"\n              [disabled]=\"leftNavDisabled\"\n              (click)=\"leftNavClicked()\">\n      </button>\n    </div>\n    <button type=\"button\"\n            class=\"dp-current-location-btn\"\n            *ngIf=\"showGoToCurrent\"\n            (click)=\"onGoToCurrent.emit()\">\n    </button>\n    <div class=\"dp-calendar-nav-container-right\">\n      <button type=\"button\"\n              class=\"dp-calendar-nav-right\"\n              [hidden]=\"!showRightNav\"\n              [attr.data-hidden]=\"!showRightNav\"\n              [disabled]=\"rightNavDisabled\"\n              (click)=\"rightNavClicked()\">\n      </button>\n      <button type=\"button\"\n              class=\"dp-calendar-secondary-nav-right\"\n              *ngIf=\"showRightSecondaryNav\"\n              [disabled]=\"rightSecondaryNavDisabled\"\n              (click)=\"rightSecondaryNavClicked()\">\n      </button>\n    </div>\n  </div>\n</div>\n",
                        encapsulation: core.ViewEncapsulation.None,
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        styles: ["dp-calendar-nav .dp-calendar-nav-container{position:relative;box-sizing:border-box;height:25px;border:1px solid #000;border-bottom:none}dp-calendar-nav .dp-nav-date-btn{box-sizing:border-box;height:25px;border:1px solid #000;border-bottom:none}dp-calendar-nav .dp-nav-btns-container{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:5px;display:inline-block}dp-calendar-nav .dp-calendar-nav-container-left,dp-calendar-nav .dp-calendar-nav-container-right{display:inline-block}dp-calendar-nav .dp-calendar-nav-left,dp-calendar-nav .dp-calendar-nav-right,dp-calendar-nav .dp-calendar-secondary-nav-left,dp-calendar-nav .dp-calendar-secondary-nav-right{position:relative;width:16px;cursor:pointer}dp-calendar-nav .dp-calendar-nav-left,dp-calendar-nav .dp-calendar-nav-right{line-height:0}dp-calendar-nav .dp-calendar-nav-left::before,dp-calendar-nav .dp-calendar-nav-right::before{position:relative;content:'';display:inline-block;height:8px;width:8px;vertical-align:baseline;border-style:solid;border-width:2px 2px 0 0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}dp-calendar-nav .dp-calendar-secondary-nav-left,dp-calendar-nav .dp-calendar-secondary-nav-right{padding:0}dp-calendar-nav .dp-calendar-secondary-nav-left::after,dp-calendar-nav .dp-calendar-secondary-nav-left::before,dp-calendar-nav .dp-calendar-secondary-nav-right::after,dp-calendar-nav .dp-calendar-secondary-nav-right::before{position:relative;content:'';display:inline-block;height:8px;width:8px;vertical-align:baseline;border-style:solid;border-width:2px 2px 0 0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}dp-calendar-nav .dp-calendar-secondary-nav-left::before,dp-calendar-nav .dp-calendar-secondary-nav-right::before{right:-10px}dp-calendar-nav .dp-calendar-secondary-nav-right{left:initial;right:5px}dp-calendar-nav .dp-calendar-nav-left::before,dp-calendar-nav .dp-calendar-secondary-nav-left::after,dp-calendar-nav .dp-calendar-secondary-nav-left::before{position:relative;content:'';display:inline-block;height:8px;width:8px;vertical-align:baseline;border-style:solid;border-width:2px 2px 0 0;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}dp-calendar-nav .dp-calendar-secondary-nav-left::before{right:-10px}dp-calendar-nav .dp-nav-header{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);left:5px;display:inline-block;font-size:13px}dp-calendar-nav .dp-nav-header-btn{cursor:pointer}dp-calendar-nav .dp-current-location-btn{position:relative;top:-1px;height:16px;width:16px;vertical-align:middle;background:rgba(0,0,0,.6);border:1px solid rgba(0,0,0,.6);outline:0;border-radius:50%;box-shadow:inset 0 0 0 3px #fff;cursor:pointer}dp-calendar-nav .dp-current-location-btn:hover{background:#000}dp-calendar-nav.dp-material .dp-calendar-nav-container{height:30px;border:1px solid #e0e0e0}dp-calendar-nav.dp-material .dp-calendar-nav-left,dp-calendar-nav.dp-material .dp-calendar-nav-right,dp-calendar-nav.dp-material .dp-calendar-secondary-nav-left,dp-calendar-nav.dp-material .dp-calendar-secondary-nav-right{border:none;background:#fff;outline:0;font-size:16px;padding:0}dp-calendar-nav.dp-material .dp-calendar-secondary-nav-left,dp-calendar-nav.dp-material .dp-calendar-secondary-nav-right{width:20px}dp-calendar-nav.dp-material .dp-nav-header-btn{height:20px;width:80px;border:none;background:#fff;outline:0}dp-calendar-nav.dp-material .dp-nav-header-btn:hover{background:rgba(0,0,0,.05)}dp-calendar-nav.dp-material .dp-nav-header-btn:active{background:rgba(0,0,0,.1)}"]
                    }] }
        ];
        CalendarNavComponent.propDecorators = {
            label: [{ type: core.Input }],
            isLabelClickable: [{ type: core.Input }],
            showLeftNav: [{ type: core.Input }],
            showLeftSecondaryNav: [{ type: core.Input }],
            showRightNav: [{ type: core.Input }],
            showRightSecondaryNav: [{ type: core.Input }],
            leftNavDisabled: [{ type: core.Input }],
            leftSecondaryNavDisabled: [{ type: core.Input }],
            rightNavDisabled: [{ type: core.Input }],
            rightSecondaryNavDisabled: [{ type: core.Input }],
            showGoToCurrent: [{ type: core.Input }],
            theme: [{ type: core.HostBinding, args: ['class',] }, { type: core.Input }],
            onLeftNav: [{ type: core.Output }],
            onLeftSecondaryNav: [{ type: core.Output }],
            onRightNav: [{ type: core.Output }],
            onRightSecondaryNav: [{ type: core.Output }],
            onLabelClick: [{ type: core.Output }],
            onGoToCurrent: [{ type: core.Output }]
        };
        return CalendarNavComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DayTimeCalendarComponent = /** @class */ (function () {
        function DayTimeCalendarComponent(dayTimeCalendarService, utilsService, cd) {
            this.dayTimeCalendarService = dayTimeCalendarService;
            this.utilsService = utilsService;
            this.cd = cd;
            this.onChange = new core.EventEmitter();
            this.onGoToCurrent = new core.EventEmitter();
            this.onLeftNav = new core.EventEmitter();
            this.onRightNav = new core.EventEmitter();
            this.isInited = false;
            this.api = {
                moveCalendarTo: this.moveCalendarTo.bind(this)
            };
        }
        Object.defineProperty(DayTimeCalendarComponent.prototype, "selected", {
            get: /**
             * @return {?}
             */ function () {
                return this._selected;
            },
            set: /**
             * @param {?} selected
             * @return {?}
             */ function (selected) {
                this._selected = selected;
                this.onChangeCallback(this.processOnChangeCallback(selected));
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.isInited = true;
                this.init();
                this.initValidators();
            };
        /**
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.init = /**
         * @return {?}
         */
            function () {
                this.componentConfig = this.dayTimeCalendarService.getConfig(this.config);
                this.inputValueType = this.utilsService.getInputType(this.inputValue, false);
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (this.isInited) {
                    var minDate = changes.minDate, maxDate = changes.maxDate;
                    this.init();
                    if (minDate || maxDate) {
                        this.initValidators();
                    }
                }
            };
        /**
         * @param {?} value
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.writeValue = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                this.inputValue = value;
                if (value) {
                    this.selected = this.utilsService
                        .convertToMomentArray(value, this.componentConfig.format, false)[0];
                    this.inputValueType = this.utilsService
                        .getInputType(this.inputValue, false);
                }
                else {
                    this.selected = null;
                }
                this.cd.markForCheck();
            };
        /**
         * @param {?} fn
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.registerOnChange = /**
         * @param {?} fn
         * @return {?}
         */
            function (fn) {
                this.onChangeCallback = fn;
            };
        /**
         * @param {?} _
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.onChangeCallback = /**
         * @param {?} _
         * @return {?}
         */
            function (_) {
            };
        /**
         * @param {?} fn
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.registerOnTouched = /**
         * @param {?} fn
         * @return {?}
         */
            function (fn) {
            };
        /**
         * @param {?} formControl
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.validate = /**
         * @param {?} formControl
         * @return {?}
         */
            function (formControl) {
                if (this.minDate || this.maxDate) {
                    return this.validateFn(formControl.value);
                }
                else {
                    return function () { return null; };
                }
            };
        /**
         * @param {?} value
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.processOnChangeCallback = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return this.utilsService.convertFromMomentArray(this.componentConfig.format, [value], this.componentConfig.returnedValueType || this.inputValueType);
            };
        /**
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.initValidators = /**
         * @return {?}
         */
            function () {
                this.validateFn = this.utilsService.createValidator({
                    minDate: this.minDate,
                    maxDate: this.maxDate
                }, undefined, 'daytime');
                this.onChangeCallback(this.processOnChangeCallback(this.selected));
            };
        /**
         * @param {?} day
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.dateSelected = /**
         * @param {?} day
         * @return {?}
         */
            function (day) {
                this.selected = this.dayTimeCalendarService.updateDay(this.selected, day.date, this.config);
                this.emitChange();
            };
        /**
         * @param {?} time
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.timeChange = /**
         * @param {?} time
         * @return {?}
         */
            function (time) {
                this.selected = this.dayTimeCalendarService.updateTime(this.selected, time.date);
                this.emitChange();
            };
        /**
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.emitChange = /**
         * @return {?}
         */
            function () {
                this.onChange.emit({ date: this.selected, selected: false });
            };
        /**
         * @param {?} to
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.moveCalendarTo = /**
         * @param {?} to
         * @return {?}
         */
            function (to) {
                if (to) {
                    this.dayCalendarRef.moveCalendarTo(to);
                }
            };
        /**
         * @param {?} change
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.onLeftNavClick = /**
         * @param {?} change
         * @return {?}
         */
            function (change) {
                this.onLeftNav.emit(change);
            };
        /**
         * @param {?} change
         * @return {?}
         */
        DayTimeCalendarComponent.prototype.onRightNavClick = /**
         * @param {?} change
         * @return {?}
         */
            function (change) {
                this.onRightNav.emit(change);
            };
        DayTimeCalendarComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'dp-day-time-calendar',
                        template: "<dp-day-calendar #dayCalendar\n                 [config]=\"componentConfig\"\n                 [ngModel]=\"_selected\"\n                 [theme]=\"theme\"\n                 [displayDate]=\"displayDate\"\n                 (onSelect)=\"dateSelected($event)\"\n                 (onGoToCurrent)=\"onGoToCurrent.emit()\"\n                 (onLeftNav)=\"onLeftNavClick($event)\"\n                 (onRightNav)=\"onRightNavClick($event)\">\n</dp-day-calendar>\n<dp-time-select #timeSelect\n                [config]=\"componentConfig\"\n                [ngModel]=\"_selected\"\n                (onChange)=\"timeChange($event)\"\n                [theme]=\"theme\">\n</dp-time-select>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None,
                        providers: [
                            DayTimeCalendarService,
                            DayCalendarService,
                            TimeSelectService,
                            {
                                provide: forms.NG_VALUE_ACCESSOR,
                                useExisting: core.forwardRef(function () { return DayTimeCalendarComponent; }),
                                multi: true
                            },
                            {
                                provide: forms.NG_VALIDATORS,
                                useExisting: core.forwardRef(function () { return DayTimeCalendarComponent; }),
                                multi: true
                            }
                        ],
                        styles: ["dp-day-time-calendar{display:inline-block}dp-day-time-calendar dp-time-select{display:block;border:1px solid #000;border-top:0}dp-day-time-calendar.dp-material dp-time-select{border:1px solid #e0e0e0;border-top:0}"]
                    }] }
        ];
        /** @nocollapse */
        DayTimeCalendarComponent.ctorParameters = function () {
            return [
                { type: DayTimeCalendarService },
                { type: UtilsService },
                { type: core.ChangeDetectorRef }
            ];
        };
        DayTimeCalendarComponent.propDecorators = {
            config: [{ type: core.Input }],
            displayDate: [{ type: core.Input }],
            minDate: [{ type: core.Input }],
            maxDate: [{ type: core.Input }],
            theme: [{ type: core.HostBinding, args: ['class',] }, { type: core.Input }],
            onChange: [{ type: core.Output }],
            onGoToCurrent: [{ type: core.Output }],
            onLeftNav: [{ type: core.Output }],
            onRightNav: [{ type: core.Output }],
            dayCalendarRef: [{ type: core.ViewChild, args: ['dayCalendar',] }]
        };
        return DayTimeCalendarComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DpDatePickerModule = /** @class */ (function () {
        function DpDatePickerModule() {
        }
        DpDatePickerModule.decorators = [
            { type: core.NgModule, args: [{
                        providers: [
                            DomHelper,
                            UtilsService
                        ],
                        declarations: [
                            DatePickerComponent,
                            DatePickerDirective,
                            DayCalendarComponent,
                            MonthCalendarComponent,
                            CalendarNavComponent,
                            TimeSelectComponent,
                            DayTimeCalendarComponent
                        ],
                        entryComponents: [
                            DatePickerComponent
                        ],
                        imports: [
                            common.CommonModule,
                            forms.FormsModule
                        ],
                        exports: [
                            DatePickerComponent,
                            DatePickerDirective,
                            MonthCalendarComponent,
                            DayCalendarComponent,
                            TimeSelectComponent,
                            DayTimeCalendarComponent
                        ]
                    },] }
        ];
        return DpDatePickerModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */

    exports.ECalendarMode = ECalendarMode;
    exports.ECalendarValue = ECalendarValue;
    exports.SelectEvent = SelectEvent;
    exports.DatePickerComponent = DatePickerComponent;
    exports.DatePickerDirective = DatePickerDirective;
    exports.DayCalendarComponent = DayCalendarComponent;
    exports.DayTimeCalendarComponent = DayTimeCalendarComponent;
    exports.TimeSelectComponent = TimeSelectComponent;
    exports.MonthCalendarComponent = MonthCalendarComponent;
    exports.DpDatePickerModule = DpDatePickerModule;
    exports.i = CalendarNavComponent;
    exports.a = DomHelper;
    exports.b = UtilsService;
    exports.g = DatePickerDirectiveService;
    exports.c = DatePickerService;
    exports.f = DayCalendarService;
    exports.e = DayTimeCalendarService;
    exports.h = MonthCalendarService;
    exports.d = TimeSelectService;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmcyLWRhdGUtcGlja2VyLnVtZC5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vbmcyLWRhdGUtcGlja2VyL2NvbW1vbi90eXBlcy9jYWxlbmRhci1tb2RlLWVudW0udHMiLCJuZzovL25nMi1kYXRlLXBpY2tlci9jb21tb24vdHlwZXMvY2FsZW5kYXItdmFsdWUtZW51bS50cyIsIm5nOi8vbmcyLWRhdGUtcGlja2VyL2NvbW1vbi90eXBlcy9zZWxlY3Rpb24tZXZldC5lbnVtLi50cyIsIm5nOi8vbmcyLWRhdGUtcGlja2VyL2NvbW1vbi9zZXJ2aWNlcy9kb20tYXBwZW5kZXIvZG9tLWFwcGVuZGVyLnNlcnZpY2UudHMiLCJuZzovL25nMi1kYXRlLXBpY2tlci9jb21tb24vc2VydmljZXMvdXRpbHMvdXRpbHMuc2VydmljZS50cyIsIm5vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJuZzovL25nMi1kYXRlLXBpY2tlci9kYXktY2FsZW5kYXIvZGF5LWNhbGVuZGFyLnNlcnZpY2UudHMiLCJuZzovL25nMi1kYXRlLXBpY2tlci90aW1lLXNlbGVjdC90aW1lLXNlbGVjdC5zZXJ2aWNlLnRzIiwibmc6Ly9uZzItZGF0ZS1waWNrZXIvZGF5LXRpbWUtY2FsZW5kYXIvZGF5LXRpbWUtY2FsZW5kYXIuc2VydmljZS50cyIsIm5nOi8vbmcyLWRhdGUtcGlja2VyL2RhdGUtcGlja2VyL2RhdGUtcGlja2VyLnNlcnZpY2UudHMiLCJuZzovL25nMi1kYXRlLXBpY2tlci9kYXRlLXBpY2tlci9kYXRlLXBpY2tlci5jb21wb25lbnQudHMiLCJuZzovL25nMi1kYXRlLXBpY2tlci9kYXRlLXBpY2tlci9kYXRlLXBpY2tlci1kaXJlY3RpdmUuc2VydmljZS50cyIsIm5nOi8vbmcyLWRhdGUtcGlja2VyL2RhdGUtcGlja2VyL2RhdGUtcGlja2VyLmRpcmVjdGl2ZS50cyIsIm5nOi8vbmcyLWRhdGUtcGlja2VyL2RheS1jYWxlbmRhci9kYXktY2FsZW5kYXIuY29tcG9uZW50LnRzIiwibmc6Ly9uZzItZGF0ZS1waWNrZXIvbW9udGgtY2FsZW5kYXIvbW9udGgtY2FsZW5kYXIuc2VydmljZS50cyIsIm5nOi8vbmcyLWRhdGUtcGlja2VyL21vbnRoLWNhbGVuZGFyL21vbnRoLWNhbGVuZGFyLmNvbXBvbmVudC50cyIsIm5nOi8vbmcyLWRhdGUtcGlja2VyL3RpbWUtc2VsZWN0L3RpbWUtc2VsZWN0LmNvbXBvbmVudC50cyIsIm5nOi8vbmcyLWRhdGUtcGlja2VyL2NhbGVuZGFyLW5hdi9jYWxlbmRhci1uYXYuY29tcG9uZW50LnRzIiwibmc6Ly9uZzItZGF0ZS1waWNrZXIvZGF5LXRpbWUtY2FsZW5kYXIvZGF5LXRpbWUtY2FsZW5kYXIuY29tcG9uZW50LnRzIiwibmc6Ly9uZzItZGF0ZS1waWNrZXIvZGF0ZS1waWNrZXIubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIEVDYWxlbmRhck1vZGUge1xuICBEYXksXG4gIERheVRpbWUsXG4gIE1vbnRoLFxuICBUaW1lXG59XG4iLCJleHBvcnQgZW51bSBFQ2FsZW5kYXJWYWx1ZSB7XG4gIE1vbWVudCA9IDEsXG4gIE1vbWVudEFycixcbiAgU3RyaW5nLFxuICBTdHJpbmdBcnJcbn1cbiIsImV4cG9ydCBlbnVtIFNlbGVjdEV2ZW50IHtcbiAgSU5QVVQgPSAnaW5wdXQnLFxuICBTRUxFQ1RJT04gPSAnc2VsZWN0aW9uJ1xufVxuIiwiaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7VERyb3BzLCBUT3BlbnN9IGZyb20gJy4uLy4uL3R5cGVzL3BvaXN0aW9ucy50eXBlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERvbUhlbHBlciB7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgc2V0WUF4aXNQb3NpdGlvbihlbGVtZW50OiBIVE1MRWxlbWVudCwgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgYW5jaG9yOiBIVE1MRWxlbWVudCwgZHJvcHM6IFREcm9wcykge1xuICAgIGNvbnN0IGFuY2hvclJlY3QgPSBhbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBib3R0b20gPSBhbmNob3JSZWN0LmJvdHRvbSAtIGNvbnRhaW5lclJlY3QudG9wO1xuICAgIGNvbnN0IHRvcCA9IGFuY2hvclJlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3A7XG5cbiAgICBpZiAoZHJvcHMgPT09ICdkb3duJykge1xuICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSAoYm90dG9tICsgMSArICdweCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnN0eWxlLnRvcCA9ICh0b3AgLSAxIC0gZWxlbWVudC5zY3JvbGxIZWlnaHQpICsgJ3B4JztcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBzZXRYQXhpc1Bvc2l0aW9uKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjb250YWluZXI6IEhUTUxFbGVtZW50LCBhbmNob3I6IEhUTUxFbGVtZW50LCBkaW1FbGVtOiBIVE1MRWxlbWVudCwgb3BlbnM6IFRPcGVucykge1xuICAgIGNvbnN0IGFuY2hvclJlY3QgPSBhbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBsZWZ0ID0gYW5jaG9yUmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0O1xuXG4gICAgaWYgKG9wZW5zID09PSAncmlnaHQnKSB7XG4gICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gbGVmdCAtIGRpbUVsZW0ub2Zmc2V0V2lkdGggKyBhbmNob3Iub2Zmc2V0V2lkdGggKyAncHgnO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGlzVG9wSW5WaWV3KGVsOiBIVE1MRWxlbWVudCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHt0b3B9ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuICh0b3AgPj0gMCk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBpc0JvdHRvbUluVmlldyhlbDogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICBjb25zdCB7Ym90dG9tfSA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiAoYm90dG9tIDw9IHdpbmRvdy5pbm5lckhlaWdodCk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBpc0xlZnRJblZpZXcoZWw6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgY29uc3Qge2xlZnR9ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIChsZWZ0ID49IDApO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgaXNSaWdodEluVmlldyhlbDogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICBjb25zdCB7cmlnaHR9ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIChyaWdodCA8PSB3aW5kb3cuaW5uZXJXaWR0aCk7XG4gIH1cblxuICBhcHBlbmRFbGVtZW50VG9Qb3NpdGlvbihjb25maWc6IElBcHBlbmRUb0FyZ3MpOiB2b2lkIHtcbiAgICBjb25zdCB7Y29udGFpbmVyLCBlbGVtZW50fSA9IGNvbmZpZztcblxuICAgIGlmICghY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uIHx8IGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuc3R5bGUucG9zaXRpb24gIT09ICdhYnNvbHV0ZScpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIH1cblxuICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnNldEVsZW1lbnRQb3NpdGlvbihjb25maWcpO1xuXG4gICAgICBlbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgfSk7XG4gIH1cblxuICBzZXRFbGVtZW50UG9zaXRpb24oe2VsZW1lbnQsIGNvbnRhaW5lciwgYW5jaG9yLCBkaW1FbGVtLCBkcm9wcywgb3BlbnN9OiBJQXBwZW5kVG9BcmdzKSB7XG4gICAgRG9tSGVscGVyLnNldFlBeGlzUG9zaXRpb24oZWxlbWVudCwgY29udGFpbmVyLCBhbmNob3IsICdkb3duJyk7XG4gICAgRG9tSGVscGVyLnNldFhBeGlzUG9zaXRpb24oZWxlbWVudCwgY29udGFpbmVyLCBhbmNob3IsIGRpbUVsZW0sICdyaWdodCcpO1xuXG4gICAgaWYgKGRyb3BzICE9PSAnZG93bicgJiYgZHJvcHMgIT09ICd1cCcpIHtcbiAgICAgIGlmIChEb21IZWxwZXIuaXNCb3R0b21JblZpZXcoZGltRWxlbSkpIHtcbiAgICAgICAgRG9tSGVscGVyLnNldFlBeGlzUG9zaXRpb24oZWxlbWVudCwgY29udGFpbmVyLCBhbmNob3IsICdkb3duJyk7XG4gICAgICB9IGVsc2UgaWYgKERvbUhlbHBlci5pc1RvcEluVmlldyhkaW1FbGVtKSkge1xuICAgICAgICBEb21IZWxwZXIuc2V0WUF4aXNQb3NpdGlvbihlbGVtZW50LCBjb250YWluZXIsIGFuY2hvciwgJ3VwJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIERvbUhlbHBlci5zZXRZQXhpc1Bvc2l0aW9uKGVsZW1lbnQsIGNvbnRhaW5lciwgYW5jaG9yLCBkcm9wcyk7XG4gICAgfVxuXG4gICAgaWYgKG9wZW5zICE9PSAnbGVmdCcgJiYgb3BlbnMgIT09ICdyaWdodCcpIHtcbiAgICAgIGlmIChEb21IZWxwZXIuaXNSaWdodEluVmlldyhkaW1FbGVtKSkge1xuICAgICAgICBEb21IZWxwZXIuc2V0WEF4aXNQb3NpdGlvbihlbGVtZW50LCBjb250YWluZXIsIGFuY2hvciwgZGltRWxlbSwgJ3JpZ2h0Jyk7XG4gICAgICB9IGVsc2UgaWYgKERvbUhlbHBlci5pc0xlZnRJblZpZXcoZGltRWxlbSkpIHtcbiAgICAgICAgRG9tSGVscGVyLnNldFhBeGlzUG9zaXRpb24oZWxlbWVudCwgY29udGFpbmVyLCBhbmNob3IsIGRpbUVsZW0sICdsZWZ0Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIERvbUhlbHBlci5zZXRYQXhpc1Bvc2l0aW9uKGVsZW1lbnQsIGNvbnRhaW5lciwgYW5jaG9yLCBkaW1FbGVtLCBvcGVucyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFwcGVuZFRvQXJncyB7XG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICBhbmNob3I6IEhUTUxFbGVtZW50O1xuICBkaW1FbGVtOiBIVE1MRWxlbWVudDtcbiAgZHJvcHM6IFREcm9wcztcbiAgb3BlbnM6IFRPcGVucztcbn1cbiIsImltcG9ydCB7RUNhbGVuZGFyVmFsdWV9IGZyb20gJy4uLy4uL3R5cGVzL2NhbGVuZGFyLXZhbHVlLWVudW0nO1xuaW1wb3J0IHtTaW5nbGVDYWxlbmRhclZhbHVlfSBmcm9tICcuLi8uLi90eXBlcy9zaW5nbGUtY2FsZW5kYXItdmFsdWUnO1xuaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAqIGFzIG1vbWVudE5zIGZyb20gJ21vbWVudCc7XG5pbXBvcnQge01vbWVudCwgdW5pdE9mVGltZX0gZnJvbSAnbW9tZW50JztcbmltcG9ydCB7Q2FsZW5kYXJWYWx1ZX0gZnJvbSAnLi4vLi4vdHlwZXMvY2FsZW5kYXItdmFsdWUnO1xuaW1wb3J0IHtJRGF0ZX0gZnJvbSAnLi4vLi4vbW9kZWxzL2RhdGUubW9kZWwnO1xuaW1wb3J0IHtDYWxlbmRhck1vZGV9IGZyb20gJy4uLy4uL3R5cGVzL2NhbGVuZGFyLW1vZGUnO1xuaW1wb3J0IHtEYXRlVmFsaWRhdG9yfSBmcm9tICcuLi8uLi90eXBlcy92YWxpZGF0b3IudHlwZSc7XG5pbXBvcnQge0lDYWxlbmRhckludGVybmFsfSBmcm9tICcuLi8uLi9tb2RlbHMvY2FsZW5kYXIubW9kZWwnO1xuXG5jb25zdCBtb21lbnQgPSBtb21lbnROcztcblxuZXhwb3J0IGludGVyZmFjZSBEYXRlTGltaXRzIHtcbiAgbWluRGF0ZT86IFNpbmdsZUNhbGVuZGFyVmFsdWU7XG4gIG1heERhdGU/OiBTaW5nbGVDYWxlbmRhclZhbHVlO1xuICBtaW5UaW1lPzogU2luZ2xlQ2FsZW5kYXJWYWx1ZTtcbiAgbWF4VGltZT86IFNpbmdsZUNhbGVuZGFyVmFsdWU7XG59XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBVdGlsc1NlcnZpY2Uge1xuICBzdGF0aWMgZGVib3VuY2UoZnVuYzogRnVuY3Rpb24sIHdhaXQ6IG51bWJlcikge1xuICAgIGxldCB0aW1lb3V0O1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHRpbWVvdXQgPSBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIH0sIHdhaXQpO1xuICAgIH07XG4gIH07XG5cbiAgY3JlYXRlQXJyYXkoc2l6ZTogbnVtYmVyKTogbnVtYmVyW10ge1xuICAgIHJldHVybiBuZXcgQXJyYXkoc2l6ZSkuZmlsbCgxKTtcbiAgfVxuXG4gIGNvbnZlcnRUb01vbWVudChkYXRlOiBTaW5nbGVDYWxlbmRhclZhbHVlLCBmb3JtYXQ6IHN0cmluZyk6IE1vbWVudCB7XG4gICAgaWYgKCFkYXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG1vbWVudChkYXRlLCBmb3JtYXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGF0ZS5jbG9uZSgpO1xuICAgIH1cbiAgfVxuXG4gIGlzRGF0ZVZhbGlkKGRhdGU6IHN0cmluZywgZm9ybWF0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAoZGF0ZSA9PT0gJycpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBtb21lbnQoZGF0ZSwgZm9ybWF0LCB0cnVlKS5pc1ZhbGlkKCk7XG4gIH1cblxuICAvLyB0b2RvOjogYWRkIHVuaXQgdGVzdFxuICBnZXREZWZhdWx0RGlzcGxheURhdGUoY3VycmVudDogTW9tZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IE1vbWVudFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dNdWx0aVNlbGVjdDogYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkRhdGU6IE1vbWVudCk6IE1vbWVudCB7XG4gICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgIHJldHVybiBjdXJyZW50LmNsb25lKCk7XG4gICAgfSBlbHNlIGlmIChtaW5EYXRlICYmIG1pbkRhdGUuaXNBZnRlcihtb21lbnQoKSkpIHtcbiAgICAgIHJldHVybiBtaW5EYXRlLmNsb25lKCk7XG4gICAgfSBlbHNlIGlmIChhbGxvd011bHRpU2VsZWN0KSB7XG4gICAgICBpZiAoc2VsZWN0ZWQgJiYgc2VsZWN0ZWRbc2VsZWN0ZWQubGVuZ3RoXSkge1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWRbc2VsZWN0ZWQubGVuZ3RoXS5jbG9uZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWQgJiYgc2VsZWN0ZWRbMF0pIHtcbiAgICAgIHJldHVybiBzZWxlY3RlZFswXS5jbG9uZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBtb21lbnQoKTtcbiAgfVxuXG4gIC8vIHRvZG86OiBhZGQgdW5pdCB0ZXN0XG4gIGdldElucHV0VHlwZSh2YWx1ZTogQ2FsZW5kYXJWYWx1ZSwgYWxsb3dNdWx0aVNlbGVjdDogYm9vbGVhbik6IEVDYWxlbmRhclZhbHVlIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGlmICghdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBFQ2FsZW5kYXJWYWx1ZS5Nb21lbnRBcnI7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZVswXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIEVDYWxlbmRhclZhbHVlLlN0cmluZ0FycjtcbiAgICAgIH0gZWxzZSBpZiAobW9tZW50LmlzTW9tZW50KHZhbHVlWzBdKSkge1xuICAgICAgICByZXR1cm4gRUNhbGVuZGFyVmFsdWUuTW9tZW50QXJyO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gRUNhbGVuZGFyVmFsdWUuU3RyaW5nO1xuICAgICAgfSBlbHNlIGlmIChtb21lbnQuaXNNb21lbnQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBFQ2FsZW5kYXJWYWx1ZS5Nb21lbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFsbG93TXVsdGlTZWxlY3QgPyBFQ2FsZW5kYXJWYWx1ZS5Nb21lbnRBcnIgOiBFQ2FsZW5kYXJWYWx1ZS5Nb21lbnQ7XG4gIH1cblxuICAvLyB0b2RvOjogYWRkIHVuaXQgdGVzdFxuICBjb252ZXJ0VG9Nb21lbnRBcnJheSh2YWx1ZTogQ2FsZW5kYXJWYWx1ZSwgZm9ybWF0OiBzdHJpbmcsIGFsbG93TXVsdGlTZWxlY3Q6IGJvb2xlYW4pOiBNb21lbnRbXSB7XG4gICAgc3dpdGNoICh0aGlzLmdldElucHV0VHlwZSh2YWx1ZSwgYWxsb3dNdWx0aVNlbGVjdCkpIHtcbiAgICAgIGNhc2UgKEVDYWxlbmRhclZhbHVlLlN0cmluZyk6XG4gICAgICAgIHJldHVybiB2YWx1ZSA/IFttb21lbnQoPHN0cmluZz52YWx1ZSwgZm9ybWF0LCB0cnVlKV0gOiBbXTtcbiAgICAgIGNhc2UgKEVDYWxlbmRhclZhbHVlLlN0cmluZ0Fycik6XG4gICAgICAgIHJldHVybiAoPHN0cmluZ1tdPnZhbHVlKS5tYXAodiA9PiB2ID8gbW9tZW50KHYsIGZvcm1hdCwgdHJ1ZSkgOiBudWxsKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICBjYXNlIChFQ2FsZW5kYXJWYWx1ZS5Nb21lbnQpOlxuICAgICAgICByZXR1cm4gdmFsdWUgPyBbKDxNb21lbnQ+dmFsdWUpLmNsb25lKCldIDogW107XG4gICAgICBjYXNlIChFQ2FsZW5kYXJWYWx1ZS5Nb21lbnRBcnIpOlxuICAgICAgICByZXR1cm4gKDxNb21lbnRbXT52YWx1ZSB8fCBbXSkubWFwKHYgPT4gdi5jbG9uZSgpKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICAvLyB0b2RvOjogYWRkIHVuaXQgdGVzdFxuICBjb252ZXJ0RnJvbU1vbWVudEFycmF5KGZvcm1hdDogc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBNb21lbnRbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0VG86IEVDYWxlbmRhclZhbHVlKTogQ2FsZW5kYXJWYWx1ZSB7XG4gICAgc3dpdGNoIChjb252ZXJ0VG8pIHtcbiAgICAgIGNhc2UgKEVDYWxlbmRhclZhbHVlLlN0cmluZyk6XG4gICAgICAgIHJldHVybiB2YWx1ZVswXSAmJiB2YWx1ZVswXS5mb3JtYXQoZm9ybWF0KTtcbiAgICAgIGNhc2UgKEVDYWxlbmRhclZhbHVlLlN0cmluZ0Fycik6XG4gICAgICAgIHJldHVybiB2YWx1ZS5maWx0ZXIoQm9vbGVhbikubWFwKHYgPT4gdi5mb3JtYXQoZm9ybWF0KSk7XG4gICAgICBjYXNlIChFQ2FsZW5kYXJWYWx1ZS5Nb21lbnQpOlxuICAgICAgICByZXR1cm4gdmFsdWVbMF0gPyB2YWx1ZVswXS5jbG9uZSgpIDogdmFsdWVbMF07XG4gICAgICBjYXNlIChFQ2FsZW5kYXJWYWx1ZS5Nb21lbnRBcnIpOlxuICAgICAgICByZXR1cm4gdmFsdWUgPyB2YWx1ZS5tYXAodiA9PiB2LmNsb25lKCkpIDogdmFsdWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgY29udmVydFRvU3RyaW5nKHZhbHVlOiBDYWxlbmRhclZhbHVlLCBmb3JtYXQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgbGV0IHRtcFZhbDogc3RyaW5nW107XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdG1wVmFsID0gW3ZhbHVlXTtcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHRtcFZhbCA9ICg8U2luZ2xlQ2FsZW5kYXJWYWx1ZVtdPnZhbHVlKS5tYXAoKHYpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5jb252ZXJ0VG9Nb21lbnQodiwgZm9ybWF0KS5mb3JtYXQoZm9ybWF0KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0bXBWYWwgPSA8c3RyaW5nW10+dmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChtb21lbnQuaXNNb21lbnQodmFsdWUpKSB7XG4gICAgICB0bXBWYWwgPSBbdmFsdWUuZm9ybWF0KGZvcm1hdCldO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRtcFZhbC5maWx0ZXIoQm9vbGVhbikuam9pbignIHwgJyk7XG4gIH1cblxuICAvLyB0b2RvOjogYWRkIHVuaXQgdGVzdFxuICBjbGVhclVuZGVmaW5lZDxUPihvYmo6IFQpOiBUIHtcbiAgICBpZiAoIW9iaikge1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG5cbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goKGtleSkgPT4gKG9ialtrZXldID09PSB1bmRlZmluZWQpICYmIGRlbGV0ZSBvYmpba2V5XSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHVwZGF0ZVNlbGVjdGVkKGlzTXVsdGlwbGU6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgIGN1cnJlbnRseVNlbGVjdGVkOiBNb21lbnRbXSxcbiAgICAgICAgICAgICAgICAgZGF0ZTogSURhdGUsXG4gICAgICAgICAgICAgICAgIGdyYW51bGFyaXR5OiB1bml0T2ZUaW1lLkJhc2UgPSAnZGF5Jyk6IE1vbWVudFtdIHtcbiAgICBpZiAoaXNNdWx0aXBsZSkge1xuICAgICAgcmV0dXJuICFkYXRlLnNlbGVjdGVkXG4gICAgICAgID8gY3VycmVudGx5U2VsZWN0ZWQuY29uY2F0KFtkYXRlLmRhdGVdKVxuICAgICAgICA6IGN1cnJlbnRseVNlbGVjdGVkLmZpbHRlcihkID0+ICFkLmlzU2FtZShkYXRlLmRhdGUsIGdyYW51bGFyaXR5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAhZGF0ZS5zZWxlY3RlZCA/IFtkYXRlLmRhdGVdIDogW107XG4gICAgfVxuICB9XG5cbiAgY2xvc2VzdFBhcmVudChlbGVtZW50OiBIVE1MRWxlbWVudCwgc2VsZWN0b3I6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoID0gPEhUTUxFbGVtZW50PmVsZW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgcmV0dXJuIG1hdGNoIHx8IHRoaXMuY2xvc2VzdFBhcmVudChlbGVtZW50LnBhcmVudEVsZW1lbnQsIHNlbGVjdG9yKTtcbiAgfVxuXG4gIG9ubHlUaW1lKG06IE1vbWVudCk6IE1vbWVudCB7XG4gICAgcmV0dXJuIG0gJiYgbW9tZW50LmlzTW9tZW50KG0pICYmIG1vbWVudChtLmZvcm1hdCgnSEg6bW06c3MnKSwgJ0hIOm1tOnNzJyk7XG4gIH1cblxuICBncmFudWxhcml0eUZyb21UeXBlKGNhbGVuZGFyVHlwZTogQ2FsZW5kYXJNb2RlKTogdW5pdE9mVGltZS5CYXNlIHtcbiAgICBzd2l0Y2ggKGNhbGVuZGFyVHlwZSkge1xuICAgICAgY2FzZSAndGltZSc6XG4gICAgICAgIHJldHVybiAnc2Vjb25kJztcbiAgICAgIGNhc2UgJ2RheXRpbWUnOlxuICAgICAgICByZXR1cm4gJ3NlY29uZCc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gY2FsZW5kYXJUeXBlO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZVZhbGlkYXRvcih7bWluRGF0ZSwgbWF4RGF0ZSwgbWluVGltZSwgbWF4VGltZX06IERhdGVMaW1pdHMsXG4gICAgICAgICAgICAgICAgICBmb3JtYXQ6IHN0cmluZyxcbiAgICAgICAgICAgICAgICAgIGNhbGVuZGFyVHlwZTogQ2FsZW5kYXJNb2RlKTogRGF0ZVZhbGlkYXRvciB7XG4gICAgbGV0IGlzVmFsaWQ6IGJvb2xlYW47XG4gICAgbGV0IHZhbHVlOiBNb21lbnRbXTtcbiAgICBjb25zdCB2YWxpZGF0b3JzID0gW107XG4gICAgY29uc3QgZ3JhbnVsYXJpdHkgPSB0aGlzLmdyYW51bGFyaXR5RnJvbVR5cGUoY2FsZW5kYXJUeXBlKTtcblxuICAgIGlmIChtaW5EYXRlKSB7XG4gICAgICBjb25zdCBtZCA9IHRoaXMuY29udmVydFRvTW9tZW50KG1pbkRhdGUsIGZvcm1hdCk7XG4gICAgICB2YWxpZGF0b3JzLnB1c2goe1xuICAgICAgICBrZXk6ICdtaW5EYXRlJyxcbiAgICAgICAgaXNWYWxpZDogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IF9pc1ZhbGlkID0gdmFsdWUuZXZlcnkodmFsID0+IHZhbC5pc1NhbWVPckFmdGVyKG1kLCBncmFudWxhcml0eSkpO1xuICAgICAgICAgIGlzVmFsaWQgPSBpc1ZhbGlkID8gX2lzVmFsaWQgOiBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gX2lzVmFsaWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChtYXhEYXRlKSB7XG4gICAgICBjb25zdCBtZCA9IHRoaXMuY29udmVydFRvTW9tZW50KG1heERhdGUsIGZvcm1hdCk7XG4gICAgICB2YWxpZGF0b3JzLnB1c2goe1xuICAgICAgICBrZXk6ICdtYXhEYXRlJyxcbiAgICAgICAgaXNWYWxpZDogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IF9pc1ZhbGlkID0gdmFsdWUuZXZlcnkodmFsID0+IHZhbC5pc1NhbWVPckJlZm9yZShtZCwgZ3JhbnVsYXJpdHkpKTtcbiAgICAgICAgICBpc1ZhbGlkID0gaXNWYWxpZCA/IF9pc1ZhbGlkIDogZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIF9pc1ZhbGlkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobWluVGltZSkge1xuICAgICAgY29uc3QgbWQgPSB0aGlzLm9ubHlUaW1lKHRoaXMuY29udmVydFRvTW9tZW50KG1pblRpbWUsIGZvcm1hdCkpO1xuICAgICAgdmFsaWRhdG9ycy5wdXNoKHtcbiAgICAgICAga2V5OiAnbWluVGltZScsXG4gICAgICAgIGlzVmFsaWQ6ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBfaXNWYWxpZCA9IHZhbHVlLmV2ZXJ5KHZhbCA9PiB0aGlzLm9ubHlUaW1lKHZhbCkuaXNTYW1lT3JBZnRlcihtZCkpO1xuICAgICAgICAgIGlzVmFsaWQgPSBpc1ZhbGlkID8gX2lzVmFsaWQgOiBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gX2lzVmFsaWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChtYXhUaW1lKSB7XG4gICAgICBjb25zdCBtZCA9IHRoaXMub25seVRpbWUodGhpcy5jb252ZXJ0VG9Nb21lbnQobWF4VGltZSwgZm9ybWF0KSk7XG4gICAgICB2YWxpZGF0b3JzLnB1c2goe1xuICAgICAgICBrZXk6ICdtYXhUaW1lJyxcbiAgICAgICAgaXNWYWxpZDogKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IF9pc1ZhbGlkID0gdmFsdWUuZXZlcnkodmFsID0+IHRoaXMub25seVRpbWUodmFsKS5pc1NhbWVPckJlZm9yZShtZCkpO1xuICAgICAgICAgIGlzVmFsaWQgPSBpc1ZhbGlkID8gX2lzVmFsaWQgOiBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gX2lzVmFsaWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiAoaW5wdXRWYWw6IENhbGVuZGFyVmFsdWUpID0+IHtcbiAgICAgIGlzVmFsaWQgPSB0cnVlO1xuXG4gICAgICB2YWx1ZSA9IHRoaXMuY29udmVydFRvTW9tZW50QXJyYXkoaW5wdXRWYWwsIGZvcm1hdCwgdHJ1ZSkuZmlsdGVyKEJvb2xlYW4pO1xuXG4gICAgICBpZiAoIXZhbHVlLmV2ZXJ5KHZhbCA9PiB2YWwuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGZvcm1hdDoge1xuICAgICAgICAgICAgZ2l2ZW46IGlucHV0VmFsXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlcnJvcnMgPSB2YWxpZGF0b3JzLnJlZHVjZSgobWFwLCBlcnIpID0+IHtcbiAgICAgICAgaWYgKCFlcnIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgbWFwW2Vyci5rZXldID0ge1xuICAgICAgICAgICAgZ2l2ZW46IHZhbHVlXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgICB9LCB7fSk7XG5cbiAgICAgIHJldHVybiAhaXNWYWxpZCA/IGVycm9ycyA6IG51bGw7XG4gICAgfTtcbiAgfVxuXG4gIGRhdGVzU3RyaW5nVG9TdHJpbmdBcnJheSh2YWx1ZTogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIHJldHVybiAodmFsdWUgfHwgJycpLnNwbGl0KCd8JykubWFwKG0gPT4gbS50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcbiAgfVxuXG4gIGdldFZhbGlkTW9tZW50QXJyYXkodmFsdWU6IHN0cmluZywgZm9ybWF0OiBzdHJpbmcpOiBNb21lbnRbXSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0ZXNTdHJpbmdUb1N0cmluZ0FycmF5KHZhbHVlKVxuICAgICAgLmZpbHRlcihkID0+IHRoaXMuaXNEYXRlVmFsaWQoZCwgZm9ybWF0KSlcbiAgICAgIC5tYXAoZCA9PiBtb21lbnQoZCwgZm9ybWF0KSk7XG4gIH1cblxuICBzaG91bGRTaG93Q3VycmVudChzaG93R29Ub0N1cnJlbnQ6IGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IENhbGVuZGFyTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgbWluOiBNb21lbnQsXG4gICAgICAgICAgICAgICAgICAgIG1heDogTW9tZW50KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHNob3dHb1RvQ3VycmVudCAmJlxuICAgICAgbW9kZSAhPT0gJ3RpbWUnICYmXG4gICAgICB0aGlzLmlzRGF0ZUluUmFuZ2UobW9tZW50KCksIG1pbiwgbWF4KTtcbiAgfVxuXG4gIGlzRGF0ZUluUmFuZ2UoZGF0ZTogTW9tZW50LCBmcm9tOiBNb21lbnQsIHRvOiBNb21lbnQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZGF0ZS5pc0JldHdlZW4oZnJvbSwgdG8sICdkYXknLCAnW10nKTtcbiAgfVxuXG4gIGNvbnZlcnRQcm9wc1RvTW9tZW50KG9iajoge1trZXk6IHN0cmluZ106IGFueX0sIGZvcm1hdDogc3RyaW5nLCBwcm9wczogc3RyaW5nW10pIHtcbiAgICBwcm9wcy5mb3JFYWNoKChwcm9wKSA9PiB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIG9ialtwcm9wXSA9IHRoaXMuY29udmVydFRvTW9tZW50KG9ialtwcm9wXSwgZm9ybWF0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNob3VsZFJlc2V0Q3VycmVudFZpZXc8VCBleHRlbmRzIElDYWxlbmRhckludGVybmFsPihwcmV2Q29uZjogVCwgY3VycmVudENvbmY6IFQpOiBib29sZWFuIHtcbiAgICBpZiAocHJldkNvbmYgJiYgY3VycmVudENvbmYpIHtcbiAgICAgIGlmICghcHJldkNvbmYubWluICYmIGN1cnJlbnRDb25mLm1pbikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAocHJldkNvbmYubWluICYmIGN1cnJlbnRDb25mLm1pbiAmJiAhcHJldkNvbmYubWluLmlzU2FtZShjdXJyZW50Q29uZi5taW4sICdkJykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKCFwcmV2Q29uZi5tYXggJiYgY3VycmVudENvbmYubWF4KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChwcmV2Q29uZi5tYXggJiYgY3VycmVudENvbmYubWF4ICYmICFwcmV2Q29uZi5tYXguaXNTYW1lKGN1cnJlbnRDb25mLm1heCwgJ2QnKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldE5hdGl2ZUVsZW1lbnQoZWxlbTogSFRNTEVsZW1lbnQgfCBzdHJpbmcpOiBIVE1MRWxlbWVudCB7XG4gICAgaWYgKCFlbGVtKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZWxlbTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAqIGFzIG1vbWVudE5zIGZyb20gJ21vbWVudCc7XG5pbXBvcnQge01vbWVudH0gZnJvbSAnbW9tZW50JztcbmltcG9ydCB7V2Vla0RheXN9IGZyb20gJy4uL2NvbW1vbi90eXBlcy93ZWVrLWRheXMudHlwZSc7XG5pbXBvcnQge1V0aWxzU2VydmljZX0gZnJvbSAnLi4vY29tbW9uL3NlcnZpY2VzL3V0aWxzL3V0aWxzLnNlcnZpY2UnO1xuaW1wb3J0IHtJRGF5fSBmcm9tICcuL2RheS5tb2RlbCc7XG5pbXBvcnQge0lEYXlDYWxlbmRhckNvbmZpZywgSURheUNhbGVuZGFyQ29uZmlnSW50ZXJuYWx9IGZyb20gJy4vZGF5LWNhbGVuZGFyLWNvbmZpZy5tb2RlbCc7XG5pbXBvcnQge0lNb250aENhbGVuZGFyQ29uZmlnfSBmcm9tICcuLi9tb250aC1jYWxlbmRhci9tb250aC1jYWxlbmRhci1jb25maWcnO1xuXG5jb25zdCBtb21lbnQgPSBtb21lbnROcztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERheUNhbGVuZGFyU2VydmljZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgREFZUyA9IFsnc3UnLCAnbW8nLCAndHUnLCAnd2UnLCAndGgnLCAnZnInLCAnc2EnXTtcbiAgcmVhZG9ubHkgREVGQVVMVF9DT05GSUc6IElEYXlDYWxlbmRhckNvbmZpZyA9IHtcbiAgICBzaG93TmVhck1vbnRoRGF5czogdHJ1ZSxcbiAgICBzaG93V2Vla051bWJlcnM6IGZhbHNlLFxuICAgIGZpcnN0RGF5T2ZXZWVrOiAnc3UnLFxuICAgIHdlZWtEYXlGb3JtYXQ6ICdkZGQnLFxuICAgIGZvcm1hdDogJ0RELU1NLVlZWVknLFxuICAgIGFsbG93TXVsdGlTZWxlY3Q6IGZhbHNlLFxuICAgIG1vbnRoRm9ybWF0OiAnTU1NLCBZWVlZJyxcbiAgICBlbmFibGVNb250aFNlbGVjdG9yOiB0cnVlLFxuICAgIGxvY2FsZTogbW9tZW50LmxvY2FsZSgpLFxuICAgIGRheUJ0bkZvcm1hdDogJ0REJyxcbiAgICB1blNlbGVjdE9uQ2xpY2s6IHRydWVcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHV0aWxzU2VydmljZTogVXRpbHNTZXJ2aWNlKSB7XG4gIH1cblxuICBwcml2YXRlIHJlbW92ZU5lYXJNb250aFdlZWtzKGN1cnJlbnRNb250aDogTW9tZW50LCBtb250aEFycmF5OiBJRGF5W11bXSk6IElEYXlbXVtdIHtcbiAgICBpZiAobW9udGhBcnJheVttb250aEFycmF5Lmxlbmd0aCAtIDFdLmZpbmQoKGRheSkgPT4gZGF5LmRhdGUuaXNTYW1lKGN1cnJlbnRNb250aCwgJ21vbnRoJykpKSB7XG4gICAgICByZXR1cm4gbW9udGhBcnJheTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG1vbnRoQXJyYXkuc2xpY2UoMCwgLTEpO1xuICAgIH1cbiAgfVxuXG4gIGdldENvbmZpZyhjb25maWc6IElEYXlDYWxlbmRhckNvbmZpZyk6IElEYXlDYWxlbmRhckNvbmZpZ0ludGVybmFsIHtcbiAgICBjb25zdCBfY29uZmlnID0gPElEYXlDYWxlbmRhckNvbmZpZ0ludGVybmFsPntcbiAgICAgIC4uLnRoaXMuREVGQVVMVF9DT05GSUcsXG4gICAgICAuLi50aGlzLnV0aWxzU2VydmljZS5jbGVhclVuZGVmaW5lZChjb25maWcpXG4gICAgfTtcblxuICAgIHRoaXMudXRpbHNTZXJ2aWNlLmNvbnZlcnRQcm9wc1RvTW9tZW50KF9jb25maWcsIF9jb25maWcuZm9ybWF0LCBbJ21pbicsICdtYXgnXSk7XG5cbiAgICBtb21lbnQubG9jYWxlKF9jb25maWcubG9jYWxlKTtcblxuICAgIHJldHVybiBfY29uZmlnO1xuICB9XG5cbiAgZ2VuZXJhdGVEYXlzTWFwKGZpcnN0RGF5T2ZXZWVrOiBXZWVrRGF5cykge1xuICAgIGNvbnN0IGZpcnN0RGF5SW5kZXggPSB0aGlzLkRBWVMuaW5kZXhPZihmaXJzdERheU9mV2Vlayk7XG4gICAgY29uc3QgZGF5c0FyciA9IHRoaXMuREFZUy5zbGljZShmaXJzdERheUluZGV4LCA3KS5jb25jYXQodGhpcy5EQVlTLnNsaWNlKDAsIGZpcnN0RGF5SW5kZXgpKTtcbiAgICByZXR1cm4gZGF5c0Fyci5yZWR1Y2UoKG1hcCwgZGF5LCBpbmRleCkgPT4ge1xuICAgICAgbWFwW2RheV0gPSBpbmRleDtcblxuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9LCA8e1trZXk6IHN0cmluZ106IG51bWJlcn0+e30pO1xuICB9XG5cbiAgZ2VuZXJhdGVNb250aEFycmF5KGNvbmZpZzogSURheUNhbGVuZGFyQ29uZmlnSW50ZXJuYWwsIG1vbnRoOiBNb21lbnQsIHNlbGVjdGVkOiBNb21lbnRbXSk6IElEYXlbXVtdIHtcbiAgICBsZXQgbW9udGhBcnJheTogSURheVtdW10gPSBbXTtcbiAgICBjb25zdCBmaXJzdERheU9mV2Vla0luZGV4ID0gdGhpcy5EQVlTLmluZGV4T2YoY29uZmlnLmZpcnN0RGF5T2ZXZWVrKTtcbiAgICBjb25zdCBmaXJzdERheU9mQm9hcmQgPSBtb250aC5jbG9uZSgpLnN0YXJ0T2YoJ21vbnRoJyk7XG5cbiAgICB3aGlsZSAoZmlyc3REYXlPZkJvYXJkLmRheSgpICE9PSBmaXJzdERheU9mV2Vla0luZGV4KSB7XG4gICAgICBmaXJzdERheU9mQm9hcmQuc3VidHJhY3QoMSwgJ2RheScpO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnQgPSBmaXJzdERheU9mQm9hcmQuY2xvbmUoKTtcbiAgICBjb25zdCBwcmV2TW9udGggPSBtb250aC5jbG9uZSgpLnN1YnRyYWN0KDEsICdtb250aCcpO1xuICAgIGNvbnN0IG5leHRNb250aCA9IG1vbnRoLmNsb25lKCkuYWRkKDEsICdtb250aCcpO1xuICAgIGNvbnN0IHRvZGF5ID0gbW9tZW50KCk7XG5cbiAgICBjb25zdCBkYXlzT2ZDYWxlbmRhcjogSURheVtdID0gdGhpcy51dGlsc1NlcnZpY2UuY3JlYXRlQXJyYXkoNDIpXG4gICAgICAucmVkdWNlKChhcnJheTogSURheVtdKSA9PiB7XG4gICAgICAgIGFycmF5LnB1c2goe1xuICAgICAgICAgIGRhdGU6IGN1cnJlbnQuY2xvbmUoKSxcbiAgICAgICAgICBzZWxlY3RlZDogISFzZWxlY3RlZC5maW5kKHNlbGVjdGVkRGF5ID0+IGN1cnJlbnQuaXNTYW1lKHNlbGVjdGVkRGF5LCAnZGF5JykpLFxuICAgICAgICAgIGN1cnJlbnRNb250aDogY3VycmVudC5pc1NhbWUobW9udGgsICdtb250aCcpLFxuICAgICAgICAgIHByZXZNb250aDogY3VycmVudC5pc1NhbWUocHJldk1vbnRoLCAnbW9udGgnKSxcbiAgICAgICAgICBuZXh0TW9udGg6IGN1cnJlbnQuaXNTYW1lKG5leHRNb250aCwgJ21vbnRoJyksXG4gICAgICAgICAgY3VycmVudERheTogY3VycmVudC5pc1NhbWUodG9kYXksICdkYXknKSxcbiAgICAgICAgICBkaXNhYmxlZDogdGhpcy5pc0RhdGVEaXNhYmxlZChjdXJyZW50LCBjb25maWcpXG4gICAgICAgIH0pO1xuICAgICAgICBjdXJyZW50LmFkZCgxLCAnZGF5Jyk7XG5cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgICAgfSwgW10pO1xuXG4gICAgZGF5c09mQ2FsZW5kYXIuZm9yRWFjaCgoZGF5LCBpbmRleCkgPT4ge1xuICAgICAgY29uc3Qgd2Vla0luZGV4ID0gTWF0aC5mbG9vcihpbmRleCAvIDcpO1xuXG4gICAgICBpZiAoIW1vbnRoQXJyYXlbd2Vla0luZGV4XSkge1xuICAgICAgICBtb250aEFycmF5LnB1c2goW10pO1xuICAgICAgfVxuXG4gICAgICBtb250aEFycmF5W3dlZWtJbmRleF0ucHVzaChkYXkpO1xuICAgIH0pO1xuXG4gICAgaWYgKCFjb25maWcuc2hvd05lYXJNb250aERheXMpIHtcbiAgICAgIG1vbnRoQXJyYXkgPSB0aGlzLnJlbW92ZU5lYXJNb250aFdlZWtzKG1vbnRoLCBtb250aEFycmF5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9udGhBcnJheTtcbiAgfVxuXG4gIGdlbmVyYXRlV2Vla2RheXMoZmlyc3REYXlPZldlZWs6IFdlZWtEYXlzKTogTW9tZW50W10ge1xuICAgIGNvbnN0IHdlZWtkYXlOYW1lczoge1trZXk6IHN0cmluZ106IE1vbWVudH0gPSB7XG4gICAgICBzdTogbW9tZW50KCkuZGF5KDApLFxuICAgICAgbW86IG1vbWVudCgpLmRheSgxKSxcbiAgICAgIHR1OiBtb21lbnQoKS5kYXkoMiksXG4gICAgICB3ZTogbW9tZW50KCkuZGF5KDMpLFxuICAgICAgdGg6IG1vbWVudCgpLmRheSg0KSxcbiAgICAgIGZyOiBtb21lbnQoKS5kYXkoNSksXG4gICAgICBzYTogbW9tZW50KCkuZGF5KDYpXG4gICAgfTtcbiAgICBjb25zdCB3ZWVrZGF5czogTW9tZW50W10gPSBbXTtcbiAgICBjb25zdCBkYXlzTWFwID0gdGhpcy5nZW5lcmF0ZURheXNNYXAoZmlyc3REYXlPZldlZWspO1xuXG4gICAgZm9yIChjb25zdCBkYXlLZXkgaW4gZGF5c01hcCkge1xuICAgICAgaWYgKGRheXNNYXAuaGFzT3duUHJvcGVydHkoZGF5S2V5KSkge1xuICAgICAgICB3ZWVrZGF5c1tkYXlzTWFwW2RheUtleV1dID0gd2Vla2RheU5hbWVzW2RheUtleV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHdlZWtkYXlzO1xuICB9XG5cbiAgaXNEYXRlRGlzYWJsZWQoZGF0ZTogTW9tZW50LCBjb25maWc6IElEYXlDYWxlbmRhckNvbmZpZ0ludGVybmFsKTogYm9vbGVhbiB7XG4gICAgaWYgKGNvbmZpZy5pc0RheURpc2FibGVkQ2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBjb25maWcuaXNEYXlEaXNhYmxlZENhbGxiYWNrKGRhdGUpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcubWluICYmIGRhdGUuaXNCZWZvcmUoY29uZmlnLm1pbiwgJ2RheScpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gISEoY29uZmlnLm1heCAmJiBkYXRlLmlzQWZ0ZXIoY29uZmlnLm1heCwgJ2RheScpKTtcbiAgfVxuXG4gIC8vIHRvZG86OiBhZGQgdW5pdCB0ZXN0c1xuICBnZXRIZWFkZXJMYWJlbChjb25maWc6IElEYXlDYWxlbmRhckNvbmZpZ0ludGVybmFsLCBtb250aDogTW9tZW50KTogc3RyaW5nIHtcbiAgICBpZiAoY29uZmlnLm1vbnRoRm9ybWF0dGVyKSB7XG4gICAgICByZXR1cm4gY29uZmlnLm1vbnRoRm9ybWF0dGVyKG1vbnRoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9udGguZm9ybWF0KGNvbmZpZy5tb250aEZvcm1hdCk7XG4gIH1cblxuICAvLyB0b2RvOjogYWRkIHVuaXQgdGVzdHNcbiAgc2hvdWxkU2hvd0xlZnQobWluOiBNb21lbnQsIGN1cnJlbnRNb250aFZpZXc6IE1vbWVudCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBtaW4gPyBtaW4uaXNCZWZvcmUoY3VycmVudE1vbnRoVmlldywgJ21vbnRoJykgOiB0cnVlO1xuICB9XG5cbiAgLy8gdG9kbzo6IGFkZCB1bml0IHRlc3RzXG4gIHNob3VsZFNob3dSaWdodChtYXg6IE1vbWVudCwgY3VycmVudE1vbnRoVmlldzogTW9tZW50KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIG1heCA/IG1heC5pc0FmdGVyKGN1cnJlbnRNb250aFZpZXcsICdtb250aCcpIDogdHJ1ZTtcbiAgfVxuXG4gIGdlbmVyYXRlRGF5c0luZGV4TWFwKGZpcnN0RGF5T2ZXZWVrOiBXZWVrRGF5cykge1xuICAgIGNvbnN0IGZpcnN0RGF5SW5kZXggPSB0aGlzLkRBWVMuaW5kZXhPZihmaXJzdERheU9mV2Vlayk7XG4gICAgY29uc3QgZGF5c0FyciA9IHRoaXMuREFZUy5zbGljZShmaXJzdERheUluZGV4LCA3KS5jb25jYXQodGhpcy5EQVlTLnNsaWNlKDAsIGZpcnN0RGF5SW5kZXgpKTtcbiAgICByZXR1cm4gZGF5c0Fyci5yZWR1Y2UoKG1hcCwgZGF5LCBpbmRleCkgPT4ge1xuICAgICAgbWFwW2luZGV4XSA9IGRheTtcblxuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9LCA8e1trZXk6IG51bWJlcl06IHN0cmluZ30+e30pO1xuICB9XG5cbiAgZ2V0TW9udGhDYWxlbmRhckNvbmZpZyhjb21wb25lbnRDb25maWc6IElEYXlDYWxlbmRhckNvbmZpZ0ludGVybmFsKTogSU1vbnRoQ2FsZW5kYXJDb25maWcge1xuICAgIHJldHVybiB0aGlzLnV0aWxzU2VydmljZS5jbGVhclVuZGVmaW5lZCh7XG4gICAgICBtaW46IGNvbXBvbmVudENvbmZpZy5taW4sXG4gICAgICBtYXg6IGNvbXBvbmVudENvbmZpZy5tYXgsXG4gICAgICBmb3JtYXQ6IGNvbXBvbmVudENvbmZpZy5mb3JtYXQsXG4gICAgICBpc05hdkhlYWRlckJ0bkNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgIGFsbG93TXVsdGlTZWxlY3Q6IGZhbHNlLFxuICAgICAgeWVhckZvcm1hdDogY29tcG9uZW50Q29uZmlnLnllYXJGb3JtYXQsXG4gICAgICB5ZWFyRm9ybWF0dGVyOiBjb21wb25lbnRDb25maWcueWVhckZvcm1hdHRlcixcbiAgICAgIG1vbnRoQnRuRm9ybWF0OiBjb21wb25lbnRDb25maWcubW9udGhCdG5Gb3JtYXQsXG4gICAgICBtb250aEJ0bkZvcm1hdHRlcjogY29tcG9uZW50Q29uZmlnLm1vbnRoQnRuRm9ybWF0dGVyLFxuICAgICAgbW9udGhCdG5Dc3NDbGFzc0NhbGxiYWNrOiBjb21wb25lbnRDb25maWcubW9udGhCdG5Dc3NDbGFzc0NhbGxiYWNrLFxuICAgICAgbXVsdGlwbGVZZWFyc05hdmlnYXRlQnk6IGNvbXBvbmVudENvbmZpZy5tdWx0aXBsZVllYXJzTmF2aWdhdGVCeSxcbiAgICAgIHNob3dNdWx0aXBsZVllYXJzTmF2aWdhdGlvbjogY29tcG9uZW50Q29uZmlnLnNob3dNdWx0aXBsZVllYXJzTmF2aWdhdGlvbixcbiAgICAgIHNob3dHb1RvQ3VycmVudDogY29tcG9uZW50Q29uZmlnLnNob3dHb1RvQ3VycmVudFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0RGF5QnRuVGV4dChjb25maWc6IElEYXlDYWxlbmRhckNvbmZpZ0ludGVybmFsLCBkYXk6IE1vbWVudCk6IHN0cmluZyB7XG4gICAgaWYgKGNvbmZpZy5kYXlCdG5Gb3JtYXR0ZXIpIHtcbiAgICAgIHJldHVybiBjb25maWcuZGF5QnRuRm9ybWF0dGVyKGRheSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRheS5mb3JtYXQoY29uZmlnLmRheUJ0bkZvcm1hdCk7XG4gIH1cblxuICBnZXREYXlCdG5Dc3NDbGFzcyhjb25maWc6IElEYXlDYWxlbmRhckNvbmZpZ0ludGVybmFsLCBkYXk6IE1vbWVudCk6IHN0cmluZyB7XG4gICAgaWYgKGNvbmZpZy5kYXlCdG5Dc3NDbGFzc0NhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gY29uZmlnLmRheUJ0bkNzc0NsYXNzQ2FsbGJhY2soZGF5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cbiIsImltcG9ydCB7SW5qZWN0YWJsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgKiBhcyBtb21lbnROcyBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHtNb21lbnR9IGZyb20gJ21vbWVudCc7XG5pbXBvcnQge1V0aWxzU2VydmljZX0gZnJvbSAnLi4vY29tbW9uL3NlcnZpY2VzL3V0aWxzL3V0aWxzLnNlcnZpY2UnO1xuaW1wb3J0IHtJVGltZVNlbGVjdENvbmZpZywgSVRpbWVTZWxlY3RDb25maWdJbnRlcm5hbH0gZnJvbSAnLi90aW1lLXNlbGVjdC1jb25maWcubW9kZWwnO1xuY29uc3QgbW9tZW50ID0gbW9tZW50TnM7XG5cbmV4cG9ydCB0eXBlIFRpbWVVbml0ID0gJ2hvdXInIHwgJ21pbnV0ZScgfCAnc2Vjb25kJztcbmV4cG9ydCBjb25zdCBGSVJTVF9QTV9IT1VSID0gMTI7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBUaW1lU2VsZWN0U2VydmljZSB7XG4gIHJlYWRvbmx5IERFRkFVTFRfQ09ORklHOiBJVGltZVNlbGVjdENvbmZpZ0ludGVybmFsID0ge1xuICAgIGhvdXJzMTJGb3JtYXQ6ICdoaCcsXG4gICAgaG91cnMyNEZvcm1hdDogJ0hIJyxcbiAgICBtZXJpZGllbUZvcm1hdDogJ0EnLFxuICAgIG1pbnV0ZXNGb3JtYXQ6ICdtbScsXG4gICAgbWludXRlc0ludGVydmFsOiAxLFxuICAgIHNlY29uZHNGb3JtYXQ6ICdzcycsXG4gICAgc2Vjb25kc0ludGVydmFsOiAxLFxuICAgIHNob3dTZWNvbmRzOiBmYWxzZSxcbiAgICBzaG93VHdlbnR5Rm91ckhvdXJzOiBmYWxzZSxcbiAgICB0aW1lU2VwYXJhdG9yOiAnOicsXG4gICAgbG9jYWxlOiBtb21lbnQubG9jYWxlKClcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHV0aWxzU2VydmljZTogVXRpbHNTZXJ2aWNlKSB7XG4gIH1cblxuICBnZXRDb25maWcoY29uZmlnOiBJVGltZVNlbGVjdENvbmZpZyk6IElUaW1lU2VsZWN0Q29uZmlnSW50ZXJuYWwge1xuICAgIGNvbnN0IHRpbWVDb25maWdzID0ge1xuICAgICAgbWF4VGltZTogdGhpcy51dGlsc1NlcnZpY2Uub25seVRpbWUoY29uZmlnICYmIGNvbmZpZy5tYXhUaW1lKSxcbiAgICAgIG1pblRpbWU6IHRoaXMudXRpbHNTZXJ2aWNlLm9ubHlUaW1lKGNvbmZpZyAmJiBjb25maWcubWluVGltZSlcbiAgICB9O1xuXG4gICAgY29uc3QgX2NvbmZpZyA9IDxJVGltZVNlbGVjdENvbmZpZ0ludGVybmFsPntcbiAgICAgIC4uLnRoaXMuREVGQVVMVF9DT05GSUcsXG4gICAgICAuLi50aGlzLnV0aWxzU2VydmljZS5jbGVhclVuZGVmaW5lZChjb25maWcpLFxuICAgICAgLi4udGltZUNvbmZpZ3NcbiAgICB9O1xuXG4gICAgbW9tZW50LmxvY2FsZShfY29uZmlnLmxvY2FsZSk7XG5cbiAgICByZXR1cm4gX2NvbmZpZztcbiAgfVxuXG4gIGdldFRpbWVGb3JtYXQoY29uZmlnOiBJVGltZVNlbGVjdENvbmZpZ0ludGVybmFsKTogc3RyaW5nIHtcbiAgICByZXR1cm4gKGNvbmZpZy5zaG93VHdlbnR5Rm91ckhvdXJzID8gY29uZmlnLmhvdXJzMjRGb3JtYXQgOiBjb25maWcuaG91cnMxMkZvcm1hdClcbiAgICAgICsgY29uZmlnLnRpbWVTZXBhcmF0b3IgKyBjb25maWcubWludXRlc0Zvcm1hdFxuICAgICAgKyAoY29uZmlnLnNob3dTZWNvbmRzID8gKGNvbmZpZy50aW1lU2VwYXJhdG9yICsgY29uZmlnLnNlY29uZHNGb3JtYXQpIDogJycpXG4gICAgICArIChjb25maWcuc2hvd1R3ZW50eUZvdXJIb3VycyA/ICcnIDogJyAnICsgY29uZmlnLm1lcmlkaWVtRm9ybWF0KTtcbiAgfVxuXG4gIGdldEhvdXJzKGNvbmZpZzogSVRpbWVTZWxlY3RDb25maWdJbnRlcm5hbCwgdDogTW9tZW50IHwgbnVsbCk6IHN0cmluZyB7XG4gICAgY29uc3QgdGltZSA9IHQgfHwgbW9tZW50KCk7XG4gICAgcmV0dXJuIHRpbWUgJiYgdGltZS5mb3JtYXQoY29uZmlnLnNob3dUd2VudHlGb3VySG91cnMgPyBjb25maWcuaG91cnMyNEZvcm1hdCA6IGNvbmZpZy5ob3VyczEyRm9ybWF0KTtcbiAgfVxuXG4gIGdldE1pbnV0ZXMoY29uZmlnOiBJVGltZVNlbGVjdENvbmZpZ0ludGVybmFsLCB0OiBNb21lbnQgfCBudWxsKTogc3RyaW5nIHtcbiAgICBjb25zdCB0aW1lID0gdCB8fCBtb21lbnQoKTtcbiAgICByZXR1cm4gdGltZSAmJiB0aW1lLmZvcm1hdChjb25maWcubWludXRlc0Zvcm1hdCk7XG4gIH1cblxuICBnZXRTZWNvbmRzKGNvbmZpZzogSVRpbWVTZWxlY3RDb25maWdJbnRlcm5hbCwgdDogTW9tZW50IHwgbnVsbCk6IHN0cmluZyB7XG4gICAgY29uc3QgdGltZSA9IHQgfHwgbW9tZW50KCk7XG4gICAgcmV0dXJuIHRpbWUgJiYgdGltZS5mb3JtYXQoY29uZmlnLnNlY29uZHNGb3JtYXQpO1xuICB9XG5cbiAgZ2V0TWVyaWRpZW0oY29uZmlnOiBJVGltZVNlbGVjdENvbmZpZ0ludGVybmFsLCB0aW1lOiBNb21lbnQpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aW1lICYmIHRpbWUuZm9ybWF0KGNvbmZpZy5tZXJpZGllbUZvcm1hdCk7XG4gIH1cblxuICBkZWNyZWFzZShjb25maWc6IElUaW1lU2VsZWN0Q29uZmlnSW50ZXJuYWwsIHRpbWU6IE1vbWVudCwgdW5pdDogVGltZVVuaXQpOiBNb21lbnQge1xuICAgIGxldCBhbW91bnQ6IG51bWJlciA9IDE7XG4gICAgc3dpdGNoICh1bml0KSB7XG4gICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICBhbW91bnQgPSBjb25maWcubWludXRlc0ludGVydmFsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgIGFtb3VudCA9IGNvbmZpZy5zZWNvbmRzSW50ZXJ2YWw7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdGltZS5jbG9uZSgpLnN1YnRyYWN0KGFtb3VudCwgdW5pdCk7XG4gIH1cblxuICBpbmNyZWFzZShjb25maWc6IElUaW1lU2VsZWN0Q29uZmlnSW50ZXJuYWwsIHRpbWU6IE1vbWVudCwgdW5pdDogVGltZVVuaXQpOiBNb21lbnQge1xuICAgIGxldCBhbW91bnQ6IG51bWJlciA9IDE7XG4gICAgc3dpdGNoICh1bml0KSB7XG4gICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICBhbW91bnQgPSBjb25maWcubWludXRlc0ludGVydmFsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgICAgIGFtb3VudCA9IGNvbmZpZy5zZWNvbmRzSW50ZXJ2YWw7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdGltZS5jbG9uZSgpLmFkZChhbW91bnQsIHVuaXQpO1xuICB9XG5cbiAgdG9nZ2xlTWVyaWRpZW0odGltZTogTW9tZW50KTogTW9tZW50IHtcbiAgICBpZiAodGltZS5ob3VycygpIDwgRklSU1RfUE1fSE9VUikge1xuICAgICAgcmV0dXJuIHRpbWUuY2xvbmUoKS5hZGQoMTIsICdob3VyJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aW1lLmNsb25lKCkuc3VidHJhY3QoMTIsICdob3VyJyk7XG4gICAgfVxuICB9XG5cbiAgc2hvdWxkU2hvd0RlY3JlYXNlKGNvbmZpZzogSVRpbWVTZWxlY3RDb25maWdJbnRlcm5hbCwgdGltZTogTW9tZW50LCB1bml0OiBUaW1lVW5pdCk6IGJvb2xlYW4ge1xuICAgIGlmICghY29uZmlnLm1pbiAmJiAhY29uZmlnLm1pblRpbWUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICA7XG4gICAgY29uc3QgbmV3VGltZSA9IHRoaXMuZGVjcmVhc2UoY29uZmlnLCB0aW1lLCB1bml0KTtcblxuICAgIHJldHVybiAoIWNvbmZpZy5taW4gfHwgY29uZmlnLm1pbi5pc1NhbWVPckJlZm9yZShuZXdUaW1lKSlcbiAgICAgICYmICghY29uZmlnLm1pblRpbWUgfHwgY29uZmlnLm1pblRpbWUuaXNTYW1lT3JCZWZvcmUodGhpcy51dGlsc1NlcnZpY2Uub25seVRpbWUobmV3VGltZSkpKTtcbiAgfVxuXG4gIHNob3VsZFNob3dJbmNyZWFzZShjb25maWc6IElUaW1lU2VsZWN0Q29uZmlnSW50ZXJuYWwsIHRpbWU6IE1vbWVudCwgdW5pdDogVGltZVVuaXQpOiBib29sZWFuIHtcbiAgICBpZiAoIWNvbmZpZy5tYXggJiYgIWNvbmZpZy5tYXhUaW1lKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgO1xuICAgIGNvbnN0IG5ld1RpbWUgPSB0aGlzLmluY3JlYXNlKGNvbmZpZywgdGltZSwgdW5pdCk7XG5cbiAgICByZXR1cm4gKCFjb25maWcubWF4IHx8IGNvbmZpZy5tYXguaXNTYW1lT3JBZnRlcihuZXdUaW1lKSlcbiAgICAgICYmICghY29uZmlnLm1heFRpbWUgfHwgY29uZmlnLm1heFRpbWUuaXNTYW1lT3JBZnRlcih0aGlzLnV0aWxzU2VydmljZS5vbmx5VGltZShuZXdUaW1lKSkpO1xuICB9XG5cbiAgc2hvdWxkU2hvd1RvZ2dsZU1lcmlkaWVtKGNvbmZpZzogSVRpbWVTZWxlY3RDb25maWdJbnRlcm5hbCwgdGltZTogTW9tZW50KTogYm9vbGVhbiB7XG4gICAgaWYgKCFjb25maWcubWluICYmICFjb25maWcubWF4ICYmICFjb25maWcubWluVGltZSAmJiAhY29uZmlnLm1heFRpbWUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBuZXdUaW1lID0gdGhpcy50b2dnbGVNZXJpZGllbSh0aW1lKTtcbiAgICByZXR1cm4gKCFjb25maWcubWF4IHx8IGNvbmZpZy5tYXguaXNTYW1lT3JBZnRlcihuZXdUaW1lKSlcbiAgICAgICYmICghY29uZmlnLm1pbiB8fCBjb25maWcubWluLmlzU2FtZU9yQmVmb3JlKG5ld1RpbWUpKVxuICAgICAgJiYgKCFjb25maWcubWF4VGltZSB8fCBjb25maWcubWF4VGltZS5pc1NhbWVPckFmdGVyKHRoaXMudXRpbHNTZXJ2aWNlLm9ubHlUaW1lKG5ld1RpbWUpKSlcbiAgICAgICYmICghY29uZmlnLm1pblRpbWUgfHwgY29uZmlnLm1pblRpbWUuaXNTYW1lT3JCZWZvcmUodGhpcy51dGlsc1NlcnZpY2Uub25seVRpbWUobmV3VGltZSkpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAqIGFzIG1vbWVudE5zIGZyb20gJ21vbWVudCc7XG5pbXBvcnQge01vbWVudH0gZnJvbSAnbW9tZW50JztcblxuaW1wb3J0IHtVdGlsc1NlcnZpY2V9IGZyb20gJy4uL2NvbW1vbi9zZXJ2aWNlcy91dGlscy91dGlscy5zZXJ2aWNlJztcbmltcG9ydCB7RGF5Q2FsZW5kYXJTZXJ2aWNlfSBmcm9tICcuLi9kYXktY2FsZW5kYXIvZGF5LWNhbGVuZGFyLnNlcnZpY2UnO1xuaW1wb3J0IHtUaW1lU2VsZWN0U2VydmljZX0gZnJvbSAnLi4vdGltZS1zZWxlY3QvdGltZS1zZWxlY3Quc2VydmljZSc7XG5pbXBvcnQge0lEYXlUaW1lQ2FsZW5kYXJDb25maWd9IGZyb20gJy4vZGF5LXRpbWUtY2FsZW5kYXItY29uZmlnLm1vZGVsJztcbmNvbnN0IG1vbWVudCA9IG1vbWVudE5zO1xuXG5jb25zdCBEQVlfRk9STUFUID0gJ1lZWVlNTUREJztcbmNvbnN0IFRJTUVfRk9STUFUID0gJ0hIOm1tOnNzJztcbmNvbnN0IENPTUJJTkVEX0ZPUk1BVCA9IERBWV9GT1JNQVQgKyBUSU1FX0ZPUk1BVDtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERheVRpbWVDYWxlbmRhclNlcnZpY2Uge1xuICByZWFkb25seSBERUZBVUxUX0NPTkZJRzogSURheVRpbWVDYWxlbmRhckNvbmZpZyA9IHtcbiAgICBsb2NhbGU6IG1vbWVudC5sb2NhbGUoKVxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgdXRpbHNTZXJ2aWNlOiBVdGlsc1NlcnZpY2UsXG4gICAgICAgICAgICAgIHByaXZhdGUgZGF5Q2FsZW5kYXJTZXJ2aWNlOiBEYXlDYWxlbmRhclNlcnZpY2UsXG4gICAgICAgICAgICAgIHByaXZhdGUgdGltZVNlbGVjdFNlcnZpY2U6IFRpbWVTZWxlY3RTZXJ2aWNlKSB7XG4gIH1cblxuICBnZXRDb25maWcoY29uZmlnOiBJRGF5VGltZUNhbGVuZGFyQ29uZmlnKTogSURheVRpbWVDYWxlbmRhckNvbmZpZyB7XG4gICAgY29uc3QgX2NvbmZpZyA9IHtcbiAgICAgIC4uLnRoaXMuREVGQVVMVF9DT05GSUcsXG4gICAgICAuLi50aGlzLnRpbWVTZWxlY3RTZXJ2aWNlLmdldENvbmZpZyhjb25maWcpLFxuICAgICAgLi4udGhpcy5kYXlDYWxlbmRhclNlcnZpY2UuZ2V0Q29uZmlnKGNvbmZpZylcbiAgICB9O1xuXG4gICAgbW9tZW50LmxvY2FsZShjb25maWcubG9jYWxlKTtcblxuICAgIHJldHVybiBfY29uZmlnO1xuICB9XG5cbiAgdXBkYXRlRGF5KGN1cnJlbnQ6IE1vbWVudCwgZGF5OiBNb21lbnQsIGNvbmZpZzogSURheVRpbWVDYWxlbmRhckNvbmZpZyk6IE1vbWVudCB7XG4gICAgY29uc3QgdGltZSA9IGN1cnJlbnQgPyBjdXJyZW50IDogbW9tZW50KCk7XG4gICAgbGV0IHVwZGF0ZWQgPSBtb21lbnQoZGF5LmZvcm1hdChEQVlfRk9STUFUKSArIHRpbWUuZm9ybWF0KFRJTUVfRk9STUFUKSwgQ09NQklORURfRk9STUFUKVxuXG4gICAgaWYgKGNvbmZpZy5taW4pIHtcbiAgICAgIGNvbnN0IG1pbiA9IDxNb21lbnQ+Y29uZmlnLm1pbjtcbiAgICAgIHVwZGF0ZWQgPSBtaW4uaXNBZnRlcih1cGRhdGVkKSA/IG1pbiA6IHVwZGF0ZWQ7XG4gICAgfVxuXG4gICAgaWYgKGNvbmZpZy5tYXgpIHtcbiAgICAgIGNvbnN0IG1heCA9IDxNb21lbnQ+Y29uZmlnLm1heDtcbiAgICAgIHVwZGF0ZWQgPSBtYXguaXNCZWZvcmUodXBkYXRlZCkgPyBtYXggOiB1cGRhdGVkO1xuICAgIH1cblxuICAgIHJldHVybiB1cGRhdGVkO1xuICB9XG5cbiAgdXBkYXRlVGltZShjdXJyZW50OiBNb21lbnQsIHRpbWU6IE1vbWVudCk6IE1vbWVudCB7XG4gICAgY29uc3QgZGF5ID0gY3VycmVudCA/IGN1cnJlbnQgOiBtb21lbnQoKTtcblxuICAgIHJldHVybiBtb21lbnQoZGF5LmZvcm1hdChEQVlfRk9STUFUKSArIHRpbWUuZm9ybWF0KFRJTUVfRk9STUFUKSwgQ09NQklORURfRk9STUFUKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtFdmVudEVtaXR0ZXIsIEluamVjdGFibGV9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtJRGF0ZVBpY2tlckNvbmZpZywgSURhdGVQaWNrZXJDb25maWdJbnRlcm5hbH0gZnJvbSAnLi9kYXRlLXBpY2tlci1jb25maWcubW9kZWwnO1xuaW1wb3J0ICogYXMgbW9tZW50TnMgZnJvbSAnbW9tZW50JztcbmltcG9ydCB7TW9tZW50fSBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHtVdGlsc1NlcnZpY2V9IGZyb20gJy4uL2NvbW1vbi9zZXJ2aWNlcy91dGlscy91dGlscy5zZXJ2aWNlJztcbmltcG9ydCB7SURheUNhbGVuZGFyQ29uZmlnfSBmcm9tICcuLi9kYXktY2FsZW5kYXIvZGF5LWNhbGVuZGFyLWNvbmZpZy5tb2RlbCc7XG5pbXBvcnQge1RpbWVTZWxlY3RTZXJ2aWNlfSBmcm9tICcuLi90aW1lLXNlbGVjdC90aW1lLXNlbGVjdC5zZXJ2aWNlJztcbmltcG9ydCB7RGF5VGltZUNhbGVuZGFyU2VydmljZX0gZnJvbSAnLi4vZGF5LXRpbWUtY2FsZW5kYXIvZGF5LXRpbWUtY2FsZW5kYXIuc2VydmljZSc7XG5pbXBvcnQge0lUaW1lU2VsZWN0Q29uZmlnfSBmcm9tICcuLi90aW1lLXNlbGVjdC90aW1lLXNlbGVjdC1jb25maWcubW9kZWwnO1xuaW1wb3J0IHtDYWxlbmRhck1vZGV9IGZyb20gJy4uL2NvbW1vbi90eXBlcy9jYWxlbmRhci1tb2RlJztcbmltcG9ydCB7Q2FsZW5kYXJWYWx1ZX0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL2NhbGVuZGFyLXZhbHVlJztcbmNvbnN0IG1vbWVudCA9IG1vbWVudE5zO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRGF0ZVBpY2tlclNlcnZpY2Uge1xuICByZWFkb25seSBvblBpY2tlckNsb3NlZDogRXZlbnRFbWl0dGVyPG51bGw+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBwcml2YXRlIGRlZmF1bHRDb25maWc6IElEYXRlUGlja2VyQ29uZmlnSW50ZXJuYWwgPSB7XG4gICAgY2xvc2VPblNlbGVjdDogdHJ1ZSxcbiAgICBjbG9zZU9uU2VsZWN0RGVsYXk6IDEwMCxcbiAgICBmb3JtYXQ6ICdERC1NTS1ZWVlZJyxcbiAgICBvcGVuT25Gb2N1czogdHJ1ZSxcbiAgICBvcGVuT25DbGljazogdHJ1ZSxcbiAgICBvbk9wZW5EZWxheTogMCxcbiAgICBkaXNhYmxlS2V5cHJlc3M6IGZhbHNlLFxuICAgIHNob3dOZWFyTW9udGhEYXlzOiB0cnVlLFxuICAgIHNob3dXZWVrTnVtYmVyczogZmFsc2UsXG4gICAgZW5hYmxlTW9udGhTZWxlY3RvcjogdHJ1ZSxcbiAgICBzaG93R29Ub0N1cnJlbnQ6IHRydWUsXG4gICAgbG9jYWxlOiBtb21lbnQubG9jYWxlKCksXG4gICAgaGlkZU9uT3V0c2lkZUNsaWNrOiB0cnVlXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSB1dGlsc1NlcnZpY2U6IFV0aWxzU2VydmljZSxcbiAgICAgICAgICAgICAgcHJpdmF0ZSB0aW1lU2VsZWN0U2VydmljZTogVGltZVNlbGVjdFNlcnZpY2UsXG4gICAgICAgICAgICAgIHByaXZhdGUgZGF5dGltZUNhbGVuZGFyU2VydmljZTogRGF5VGltZUNhbGVuZGFyU2VydmljZSkge1xuICB9XG5cbiAgLy8gdG9kbzo6IGFkZCB1bml0IHRlc3RzXG4gIGdldENvbmZpZyhjb25maWc6IElEYXRlUGlja2VyQ29uZmlnLCBtb2RlOiBDYWxlbmRhck1vZGUgPSAnZGF5dGltZScpOiBJRGF0ZVBpY2tlckNvbmZpZ0ludGVybmFsIHtcbiAgICBjb25zdCBfY29uZmlnID0gPElEYXRlUGlja2VyQ29uZmlnSW50ZXJuYWw+e1xuICAgICAgLi4udGhpcy5kZWZhdWx0Q29uZmlnLFxuICAgICAgZm9ybWF0OiB0aGlzLmdldERlZmF1bHRGb3JtYXRCeU1vZGUobW9kZSksXG4gICAgICAuLi50aGlzLnV0aWxzU2VydmljZS5jbGVhclVuZGVmaW5lZChjb25maWcpXG4gICAgfTtcblxuICAgIHRoaXMudXRpbHNTZXJ2aWNlLmNvbnZlcnRQcm9wc1RvTW9tZW50KF9jb25maWcsIF9jb25maWcuZm9ybWF0LCBbJ21pbicsICdtYXgnXSk7XG5cbiAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5hbGxvd011bHRpU2VsZWN0ICYmIGNvbmZpZy5jbG9zZU9uU2VsZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIF9jb25maWcuY2xvc2VPblNlbGVjdCA9IGZhbHNlO1xuICAgIH1cblxuICAgIG1vbWVudC5sb2NhbGUoX2NvbmZpZy5sb2NhbGUpO1xuXG4gICAgcmV0dXJuIF9jb25maWc7XG4gIH1cblxuICBnZXREYXlDb25maWdTZXJ2aWNlKHBpY2tlckNvbmZpZzogSURhdGVQaWNrZXJDb25maWcpOiBJRGF5Q2FsZW5kYXJDb25maWcge1xuICAgIHJldHVybiB7XG4gICAgICBtaW46IHBpY2tlckNvbmZpZy5taW4sXG4gICAgICBtYXg6IHBpY2tlckNvbmZpZy5tYXgsXG4gICAgICBpc0RheURpc2FibGVkQ2FsbGJhY2s6IHBpY2tlckNvbmZpZy5pc0RheURpc2FibGVkQ2FsbGJhY2ssXG4gICAgICB3ZWVrRGF5Rm9ybWF0OiBwaWNrZXJDb25maWcud2Vla0RheUZvcm1hdCxcbiAgICAgIHNob3dOZWFyTW9udGhEYXlzOiBwaWNrZXJDb25maWcuc2hvd05lYXJNb250aERheXMsXG4gICAgICBzaG93V2Vla051bWJlcnM6IHBpY2tlckNvbmZpZy5zaG93V2Vla051bWJlcnMsXG4gICAgICBmaXJzdERheU9mV2VlazogcGlja2VyQ29uZmlnLmZpcnN0RGF5T2ZXZWVrLFxuICAgICAgZm9ybWF0OiBwaWNrZXJDb25maWcuZm9ybWF0LFxuICAgICAgYWxsb3dNdWx0aVNlbGVjdDogcGlja2VyQ29uZmlnLmFsbG93TXVsdGlTZWxlY3QsXG4gICAgICBtb250aEZvcm1hdDogcGlja2VyQ29uZmlnLm1vbnRoRm9ybWF0LFxuICAgICAgbW9udGhGb3JtYXR0ZXI6IHBpY2tlckNvbmZpZy5tb250aEZvcm1hdHRlcixcbiAgICAgIGVuYWJsZU1vbnRoU2VsZWN0b3I6IHBpY2tlckNvbmZpZy5lbmFibGVNb250aFNlbGVjdG9yLFxuICAgICAgeWVhckZvcm1hdDogcGlja2VyQ29uZmlnLnllYXJGb3JtYXQsXG4gICAgICB5ZWFyRm9ybWF0dGVyOiBwaWNrZXJDb25maWcueWVhckZvcm1hdHRlcixcbiAgICAgIGRheUJ0bkZvcm1hdDogcGlja2VyQ29uZmlnLmRheUJ0bkZvcm1hdCxcbiAgICAgIGRheUJ0bkZvcm1hdHRlcjogcGlja2VyQ29uZmlnLmRheUJ0bkZvcm1hdHRlcixcbiAgICAgIGRheUJ0bkNzc0NsYXNzQ2FsbGJhY2s6IHBpY2tlckNvbmZpZy5kYXlCdG5Dc3NDbGFzc0NhbGxiYWNrLFxuICAgICAgbW9udGhCdG5Gb3JtYXQ6IHBpY2tlckNvbmZpZy5tb250aEJ0bkZvcm1hdCxcbiAgICAgIG1vbnRoQnRuRm9ybWF0dGVyOiBwaWNrZXJDb25maWcubW9udGhCdG5Gb3JtYXR0ZXIsXG4gICAgICBtb250aEJ0bkNzc0NsYXNzQ2FsbGJhY2s6IHBpY2tlckNvbmZpZy5tb250aEJ0bkNzc0NsYXNzQ2FsbGJhY2ssXG4gICAgICBtdWx0aXBsZVllYXJzTmF2aWdhdGVCeTogcGlja2VyQ29uZmlnLm11bHRpcGxlWWVhcnNOYXZpZ2F0ZUJ5LFxuICAgICAgc2hvd011bHRpcGxlWWVhcnNOYXZpZ2F0aW9uOiBwaWNrZXJDb25maWcuc2hvd011bHRpcGxlWWVhcnNOYXZpZ2F0aW9uLFxuICAgICAgbG9jYWxlOiBwaWNrZXJDb25maWcubG9jYWxlLFxuICAgICAgcmV0dXJuZWRWYWx1ZVR5cGU6IHBpY2tlckNvbmZpZy5yZXR1cm5lZFZhbHVlVHlwZSxcbiAgICAgIHNob3dHb1RvQ3VycmVudDogcGlja2VyQ29uZmlnLnNob3dHb1RvQ3VycmVudCxcbiAgICAgIHVuU2VsZWN0T25DbGljazogcGlja2VyQ29uZmlnLnVuU2VsZWN0T25DbGlja1xuICAgIH07XG4gIH1cblxuICBnZXREYXlUaW1lQ29uZmlnU2VydmljZShwaWNrZXJDb25maWc6IElEYXRlUGlja2VyQ29uZmlnKTogSVRpbWVTZWxlY3RDb25maWcge1xuICAgIHJldHVybiB0aGlzLmRheXRpbWVDYWxlbmRhclNlcnZpY2UuZ2V0Q29uZmlnKHBpY2tlckNvbmZpZyk7XG4gIH1cblxuICBnZXRUaW1lQ29uZmlnU2VydmljZShwaWNrZXJDb25maWc6IElEYXRlUGlja2VyQ29uZmlnKTogSVRpbWVTZWxlY3RDb25maWcge1xuICAgIHJldHVybiB0aGlzLnRpbWVTZWxlY3RTZXJ2aWNlLmdldENvbmZpZyhwaWNrZXJDb25maWcpO1xuICB9XG5cbiAgcGlja2VyQ2xvc2VkKCkge1xuICAgIHRoaXMub25QaWNrZXJDbG9zZWQuZW1pdCgpO1xuICB9XG5cbiAgLy8gdG9kbzo6IGFkZCB1bml0IHRlc3RzXG4gIGlzVmFsaWRJbnB1dERhdGVWYWx1ZSh2YWx1ZTogc3RyaW5nLCBjb25maWc6IElEYXRlUGlja2VyQ29uZmlnKTogYm9vbGVhbiB7XG4gICAgdmFsdWUgPSB2YWx1ZSA/IHZhbHVlIDogJyc7XG4gICAgY29uc3QgZGF0ZXNTdHJBcnI6IHN0cmluZ1tdID0gdGhpcy51dGlsc1NlcnZpY2UuZGF0ZXNTdHJpbmdUb1N0cmluZ0FycmF5KHZhbHVlKTtcblxuICAgIHJldHVybiBkYXRlc1N0ckFyci5ldmVyeShkYXRlID0+IHRoaXMudXRpbHNTZXJ2aWNlLmlzRGF0ZVZhbGlkKGRhdGUsIGNvbmZpZy5mb3JtYXQpKTtcbiAgfVxuXG4gIC8vIHRvZG86OiBhZGQgdW5pdCB0ZXN0c1xuICBjb252ZXJ0SW5wdXRWYWx1ZVRvTW9tZW50QXJyYXkodmFsdWU6IHN0cmluZywgY29uZmlnOiBJRGF0ZVBpY2tlckNvbmZpZyk6IE1vbWVudFtdIHtcbiAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUgOiAnJztcbiAgICBjb25zdCBkYXRlc1N0ckFycjogc3RyaW5nW10gPSB0aGlzLnV0aWxzU2VydmljZS5kYXRlc1N0cmluZ1RvU3RyaW5nQXJyYXkodmFsdWUpO1xuXG4gICAgcmV0dXJuIHRoaXMudXRpbHNTZXJ2aWNlLmNvbnZlcnRUb01vbWVudEFycmF5KGRhdGVzU3RyQXJyLCBjb25maWcuZm9ybWF0LCBjb25maWcuYWxsb3dNdWx0aVNlbGVjdCk7XG4gIH1cblxuICBwcml2YXRlIGdldERlZmF1bHRGb3JtYXRCeU1vZGUobW9kZTogQ2FsZW5kYXJNb2RlKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgIHJldHVybiAnREQtTU0tWVlZWSc7XG4gICAgICBjYXNlICdkYXl0aW1lJzpcbiAgICAgICAgcmV0dXJuICdERC1NTS1ZWVlZIEhIOm1tOnNzJztcbiAgICAgIGNhc2UgJ3RpbWUnOlxuICAgICAgICByZXR1cm4gJ0hIOm1tOnNzJztcbiAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgcmV0dXJuICdNTU0sIFlZWVknO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtJRGF0ZX0gZnJvbSAnLi4vY29tbW9uL21vZGVscy9kYXRlLm1vZGVsJztcbmltcG9ydCB7RG9tSGVscGVyfSBmcm9tICcuLi9jb21tb24vc2VydmljZXMvZG9tLWFwcGVuZGVyL2RvbS1hcHBlbmRlci5zZXJ2aWNlJztcbmltcG9ydCB7VXRpbHNTZXJ2aWNlfSBmcm9tICcuLi9jb21tb24vc2VydmljZXMvdXRpbHMvdXRpbHMuc2VydmljZSc7XG5pbXBvcnQge0NhbGVuZGFyTW9kZX0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL2NhbGVuZGFyLW1vZGUnO1xuaW1wb3J0IHtFQ2FsZW5kYXJNb2RlfSBmcm9tICcuLi9jb21tb24vdHlwZXMvY2FsZW5kYXItbW9kZS1lbnVtJztcbmltcG9ydCB7Q2FsZW5kYXJWYWx1ZX0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL2NhbGVuZGFyLXZhbHVlJztcbmltcG9ydCB7RUNhbGVuZGFyVmFsdWV9IGZyb20gJy4uL2NvbW1vbi90eXBlcy9jYWxlbmRhci12YWx1ZS1lbnVtJztcbmltcG9ydCB7U2luZ2xlQ2FsZW5kYXJWYWx1ZX0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL3NpbmdsZS1jYWxlbmRhci12YWx1ZSc7XG5pbXBvcnQge0lEYXlDYWxlbmRhckNvbmZpZ30gZnJvbSAnLi4vZGF5LWNhbGVuZGFyL2RheS1jYWxlbmRhci1jb25maWcubW9kZWwnO1xuaW1wb3J0IHtEYXlDYWxlbmRhckNvbXBvbmVudH0gZnJvbSAnLi4vZGF5LWNhbGVuZGFyL2RheS1jYWxlbmRhci5jb21wb25lbnQnO1xuaW1wb3J0IHtEYXlDYWxlbmRhclNlcnZpY2V9IGZyb20gJy4uL2RheS1jYWxlbmRhci9kYXktY2FsZW5kYXIuc2VydmljZSc7XG5pbXBvcnQge0lEYXlUaW1lQ2FsZW5kYXJDb25maWd9IGZyb20gJy4uL2RheS10aW1lLWNhbGVuZGFyL2RheS10aW1lLWNhbGVuZGFyLWNvbmZpZy5tb2RlbCc7XG5pbXBvcnQge0RheVRpbWVDYWxlbmRhclNlcnZpY2V9IGZyb20gJy4uL2RheS10aW1lLWNhbGVuZGFyL2RheS10aW1lLWNhbGVuZGFyLnNlcnZpY2UnO1xuaW1wb3J0IHtJVGltZVNlbGVjdENvbmZpZ30gZnJvbSAnLi4vdGltZS1zZWxlY3QvdGltZS1zZWxlY3QtY29uZmlnLm1vZGVsJztcbmltcG9ydCB7VGltZVNlbGVjdENvbXBvbmVudH0gZnJvbSAnLi4vdGltZS1zZWxlY3QvdGltZS1zZWxlY3QuY29tcG9uZW50JztcbmltcG9ydCB7VGltZVNlbGVjdFNlcnZpY2V9IGZyb20gJy4uL3RpbWUtc2VsZWN0L3RpbWUtc2VsZWN0LnNlcnZpY2UnO1xuaW1wb3J0IHtJRGF0ZVBpY2tlckNvbmZpZywgSURhdGVQaWNrZXJDb25maWdJbnRlcm5hbH0gZnJvbSAnLi9kYXRlLXBpY2tlci1jb25maWcubW9kZWwnO1xuaW1wb3J0IHtJRHBEYXlQaWNrZXJBcGl9IGZyb20gJy4vZGF0ZS1waWNrZXIuYXBpJztcbmltcG9ydCB7RGF0ZVBpY2tlclNlcnZpY2V9IGZyb20gJy4vZGF0ZS1waWNrZXIuc2VydmljZSc7XG5pbXBvcnQge1xuICBBZnRlclZpZXdJbml0LFxuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBmb3J3YXJkUmVmLFxuICBIb3N0QmluZGluZyxcbiAgSG9zdExpc3RlbmVyLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBSZW5kZXJlcixcbiAgU2ltcGxlQ2hhbmdlcyxcbiAgVmlld0NoaWxkLFxuICBWaWV3RW5jYXBzdWxhdGlvblxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIENvbnRyb2xWYWx1ZUFjY2Vzc29yLFxuICBGb3JtQ29udHJvbCxcbiAgTkdfVkFMSURBVE9SUyxcbiAgTkdfVkFMVUVfQUNDRVNTT1IsXG4gIFZhbGlkYXRpb25FcnJvcnMsXG4gIFZhbGlkYXRvclxufSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge01vbWVudCwgdW5pdE9mVGltZX0gZnJvbSAnbW9tZW50JztcbmltcG9ydCB7RGF0ZVZhbGlkYXRvcn0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL3ZhbGlkYXRvci50eXBlJztcbmltcG9ydCB7TW9udGhDYWxlbmRhckNvbXBvbmVudH0gZnJvbSAnLi4vbW9udGgtY2FsZW5kYXIvbW9udGgtY2FsZW5kYXIuY29tcG9uZW50JztcbmltcG9ydCB7RGF5VGltZUNhbGVuZGFyQ29tcG9uZW50fSBmcm9tICcuLi9kYXktdGltZS1jYWxlbmRhci9kYXktdGltZS1jYWxlbmRhci5jb21wb25lbnQnO1xuaW1wb3J0IHtJTmF2RXZlbnR9IGZyb20gJy4uL2NvbW1vbi9tb2RlbHMvbmF2aWdhdGlvbi1ldmVudC5tb2RlbCc7XG5pbXBvcnQge1NlbGVjdEV2ZW50fSBmcm9tICcuLi9jb21tb24vdHlwZXMvc2VsZWN0aW9uLWV2ZXQuZW51bS4nO1xuaW1wb3J0IHtJU2VsZWN0aW9uRXZlbnR9IGZyb20gJy4uL2NvbW1vbi90eXBlcy9zZWxlY3Rpb24tZXZldC5tb2RlbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2RwLWRhdGUtcGlja2VyJyxcbiAgdGVtcGxhdGVVcmw6ICdkYXRlLXBpY2tlci5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWydkYXRlLXBpY2tlci5jb21wb25lbnQubGVzcyddLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgcHJvdmlkZXJzOiBbXG4gICAgRGF0ZVBpY2tlclNlcnZpY2UsXG4gICAgRGF5VGltZUNhbGVuZGFyU2VydmljZSxcbiAgICBEYXlDYWxlbmRhclNlcnZpY2UsXG4gICAgVGltZVNlbGVjdFNlcnZpY2UsXG4gICAge1xuICAgICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBEYXRlUGlja2VyQ29tcG9uZW50KSxcbiAgICAgIG11bHRpOiB0cnVlXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBOR19WQUxJREFUT1JTLFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gRGF0ZVBpY2tlckNvbXBvbmVudCksXG4gICAgICBtdWx0aTogdHJ1ZVxuICAgIH1cbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBEYXRlUGlja2VyQ29tcG9uZW50IGltcGxlbWVudHMgT25DaGFuZ2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPbkluaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFmdGVyVmlld0luaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbnRyb2xWYWx1ZUFjY2Vzc29yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWYWxpZGF0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9uRGVzdHJveSB7XG4gIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgY29uZmlnOiBJRGF0ZVBpY2tlckNvbmZpZztcbiAgQElucHV0KCkgbW9kZTogQ2FsZW5kYXJNb2RlID0gJ2RheSc7XG4gIEBJbnB1dCgpIHBsYWNlaG9sZGVyOiBzdHJpbmcgPSAnJztcbiAgQElucHV0KCkgZGlzYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgZGlzcGxheURhdGU6IFNpbmdsZUNhbGVuZGFyVmFsdWU7XG4gIEBIb3N0QmluZGluZygnY2xhc3MnKSBASW5wdXQoKSB0aGVtZTogc3RyaW5nO1xuICBASW5wdXQoKSBtaW5EYXRlOiBTaW5nbGVDYWxlbmRhclZhbHVlO1xuICBASW5wdXQoKSBtYXhEYXRlOiBTaW5nbGVDYWxlbmRhclZhbHVlO1xuICBASW5wdXQoKSBtaW5UaW1lOiBTaW5nbGVDYWxlbmRhclZhbHVlO1xuICBASW5wdXQoKSBtYXhUaW1lOiBTaW5nbGVDYWxlbmRhclZhbHVlO1xuXG4gIEBPdXRwdXQoKSBvcGVuID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuICBAT3V0cHV0KCkgY2xvc2UgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG4gIEBPdXRwdXQoKSBvbkNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8Q2FsZW5kYXJWYWx1ZT4oKTtcbiAgQE91dHB1dCgpIG9uR29Ub0N1cnJlbnQ6IEV2ZW50RW1pdHRlcjx2b2lkPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uTGVmdE5hdjogRXZlbnRFbWl0dGVyPElOYXZFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvblJpZ2h0TmF2OiBFdmVudEVtaXR0ZXI8SU5hdkV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uU2VsZWN0OiBFdmVudEVtaXR0ZXI8SVNlbGVjdGlvbkV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBAVmlld0NoaWxkKCdjb250YWluZXInKSBjYWxlbmRhckNvbnRhaW5lcjogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZGF5Q2FsZW5kYXInKSBkYXlDYWxlbmRhclJlZjogRGF5Q2FsZW5kYXJDb21wb25lbnQ7XG4gIEBWaWV3Q2hpbGQoJ21vbnRoQ2FsZW5kYXInKSBtb250aENhbGVuZGFyUmVmOiBNb250aENhbGVuZGFyQ29tcG9uZW50O1xuICBAVmlld0NoaWxkKCdkYXl0aW1lQ2FsZW5kYXInKSBkYXlUaW1lQ2FsZW5kYXJSZWY6IERheVRpbWVDYWxlbmRhckNvbXBvbmVudDtcbiAgQFZpZXdDaGlsZCgndGltZVNlbGVjdCcpIHRpbWVTZWxlY3RSZWY6IFRpbWVTZWxlY3RDb21wb25lbnQ7XG5cbiAgY29tcG9uZW50Q29uZmlnOiBJRGF0ZVBpY2tlckNvbmZpZ0ludGVybmFsO1xuICBkYXlDYWxlbmRhckNvbmZpZzogSURheUNhbGVuZGFyQ29uZmlnO1xuICBkYXlUaW1lQ2FsZW5kYXJDb25maWc6IElEYXlUaW1lQ2FsZW5kYXJDb25maWc7XG4gIHRpbWVTZWxlY3RDb25maWc6IElUaW1lU2VsZWN0Q29uZmlnO1xuICBfYXJlQ2FsZW5kYXJzU2hvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgaGlkZVN0YXRlSGVscGVyOiBib29sZWFuID0gZmFsc2U7XG4gIF9zZWxlY3RlZDogTW9tZW50W10gPSBbXTtcbiAgaW5wdXRWYWx1ZTogQ2FsZW5kYXJWYWx1ZTtcbiAgaXNGb2N1c2VkVHJpZ2dlcjogYm9vbGVhbiA9IGZhbHNlO1xuICBfY3VycmVudERhdGVWaWV3OiBNb21lbnQ7XG4gIGlucHV0RWxlbWVudFZhbHVlOiBzdHJpbmc7XG4gIGNhbGVuZGFyV3JhcHBlcjogSFRNTEVsZW1lbnQ7XG4gIGFwcGVuZFRvRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gIGlucHV0RWxlbWVudENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHBvcHVwRWxlbTogSFRNTEVsZW1lbnQ7XG4gIGhhbmRsZUlubmVyRWxlbWVudENsaWNrVW5saXN0ZW5lcnM6IEZ1bmN0aW9uW10gPSBbXTtcbiAgZ2xvYmFsTGlzdGVuZXJzVW5saXN0ZW5lcnM6IEZ1bmN0aW9uW10gPSBbXTtcbiAgdmFsaWRhdGVGbjogRGF0ZVZhbGlkYXRvcjtcbiAgYXBpOiBJRHBEYXlQaWNrZXJBcGkgPSB7XG4gICAgb3BlbjogdGhpcy5zaG93Q2FsZW5kYXJzLmJpbmQodGhpcyksXG4gICAgY2xvc2U6IHRoaXMuaGlkZUNhbGVuZGFyLmJpbmQodGhpcyksXG4gICAgbW92ZUNhbGVuZGFyVG86IHRoaXMubW92ZUNhbGVuZGFyVG8uYmluZCh0aGlzKVxuICB9O1xuICBzZWxlY3RFdmVudCA9IFNlbGVjdEV2ZW50O1xuXG4gIHNldCBzZWxlY3RlZChzZWxlY3RlZDogTW9tZW50W10pIHtcbiAgICB0aGlzLl9zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgIHRoaXMuaW5wdXRFbGVtZW50VmFsdWUgPSAoPHN0cmluZ1tdPnRoaXMudXRpbHNTZXJ2aWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb252ZXJ0RnJvbU1vbWVudEFycmF5KHRoaXMuY29tcG9uZW50Q29uZmlnLmZvcm1hdCwgc2VsZWN0ZWQsIEVDYWxlbmRhclZhbHVlLlN0cmluZ0FycikpXG4gICAgICAuam9pbignIHwgJyk7XG4gICAgY29uc3QgdmFsID0gdGhpcy5wcm9jZXNzT25DaGFuZ2VDYWxsYmFjayhzZWxlY3RlZCk7XG4gICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKHZhbCwgZmFsc2UpO1xuICAgIHRoaXMub25DaGFuZ2UuZW1pdCh2YWwpO1xuICB9XG5cbiAgZ2V0IHNlbGVjdGVkKCk6IE1vbWVudFtdIHtcbiAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWQ7XG4gIH1cblxuICBnZXQgYXJlQ2FsZW5kYXJzU2hvd24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2FyZUNhbGVuZGFyc1Nob3duO1xuICB9XG5cbiAgZ2V0IG9wZW5PbkZvY3VzKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudENvbmZpZy5vcGVuT25Gb2N1cztcbiAgfVxuXG4gIGdldCBvcGVuT25DbGljaygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnRDb25maWcub3Blbk9uQ2xpY2s7XG4gIH1cblxuICBzZXQgYXJlQ2FsZW5kYXJzU2hvd24odmFsdWU6IGJvb2xlYW4pIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuc3RhcnRHbG9iYWxMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuZG9tSGVscGVyLmFwcGVuZEVsZW1lbnRUb1Bvc2l0aW9uKHtcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmFwcGVuZFRvRWxlbWVudCxcbiAgICAgICAgZWxlbWVudDogdGhpcy5jYWxlbmRhcldyYXBwZXIsXG4gICAgICAgIGFuY2hvcjogdGhpcy5pbnB1dEVsZW1lbnRDb250YWluZXIsXG4gICAgICAgIGRpbUVsZW06IHRoaXMucG9wdXBFbGVtLFxuICAgICAgICBkcm9wczogdGhpcy5jb21wb25lbnRDb25maWcuZHJvcHMsXG4gICAgICAgIG9wZW5zOiB0aGlzLmNvbXBvbmVudENvbmZpZy5vcGVuc1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RvcEdsb2JhbExpc3RlbmVycygpO1xuICAgICAgdGhpcy5kYXlQaWNrZXJTZXJ2aWNlLnBpY2tlckNsb3NlZCgpO1xuICAgIH1cblxuICAgIHRoaXMuX2FyZUNhbGVuZGFyc1Nob3duID0gdmFsdWU7XG4gIH1cblxuICBnZXQgY3VycmVudERhdGVWaWV3KCk6IE1vbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnREYXRlVmlldztcbiAgfVxuXG4gIHNldCBjdXJyZW50RGF0ZVZpZXcoZGF0ZTogTW9tZW50KSB7XG4gICAgdGhpcy5fY3VycmVudERhdGVWaWV3ID0gZGF0ZTtcblxuICAgIGlmICh0aGlzLmRheUNhbGVuZGFyUmVmKSB7XG4gICAgICB0aGlzLmRheUNhbGVuZGFyUmVmLm1vdmVDYWxlbmRhclRvKGRhdGUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm1vbnRoQ2FsZW5kYXJSZWYpIHtcbiAgICAgIHRoaXMubW9udGhDYWxlbmRhclJlZi5tb3ZlQ2FsZW5kYXJUbyhkYXRlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kYXlUaW1lQ2FsZW5kYXJSZWYpIHtcbiAgICAgIHRoaXMuZGF5VGltZUNhbGVuZGFyUmVmLm1vdmVDYWxlbmRhclRvKGRhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgZGF5UGlja2VyU2VydmljZTogRGF0ZVBpY2tlclNlcnZpY2UsXG4gICAgICAgICAgICAgIHByaXZhdGUgcmVhZG9ubHkgZG9tSGVscGVyOiBEb21IZWxwZXIsXG4gICAgICAgICAgICAgIHByaXZhdGUgcmVhZG9ubHkgZWxlbVJlZjogRWxlbWVudFJlZixcbiAgICAgICAgICAgICAgcHJpdmF0ZSByZWFkb25seSByZW5kZXJlcjogUmVuZGVyZXIsXG4gICAgICAgICAgICAgIHByaXZhdGUgcmVhZG9ubHkgdXRpbHNTZXJ2aWNlOiBVdGlsc1NlcnZpY2UsXG4gICAgICAgICAgICAgIHB1YmxpYyByZWFkb25seSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcbiAgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ2NsaWNrJylcbiAgb25DbGljaygpIHtcbiAgICBpZiAoIXRoaXMub3Blbk9uQ2xpY2spIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaXNGb2N1c2VkVHJpZ2dlciAmJiAhdGhpcy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5oaWRlU3RhdGVIZWxwZXIgPSB0cnVlO1xuICAgICAgaWYgKCF0aGlzLmFyZUNhbGVuZGFyc1Nob3duKSB7XG4gICAgICAgIHRoaXMuc2hvd0NhbGVuZGFycygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uQm9keUNsaWNrKCkge1xuICAgIGlmICh0aGlzLmNvbXBvbmVudENvbmZpZy5oaWRlT25PdXRzaWRlQ2xpY2spIHtcbiAgICAgIGlmICghdGhpcy5oaWRlU3RhdGVIZWxwZXIgJiYgdGhpcy5hcmVDYWxlbmRhcnNTaG93bikge1xuICAgICAgICB0aGlzLmhpZGVDYWxlbmRhcigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhpZGVTdGF0ZUhlbHBlciA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzpyZXNpemUnKVxuICBvblNjcm9sbCgpIHtcbiAgICBpZiAodGhpcy5hcmVDYWxlbmRhcnNTaG93bikge1xuICAgICAgdGhpcy5kb21IZWxwZXIuc2V0RWxlbWVudFBvc2l0aW9uKHtcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLmFwcGVuZFRvRWxlbWVudCxcbiAgICAgICAgZWxlbWVudDogdGhpcy5jYWxlbmRhcldyYXBwZXIsXG4gICAgICAgIGFuY2hvcjogdGhpcy5pbnB1dEVsZW1lbnRDb250YWluZXIsXG4gICAgICAgIGRpbUVsZW06IHRoaXMucG9wdXBFbGVtLFxuICAgICAgICBkcm9wczogdGhpcy5jb21wb25lbnRDb25maWcuZHJvcHMsXG4gICAgICAgIG9wZW5zOiB0aGlzLmNvbXBvbmVudENvbmZpZy5vcGVuc1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgd3JpdGVWYWx1ZSh2YWx1ZTogQ2FsZW5kYXJWYWx1ZSk6IHZvaWQge1xuICAgIHRoaXMuaW5wdXRWYWx1ZSA9IHZhbHVlO1xuXG4gICAgaWYgKHZhbHVlIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMudXRpbHNTZXJ2aWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5jb252ZXJ0VG9Nb21lbnRBcnJheSh2YWx1ZSwgdGhpcy5jb21wb25lbnRDb25maWcuZm9ybWF0LCB0aGlzLmNvbXBvbmVudENvbmZpZy5hbGxvd011bHRpU2VsZWN0KTtcbiAgICAgIHRoaXMuaW5pdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdGVkID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIHJlZ2lzdGVyT25DaGFuZ2UoZm46IGFueSk6IHZvaWQge1xuICAgIHRoaXMub25DaGFuZ2VDYWxsYmFjayA9IGZuO1xuICB9XG5cbiAgb25DaGFuZ2VDYWxsYmFjayhfOiBhbnksIGNoYW5nZWRCeUlucHV0OiBib29sZWFuKSB7XG4gIH1cblxuICByZWdpc3Rlck9uVG91Y2hlZChmbjogYW55KTogdm9pZCB7XG4gICAgdGhpcy5vblRvdWNoZWRDYWxsYmFjayA9IGZuO1xuICB9XG5cbiAgb25Ub3VjaGVkQ2FsbGJhY2soKSB7XG5cbiAgfVxuXG4gIHZhbGlkYXRlKGZvcm1Db250cm9sOiBGb3JtQ29udHJvbCk6IFZhbGlkYXRpb25FcnJvcnMge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlRm4oZm9ybUNvbnRyb2wudmFsdWUpO1xuICB9XG5cbiAgcHJvY2Vzc09uQ2hhbmdlQ2FsbGJhY2soc2VsZWN0ZWQ6IE1vbWVudFtdIHwgc3RyaW5nKTogQ2FsZW5kYXJWYWx1ZSB7XG4gICAgaWYgKHR5cGVvZiBzZWxlY3RlZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBzZWxlY3RlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMudXRpbHNTZXJ2aWNlLmNvbnZlcnRGcm9tTW9tZW50QXJyYXkoXG4gICAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnLmZvcm1hdCxcbiAgICAgICAgc2VsZWN0ZWQsXG4gICAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnLnJldHVybmVkVmFsdWVUeXBlIHx8IHRoaXMudXRpbHNTZXJ2aWNlLmdldElucHV0VHlwZSh0aGlzLmlucHV0VmFsdWUsIHRoaXMuY29tcG9uZW50Q29uZmlnLmFsbG93TXVsdGlTZWxlY3QpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGluaXRWYWxpZGF0b3JzKCk6IHZvaWQge1xuICAgIHRoaXMudmFsaWRhdGVGbiA9IHRoaXMudXRpbHNTZXJ2aWNlLmNyZWF0ZVZhbGlkYXRvcihcbiAgICAgIHtcbiAgICAgICAgbWluRGF0ZTogdGhpcy5taW5EYXRlLFxuICAgICAgICBtYXhEYXRlOiB0aGlzLm1heERhdGUsXG4gICAgICAgIG1pblRpbWU6IHRoaXMubWluVGltZSxcbiAgICAgICAgbWF4VGltZTogdGhpcy5tYXhUaW1lXG4gICAgICB9LCB0aGlzLmNvbXBvbmVudENvbmZpZy5mb3JtYXQsIHRoaXMubW9kZSk7XG4gICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKHRoaXMucHJvY2Vzc09uQ2hhbmdlQ2FsbGJhY2sodGhpcy5zZWxlY3RlZCksIGZhbHNlKTtcbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgdGhpcy5pbml0KCk7XG4gICAgdGhpcy5pbml0VmFsaWRhdG9ycygpO1xuICB9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgIGNvbnN0IHttaW5EYXRlLCBtYXhEYXRlLCBtaW5UaW1lLCBtYXhUaW1lfSA9IGNoYW5nZXM7XG5cbiAgICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgICBpZiAobWluRGF0ZSB8fCBtYXhEYXRlIHx8IG1pblRpbWUgfHwgbWF4VGltZSkge1xuICAgICAgICB0aGlzLmluaXRWYWxpZGF0b3JzKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIHRoaXMuc2V0RWxlbWVudFBvc2l0aW9uSW5Eb20oKTtcbiAgfVxuXG4gIHNldERpc2FibGVkU3RhdGUoaXNEaXNhYmxlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMuZGlzYWJsZWQgPSBpc0Rpc2FibGVkO1xuICB9XG5cbiAgc2V0RWxlbWVudFBvc2l0aW9uSW5Eb20oKTogdm9pZCB7XG4gICAgdGhpcy5jYWxlbmRhcldyYXBwZXIgPSA8SFRNTEVsZW1lbnQ+IHRoaXMuY2FsZW5kYXJDb250YWluZXIubmF0aXZlRWxlbWVudDtcbiAgICB0aGlzLnNldElucHV0RWxlbWVudENvbnRhaW5lcigpO1xuICAgIHRoaXMucG9wdXBFbGVtID0gdGhpcy5lbGVtUmVmLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignLmRwLXBvcHVwJyk7XG4gICAgdGhpcy5oYW5kbGVJbm5lckVsZW1lbnRDbGljayh0aGlzLnBvcHVwRWxlbSk7XG5cbiAgICBjb25zdCB7YXBwZW5kVG99ID0gdGhpcy5jb21wb25lbnRDb25maWc7XG4gICAgaWYgKGFwcGVuZFRvKSB7XG4gICAgICBpZiAodHlwZW9mIGFwcGVuZFRvID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLmFwcGVuZFRvRWxlbWVudCA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKDxzdHJpbmc+YXBwZW5kVG8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hcHBlbmRUb0VsZW1lbnQgPSA8SFRNTEVsZW1lbnQ+YXBwZW5kVG87XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXBwZW5kVG9FbGVtZW50ID0gdGhpcy5lbGVtUmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgdGhpcy5hcHBlbmRUb0VsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jYWxlbmRhcldyYXBwZXIpO1xuICB9XG5cbiAgc2V0SW5wdXRFbGVtZW50Q29udGFpbmVyKCkge1xuICAgIHRoaXMuaW5wdXRFbGVtZW50Q29udGFpbmVyID0gdGhpcy51dGlsc1NlcnZpY2UuZ2V0TmF0aXZlRWxlbWVudCh0aGlzLmNvbXBvbmVudENvbmZpZy5pbnB1dEVsZW1lbnRDb250YWluZXIpXG4gICAgICB8fCB0aGlzLmVsZW1SZWYubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZHAtaW5wdXQtY29udGFpbmVyJylcbiAgICAgIHx8IGRvY3VtZW50LmJvZHk7XG4gIH1cblxuICBoYW5kbGVJbm5lckVsZW1lbnRDbGljayhlbGVtZW50OiBIVE1MRWxlbWVudCkge1xuICAgIHRoaXMuaGFuZGxlSW5uZXJFbGVtZW50Q2xpY2tVbmxpc3RlbmVycy5wdXNoKFxuICAgICAgdGhpcy5yZW5kZXJlci5saXN0ZW4oZWxlbWVudCwgJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLmhpZGVTdGF0ZUhlbHBlciA9IHRydWU7XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuY29tcG9uZW50Q29uZmlnID0gdGhpcy5kYXlQaWNrZXJTZXJ2aWNlLmdldENvbmZpZyh0aGlzLmNvbmZpZywgdGhpcy5tb2RlKTtcbiAgICB0aGlzLmN1cnJlbnREYXRlVmlldyA9IHRoaXMuZGlzcGxheURhdGVcbiAgICAgID8gdGhpcy51dGlsc1NlcnZpY2UuY29udmVydFRvTW9tZW50KHRoaXMuZGlzcGxheURhdGUsIHRoaXMuY29tcG9uZW50Q29uZmlnLmZvcm1hdCkuY2xvbmUoKVxuICAgICAgOiB0aGlzLnV0aWxzU2VydmljZVxuICAgICAgICAgICAgLmdldERlZmF1bHREaXNwbGF5RGF0ZShcbiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZVZpZXcsXG4gICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQsXG4gICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnLmFsbG93TXVsdGlTZWxlY3QsXG4gICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnLm1pblxuICAgICAgICAgICAgKTtcbiAgICB0aGlzLmRheUNhbGVuZGFyQ29uZmlnID0gdGhpcy5kYXlQaWNrZXJTZXJ2aWNlLmdldERheUNvbmZpZ1NlcnZpY2UodGhpcy5jb21wb25lbnRDb25maWcpO1xuICAgIHRoaXMuZGF5VGltZUNhbGVuZGFyQ29uZmlnID0gdGhpcy5kYXlQaWNrZXJTZXJ2aWNlLmdldERheVRpbWVDb25maWdTZXJ2aWNlKHRoaXMuY29tcG9uZW50Q29uZmlnKTtcbiAgICB0aGlzLnRpbWVTZWxlY3RDb25maWcgPSB0aGlzLmRheVBpY2tlclNlcnZpY2UuZ2V0VGltZUNvbmZpZ1NlcnZpY2UodGhpcy5jb21wb25lbnRDb25maWcpO1xuICB9XG5cbiAgaW5wdXRGb2N1c2VkKCkge1xuICAgIGlmICghdGhpcy5vcGVuT25Gb2N1cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNGb2N1c2VkVHJpZ2dlciA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuYXJlQ2FsZW5kYXJzU2hvd24pIHtcbiAgICAgICAgdGhpcy5zaG93Q2FsZW5kYXJzKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuaGlkZVN0YXRlSGVscGVyID0gZmFsc2U7XG5cbiAgICAgIHRoaXMuaXNGb2N1c2VkVHJpZ2dlciA9IGZhbHNlO1xuICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICB9LCB0aGlzLmNvbXBvbmVudENvbmZpZy5vbk9wZW5EZWxheSk7XG4gIH1cblxuICBpbnB1dEJsdXJyZWQoKSB7XG4gICAgdGhpcy5vblRvdWNoZWRDYWxsYmFjaygpO1xuICB9XG5cbiAgc2hvd0NhbGVuZGFycygpIHtcbiAgICB0aGlzLmhpZGVTdGF0ZUhlbHBlciA9IHRydWU7XG4gICAgdGhpcy5hcmVDYWxlbmRhcnNTaG93biA9IHRydWU7XG5cbiAgICBpZiAodGhpcy50aW1lU2VsZWN0UmVmKSB7XG4gICAgICB0aGlzLnRpbWVTZWxlY3RSZWYuYXBpLnRyaWdnZXJDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICB0aGlzLm9wZW4uZW1pdCgpO1xuICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBoaWRlQ2FsZW5kYXIoKSB7XG4gICAgdGhpcy5hcmVDYWxlbmRhcnNTaG93biA9IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuZGF5Q2FsZW5kYXJSZWYpIHtcbiAgICAgIHRoaXMuZGF5Q2FsZW5kYXJSZWYuYXBpLnRvZ2dsZUNhbGVuZGFyTW9kZShFQ2FsZW5kYXJNb2RlLkRheSk7XG4gICAgfVxuXG4gICAgdGhpcy5jbG9zZS5lbWl0KCk7XG4gICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIG9uVmlld0RhdGVDaGFuZ2UodmFsdWU6IENhbGVuZGFyVmFsdWUpIHtcbiAgICBjb25zdCBzdHJWYWwgPSB2YWx1ZSA/IHRoaXMudXRpbHNTZXJ2aWNlLmNvbnZlcnRUb1N0cmluZyh2YWx1ZSwgdGhpcy5jb21wb25lbnRDb25maWcuZm9ybWF0KSA6ICcnO1xuICAgIGlmICh0aGlzLmRheVBpY2tlclNlcnZpY2UuaXNWYWxpZElucHV0RGF0ZVZhbHVlKHN0clZhbCwgdGhpcy5jb21wb25lbnRDb25maWcpKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5kYXlQaWNrZXJTZXJ2aWNlLmNvbnZlcnRJbnB1dFZhbHVlVG9Nb21lbnRBcnJheShzdHJWYWwsIHRoaXMuY29tcG9uZW50Q29uZmlnKTtcbiAgICAgIHRoaXMuY3VycmVudERhdGVWaWV3ID0gdGhpcy5zZWxlY3RlZC5sZW5ndGhcbiAgICAgICAgPyB0aGlzLnV0aWxzU2VydmljZS5nZXREZWZhdWx0RGlzcGxheURhdGUoXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkLFxuICAgICAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnLmFsbG93TXVsdGlTZWxlY3QsXG4gICAgICAgICAgdGhpcy5jb21wb25lbnRDb25maWcubWluXG4gICAgICAgIClcbiAgICAgICAgOiB0aGlzLmN1cnJlbnREYXRlVmlldztcblxuICAgICAgdGhpcy5vblNlbGVjdC5lbWl0KHtcbiAgICAgICAgZGF0ZTogc3RyVmFsLFxuICAgICAgICB0eXBlOiBTZWxlY3RFdmVudC5JTlBVVCxcbiAgICAgICAgZ3JhbnVsYXJpdHk6IG51bGxcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NlbGVjdGVkID0gdGhpcy51dGlsc1NlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRWYWxpZE1vbWVudEFycmF5KHN0clZhbCwgdGhpcy5jb21wb25lbnRDb25maWcuZm9ybWF0KTtcbiAgICAgIHRoaXMub25DaGFuZ2VDYWxsYmFjayh0aGlzLnByb2Nlc3NPbkNoYW5nZUNhbGxiYWNrKHN0clZhbCksIHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGRhdGVTZWxlY3RlZChkYXRlOiBJRGF0ZSwgZ3JhbnVsYXJpdHk6IHVuaXRPZlRpbWUuQmFzZSwgdHlwZTogU2VsZWN0RXZlbnQsIGlnbm9yZUNsb3NlPzogYm9vbGVhbikge1xuICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLnV0aWxzU2VydmljZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnVwZGF0ZVNlbGVjdGVkKHRoaXMuY29tcG9uZW50Q29uZmlnLmFsbG93TXVsdGlTZWxlY3QsIHRoaXMuc2VsZWN0ZWQsIGRhdGUsIGdyYW51bGFyaXR5KTtcbiAgICBpZiAoIWlnbm9yZUNsb3NlKSB7XG4gICAgICB0aGlzLm9uRGF0ZUNsaWNrKCk7XG4gICAgfVxuXG4gICAgdGhpcy5vblNlbGVjdC5lbWl0KHtcbiAgICAgIGRhdGU6IGRhdGUuZGF0ZSxcbiAgICAgIGdyYW51bGFyaXR5LFxuICAgICAgdHlwZVxuICAgIH0pO1xuICB9XG5cbiAgb25EYXRlQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50Q29uZmlnLmNsb3NlT25TZWxlY3QpIHtcbiAgICAgIHNldFRpbWVvdXQodGhpcy5oaWRlQ2FsZW5kYXIuYmluZCh0aGlzKSwgdGhpcy5jb21wb25lbnRDb25maWcuY2xvc2VPblNlbGVjdERlbGF5KTtcbiAgICB9XG4gIH1cblxuICBvbktleVByZXNzKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG4gICAgICBjYXNlICg5KTpcbiAgICAgIGNhc2UgKDI3KTpcbiAgICAgICAgdGhpcy5oaWRlQ2FsZW5kYXIoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgbW92ZUNhbGVuZGFyVG8oZGF0ZTogU2luZ2xlQ2FsZW5kYXJWYWx1ZSkge1xuICAgIGNvbnN0IG1vbWVudERhdGUgPSB0aGlzLnV0aWxzU2VydmljZS5jb252ZXJ0VG9Nb21lbnQoZGF0ZSwgdGhpcy5jb21wb25lbnRDb25maWcuZm9ybWF0KTtcbiAgICB0aGlzLmN1cnJlbnREYXRlVmlldyA9IG1vbWVudERhdGU7XG4gIH1cblxuICBvbkxlZnROYXZDbGljayhjaGFuZ2U6IElOYXZFdmVudCkge1xuICAgIHRoaXMub25MZWZ0TmF2LmVtaXQoY2hhbmdlKTtcbiAgfVxuXG4gIG9uUmlnaHROYXZDbGljayhjaGFuZ2U6IElOYXZFdmVudCkge1xuICAgIHRoaXMub25SaWdodE5hdi5lbWl0KGNoYW5nZSk7XG4gIH1cblxuICBzdGFydEdsb2JhbExpc3RlbmVycygpIHtcbiAgICB0aGlzLmdsb2JhbExpc3RlbmVyc1VubGlzdGVuZXJzLnB1c2goXG4gICAgICB0aGlzLnJlbmRlcmVyLmxpc3Rlbihkb2N1bWVudCwgJ2tleWRvd24nLCAoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICB0aGlzLm9uS2V5UHJlc3MoZSk7XG4gICAgICB9KSxcbiAgICAgIHRoaXMucmVuZGVyZXIubGlzdGVuKGRvY3VtZW50LCAnc2Nyb2xsJywgKCkgPT4ge1xuICAgICAgICB0aGlzLm9uU2Nyb2xsKCk7XG4gICAgICB9KSxcbiAgICAgIHRoaXMucmVuZGVyZXIubGlzdGVuKGRvY3VtZW50LCAnY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMub25Cb2R5Q2xpY2soKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHN0b3BHbG9iYWxMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5nbG9iYWxMaXN0ZW5lcnNVbmxpc3RlbmVycy5mb3JFYWNoKCh1bCkgPT4gdWwoKSk7XG4gICAgdGhpcy5nbG9iYWxMaXN0ZW5lcnNVbmxpc3RlbmVycyA9IFtdO1xuICB9XG5cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5oYW5kbGVJbm5lckVsZW1lbnRDbGlja1VubGlzdGVuZXJzLmZvckVhY2godWwgPT4gdWwoKSk7XG5cbiAgICBpZiAodGhpcy5hcHBlbmRUb0VsZW1lbnQpIHtcbiAgICAgIHRoaXMuYXBwZW5kVG9FbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuY2FsZW5kYXJXcmFwcGVyKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7VXRpbHNTZXJ2aWNlfSBmcm9tICcuLi9jb21tb24vc2VydmljZXMvdXRpbHMvdXRpbHMuc2VydmljZSc7XG5pbXBvcnQge0lEYXRlUGlja2VyRGlyZWN0aXZlQ29uZmlnfSBmcm9tICcuL2RhdGUtcGlja2VyLWRpcmVjdGl2ZS1jb25maWcubW9kZWwnO1xuaW1wb3J0IHtFbGVtZW50UmVmLCBJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERhdGVQaWNrZXJEaXJlY3RpdmVTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IocHVibGljIHV0aWxzU2VydmljZTogVXRpbHNTZXJ2aWNlKSB7XG4gIH1cblxuICBjb252ZXJ0VG9IVE1MRWxlbWVudChhdHRhY2hUbzogRWxlbWVudFJlZiB8IHN0cmluZywgYmFzZUVsZW1lbnQ6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnQge1xuICAgIGlmICh0eXBlb2YgYXR0YWNoVG8gPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdGhpcy51dGlsc1NlcnZpY2UuY2xvc2VzdFBhcmVudChiYXNlRWxlbWVudCwgYXR0YWNoVG8pO1xuICAgIH0gZWxzZSBpZiAoYXR0YWNoVG8pIHtcbiAgICAgIHJldHVybiBhdHRhY2hUby5uYXRpdmVFbGVtZW50O1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXRDb25maWcoY29uZmlnOiBJRGF0ZVBpY2tlckRpcmVjdGl2ZUNvbmZpZyA9IHt9LFxuICAgICAgICAgICAgYmFzZUVsZW1lbnQ/OiBFbGVtZW50UmVmLFxuICAgICAgICAgICAgYXR0YWNoVG8/OiBFbGVtZW50UmVmIHwgc3RyaW5nKTogSURhdGVQaWNrZXJEaXJlY3RpdmVDb25maWcge1xuICAgIGNvbnN0IF9jb25maWc6IElEYXRlUGlja2VyRGlyZWN0aXZlQ29uZmlnID0gey4uLmNvbmZpZ307XG4gICAgX2NvbmZpZy5oaWRlSW5wdXRDb250YWluZXIgPSB0cnVlO1xuXG4gICAgbGV0IG5hdGl2ZTtcblxuICAgIGlmIChjb25maWcuaW5wdXRFbGVtZW50Q29udGFpbmVyKSB7XG4gICAgICBuYXRpdmUgPSB0aGlzLnV0aWxzU2VydmljZS5nZXROYXRpdmVFbGVtZW50KGNvbmZpZy5pbnB1dEVsZW1lbnRDb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYXRpdmUgPSBiYXNlRWxlbWVudCA/IGJhc2VFbGVtZW50Lm5hdGl2ZUVsZW1lbnQgOiBudWxsO1xuICAgIH1cblxuICAgIGlmIChuYXRpdmUpIHtcbiAgICAgIF9jb25maWcuaW5wdXRFbGVtZW50Q29udGFpbmVyID0gYXR0YWNoVG9cbiAgICAgICAgPyB0aGlzLmNvbnZlcnRUb0hUTUxFbGVtZW50KGF0dGFjaFRvLCBuYXRpdmUpXG4gICAgICAgIDogbmF0aXZlO1xuICAgIH1cblxuICAgIHJldHVybiBfY29uZmlnO1xuICB9XG59XG4iLCJpbXBvcnQge0NhbGVuZGFyTW9kZX0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL2NhbGVuZGFyLW1vZGUnO1xuaW1wb3J0IHtJRGF0ZVBpY2tlckRpcmVjdGl2ZUNvbmZpZ30gZnJvbSAnLi9kYXRlLXBpY2tlci1kaXJlY3RpdmUtY29uZmlnLm1vZGVsJztcbmltcG9ydCB7RGF0ZVBpY2tlckRpcmVjdGl2ZVNlcnZpY2V9IGZyb20gJy4vZGF0ZS1waWNrZXItZGlyZWN0aXZlLnNlcnZpY2UnO1xuaW1wb3J0IHtJRHBEYXlQaWNrZXJBcGl9IGZyb20gJy4vZGF0ZS1waWNrZXIuYXBpJztcbmltcG9ydCB7RGF0ZVBpY2tlckNvbXBvbmVudH0gZnJvbSAnLi9kYXRlLXBpY2tlci5jb21wb25lbnQnO1xuaW1wb3J0IHtcbiAgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLFxuICBEaXJlY3RpdmUsXG4gIEVsZW1lbnRSZWYsXG4gIEV2ZW50RW1pdHRlcixcbiAgSG9zdExpc3RlbmVyLFxuICBJbnB1dCxcbiAgT25Jbml0LFxuICBPcHRpb25hbCxcbiAgT3V0cHV0LFxuICBWaWV3Q29udGFpbmVyUmVmXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtOZ0NvbnRyb2x9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7Q2FsZW5kYXJWYWx1ZX0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL2NhbGVuZGFyLXZhbHVlJztcbmltcG9ydCB7U2luZ2xlQ2FsZW5kYXJWYWx1ZX0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL3NpbmdsZS1jYWxlbmRhci12YWx1ZSc7XG5pbXBvcnQge0lOYXZFdmVudH0gZnJvbSAnLi4vY29tbW9uL21vZGVscy9uYXZpZ2F0aW9uLWV2ZW50Lm1vZGVsJztcbmltcG9ydCB7VXRpbHNTZXJ2aWNlfSBmcm9tICcuLi9jb21tb24vc2VydmljZXMvdXRpbHMvdXRpbHMuc2VydmljZSdcbmltcG9ydCB7SVNlbGVjdGlvbkV2ZW50fSBmcm9tICcuLi9jb21tb24vdHlwZXMvc2VsZWN0aW9uLWV2ZXQubW9kZWwnO1xuXG5ARGlyZWN0aXZlKHtcbiAgZXhwb3J0QXM6ICdkcERheVBpY2tlcicsXG4gIHByb3ZpZGVyczogW0RhdGVQaWNrZXJEaXJlY3RpdmVTZXJ2aWNlXSxcbiAgc2VsZWN0b3I6ICdbZHBEYXlQaWNrZXJdJ1xufSlcbmV4cG9ydCBjbGFzcyBEYXRlUGlja2VyRGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0IHtcbiAgcHJpdmF0ZSBfY29uZmlnOiBJRGF0ZVBpY2tlckRpcmVjdGl2ZUNvbmZpZztcbiAgcHJpdmF0ZSBfYXR0YWNoVG86IEVsZW1lbnRSZWYgfCBzdHJpbmc7XG4gIHByaXZhdGUgX3RoZW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgX21vZGU6IENhbGVuZGFyTW9kZSA9ICdkYXknO1xuICBwcml2YXRlIF9taW5EYXRlOiBTaW5nbGVDYWxlbmRhclZhbHVlO1xuICBwcml2YXRlIF9tYXhEYXRlOiBTaW5nbGVDYWxlbmRhclZhbHVlO1xuICBwcml2YXRlIF9taW5UaW1lOiBTaW5nbGVDYWxlbmRhclZhbHVlO1xuICBwcml2YXRlIF9tYXhUaW1lOiBTaW5nbGVDYWxlbmRhclZhbHVlO1xuICBwcml2YXRlIF9kaXNwbGF5RGF0ZTogU2luZ2xlQ2FsZW5kYXJWYWx1ZTtcblxuICBnZXQgY29uZmlnKCk6IElEYXRlUGlja2VyRGlyZWN0aXZlQ29uZmlnIHtcbiAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuICB9XG5cbiAgQElucHV0KCdkcERheVBpY2tlcicpIHNldCBjb25maWcoY29uZmlnOiBJRGF0ZVBpY2tlckRpcmVjdGl2ZUNvbmZpZykge1xuICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuc2VydmljZS5nZXRDb25maWcoY29uZmlnLCB0aGlzLnZpZXdDb250YWluZXJSZWYuZWxlbWVudCwgdGhpcy5hdHRhY2hUbyk7XG4gICAgdGhpcy51cGRhdGVEYXRlcGlja2VyQ29uZmlnKCk7XG4gICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIGdldCBhdHRhY2hUbygpOiBFbGVtZW50UmVmIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fYXR0YWNoVG87XG4gIH1cblxuICBASW5wdXQoKSBzZXQgYXR0YWNoVG8oYXR0YWNoVG86IEVsZW1lbnRSZWYgfCBzdHJpbmcpIHtcbiAgICB0aGlzLl9hdHRhY2hUbyA9IGF0dGFjaFRvO1xuICAgIHRoaXMuX2NvbmZpZyA9IHRoaXMuc2VydmljZS5nZXRDb25maWcodGhpcy5jb25maWcsIHRoaXMudmlld0NvbnRhaW5lclJlZi5lbGVtZW50LCB0aGlzLmF0dGFjaFRvKTtcbiAgICB0aGlzLnVwZGF0ZURhdGVwaWNrZXJDb25maWcoKTtcbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgZ2V0IHRoZW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3RoZW1lO1xuICB9XG5cbiAgQElucHV0KCkgc2V0IHRoZW1lKHRoZW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLl90aGVtZSA9IHRoZW1lO1xuICAgIGlmICh0aGlzLmRhdGVQaWNrZXIpIHtcbiAgICAgIHRoaXMuZGF0ZVBpY2tlci50aGVtZSA9IHRoZW1lO1xuICAgIH1cblxuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBnZXQgbW9kZSgpOiBDYWxlbmRhck1vZGUge1xuICAgIHJldHVybiB0aGlzLl9tb2RlO1xuICB9XG5cbiAgQElucHV0KCkgc2V0IG1vZGUobW9kZTogQ2FsZW5kYXJNb2RlKSB7XG4gICAgdGhpcy5fbW9kZSA9IG1vZGU7XG4gICAgaWYgKHRoaXMuZGF0ZVBpY2tlcikge1xuICAgICAgdGhpcy5kYXRlUGlja2VyLm1vZGUgPSBtb2RlO1xuICAgIH1cblxuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBASW5wdXQoKSBzZXQgbWluRGF0ZShtaW5EYXRlOiBTaW5nbGVDYWxlbmRhclZhbHVlKSB7XG4gICAgdGhpcy5fbWluRGF0ZSA9IG1pbkRhdGU7XG4gICAgaWYgKHRoaXMuZGF0ZVBpY2tlcikge1xuICAgICAgdGhpcy5kYXRlUGlja2VyLm1pbkRhdGUgPSBtaW5EYXRlO1xuICAgICAgdGhpcy5kYXRlUGlja2VyLm5nT25Jbml0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIGdldCBtaW5EYXRlKCk6IFNpbmdsZUNhbGVuZGFyVmFsdWUge1xuICAgIHJldHVybiB0aGlzLl9taW5EYXRlO1xuICB9XG5cbiAgQElucHV0KCkgc2V0IG1heERhdGUobWF4RGF0ZTogU2luZ2xlQ2FsZW5kYXJWYWx1ZSkge1xuICAgIHRoaXMuX21heERhdGUgPSBtYXhEYXRlO1xuICAgIGlmICh0aGlzLmRhdGVQaWNrZXIpIHtcbiAgICAgIHRoaXMuZGF0ZVBpY2tlci5tYXhEYXRlID0gbWF4RGF0ZTtcbiAgICAgIHRoaXMuZGF0ZVBpY2tlci5uZ09uSW5pdCgpO1xuICAgIH1cblxuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBnZXQgbWF4RGF0ZSgpOiBTaW5nbGVDYWxlbmRhclZhbHVlIHtcbiAgICByZXR1cm4gdGhpcy5fbWF4RGF0ZTtcbiAgfVxuXG4gIEBJbnB1dCgpIHNldCBtaW5UaW1lKG1pblRpbWU6IFNpbmdsZUNhbGVuZGFyVmFsdWUpIHtcbiAgICB0aGlzLl9taW5UaW1lID0gbWluVGltZTtcbiAgICBpZiAodGhpcy5kYXRlUGlja2VyKSB7XG4gICAgICB0aGlzLmRhdGVQaWNrZXIubWluVGltZSA9IG1pblRpbWU7XG4gICAgICB0aGlzLmRhdGVQaWNrZXIubmdPbkluaXQoKTtcbiAgICB9XG5cbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgZ2V0IG1pblRpbWUoKTogU2luZ2xlQ2FsZW5kYXJWYWx1ZSB7XG4gICAgcmV0dXJuIHRoaXMuX21pblRpbWU7XG4gIH1cblxuICBASW5wdXQoKSBzZXQgbWF4VGltZShtYXhUaW1lOiBTaW5nbGVDYWxlbmRhclZhbHVlKSB7XG4gICAgdGhpcy5fbWF4VGltZSA9IG1heFRpbWU7XG4gICAgaWYgKHRoaXMuZGF0ZVBpY2tlcikge1xuICAgICAgdGhpcy5kYXRlUGlja2VyLm1heFRpbWUgPSBtYXhUaW1lO1xuICAgICAgdGhpcy5kYXRlUGlja2VyLm5nT25Jbml0KCk7XG4gICAgfVxuXG4gICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIGdldCBtYXhUaW1lKCk6IFNpbmdsZUNhbGVuZGFyVmFsdWUge1xuICAgIHJldHVybiB0aGlzLl9tYXhUaW1lO1xuICB9XG5cbiAgZ2V0IGRpc3BsYXlEYXRlKCk6IFNpbmdsZUNhbGVuZGFyVmFsdWUge1xuICAgIHJldHVybiB0aGlzLl9kaXNwbGF5RGF0ZTtcbiAgfVxuXG4gIEBJbnB1dCgpIHNldCBkaXNwbGF5RGF0ZShkaXNwbGF5RGF0ZTogU2luZ2xlQ2FsZW5kYXJWYWx1ZSkge1xuICAgIHRoaXMuX2Rpc3BsYXlEYXRlID0gZGlzcGxheURhdGU7XG4gICAgdGhpcy51cGRhdGVEYXRlcGlja2VyQ29uZmlnKCk7XG5cbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgQE91dHB1dCgpIG9wZW4gPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG4gIEBPdXRwdXQoKSBjbG9zZSA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcbiAgQE91dHB1dCgpIG9uQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxDYWxlbmRhclZhbHVlPigpO1xuICBAT3V0cHV0KCkgb25Hb1RvQ3VycmVudDogRXZlbnRFbWl0dGVyPHZvaWQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25MZWZ0TmF2OiBFdmVudEVtaXR0ZXI8SU5hdkV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uUmlnaHROYXY6IEV2ZW50RW1pdHRlcjxJTmF2RXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25TZWxlY3Q6IEV2ZW50RW1pdHRlcjxJU2VsZWN0aW9uRXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIHB1YmxpYyBkYXRlUGlja2VyOiBEYXRlUGlja2VyQ29tcG9uZW50O1xuICBwdWJsaWMgYXBpOiBJRHBEYXlQaWNrZXJBcGk7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHZpZXdDb250YWluZXJSZWY6IFZpZXdDb250YWluZXJSZWYsXG4gICAgICAgICAgICAgIHB1YmxpYyBlbGVtUmVmOiBFbGVtZW50UmVmLFxuICAgICAgICAgICAgICBwdWJsaWMgY29tcG9uZW50RmFjdG9yeVJlc29sdmVyOiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgICAgICAgICAgIHB1YmxpYyBzZXJ2aWNlOiBEYXRlUGlja2VyRGlyZWN0aXZlU2VydmljZSxcbiAgICAgICAgICAgICAgQE9wdGlvbmFsKCkgcHVibGljIGZvcm1Db250cm9sOiBOZ0NvbnRyb2wsXG4gICAgICAgICAgICAgIHB1YmxpYyB1dGlsc1NlcnZpY2U6IFV0aWxzU2VydmljZSkge1xuICB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5kYXRlUGlja2VyID0gdGhpcy5jcmVhdGVEYXRlUGlja2VyKCk7XG4gICAgdGhpcy5hcGkgPSB0aGlzLmRhdGVQaWNrZXIuYXBpO1xuICAgIHRoaXMudXBkYXRlRGF0ZXBpY2tlckNvbmZpZygpO1xuICAgIHRoaXMuYXR0YWNoTW9kZWxUb0RhdGVQaWNrZXIoKTtcbiAgICB0aGlzLmRhdGVQaWNrZXIudGhlbWUgPSB0aGlzLnRoZW1lO1xuICB9XG5cbiAgY3JlYXRlRGF0ZVBpY2tlcigpOiBEYXRlUGlja2VyQ29tcG9uZW50IHtcbiAgICBjb25zdCBmYWN0b3J5ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoRGF0ZVBpY2tlckNvbXBvbmVudCk7XG4gICAgcmV0dXJuIHRoaXMudmlld0NvbnRhaW5lclJlZi5jcmVhdGVDb21wb25lbnQoZmFjdG9yeSkuaW5zdGFuY2U7XG4gIH1cblxuICBhdHRhY2hNb2RlbFRvRGF0ZVBpY2tlcigpIHtcbiAgICBpZiAoIXRoaXMuZm9ybUNvbnRyb2wpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRhdGVQaWNrZXIub25WaWV3RGF0ZUNoYW5nZSh0aGlzLmZvcm1Db250cm9sLnZhbHVlKTtcblxuICAgIHRoaXMuZm9ybUNvbnRyb2wudmFsdWVDaGFuZ2VzLnN1YnNjcmliZSgodmFsdWUpID0+IHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5kYXRlUGlja2VyLmlucHV0RWxlbWVudFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHN0clZhbCA9IHRoaXMudXRpbHNTZXJ2aWNlLmNvbnZlcnRUb1N0cmluZyh2YWx1ZSwgdGhpcy5kYXRlUGlja2VyLmNvbXBvbmVudENvbmZpZy5mb3JtYXQpO1xuICAgICAgICB0aGlzLmRhdGVQaWNrZXIub25WaWV3RGF0ZUNoYW5nZShzdHJWYWwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IHNldHVwID0gdHJ1ZTtcblxuICAgIHRoaXMuZGF0ZVBpY2tlci5yZWdpc3Rlck9uQ2hhbmdlKCh2YWx1ZSwgY2hhbmdlZEJ5SW5wdXQpID0+IHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBjb25zdCBpc011bHRpc2VsZWN0RW1wdHkgPSBzZXR1cCAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSAmJiAhdmFsdWUubGVuZ3RoO1xuXG4gICAgICAgIGlmICghaXNNdWx0aXNlbGVjdEVtcHR5ICYmICFjaGFuZ2VkQnlJbnB1dCkge1xuICAgICAgICAgIHRoaXMuZm9ybUNvbnRyb2wuY29udHJvbC5zZXRWYWx1ZSh0aGlzLmRhdGVQaWNrZXIuaW5wdXRFbGVtZW50VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVycm9ycyA9IHRoaXMuZGF0ZVBpY2tlci52YWxpZGF0ZUZuKHZhbHVlKTtcblxuICAgICAgaWYgKCFzZXR1cCkge1xuICAgICAgICB0aGlzLmZvcm1Db250cm9sLmNvbnRyb2wubWFya0FzRGlydHkoe1xuICAgICAgICAgIG9ubHlTZWxmOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0dXAgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICBpZiAoZXJyb3JzLmhhc093blByb3BlcnR5KCdmb3JtYXQnKSkge1xuICAgICAgICAgIGNvbnN0IHtnaXZlbn0gPSBlcnJvcnNbJ2Zvcm1hdCddO1xuICAgICAgICAgIHRoaXMuZGF0ZVBpY2tlci5pbnB1dEVsZW1lbnRWYWx1ZSA9IGdpdmVuO1xuICAgICAgICAgIGlmICghY2hhbmdlZEJ5SW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybUNvbnRyb2wuY29udHJvbC5zZXRWYWx1ZShnaXZlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5mb3JtQ29udHJvbC5jb250cm9sLnNldEVycm9ycyhlcnJvcnMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignY2xpY2snKVxuICBvbkNsaWNrKCkge1xuICAgIHRoaXMuZGF0ZVBpY2tlci5vbkNsaWNrKCk7XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCdmb2N1cycpXG4gIG9uRm9jdXMoKSB7XG4gICAgdGhpcy5kYXRlUGlja2VyLmlucHV0Rm9jdXNlZCgpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVEYXRlcGlja2VyQ29uZmlnKCkge1xuICAgIGlmICh0aGlzLmRhdGVQaWNrZXIpIHtcbiAgICAgIHRoaXMuZGF0ZVBpY2tlci5taW5EYXRlID0gdGhpcy5taW5EYXRlO1xuICAgICAgdGhpcy5kYXRlUGlja2VyLm1heERhdGUgPSB0aGlzLm1heERhdGU7XG4gICAgICB0aGlzLmRhdGVQaWNrZXIubWluVGltZSA9IHRoaXMubWluVGltZTtcbiAgICAgIHRoaXMuZGF0ZVBpY2tlci5tYXhUaW1lID0gdGhpcy5tYXhUaW1lO1xuICAgICAgdGhpcy5kYXRlUGlja2VyLm1vZGUgPSB0aGlzLm1vZGUgfHwgJ2RheSc7XG4gICAgICB0aGlzLmRhdGVQaWNrZXIuZGlzcGxheURhdGUgPSB0aGlzLmRpc3BsYXlEYXRlO1xuICAgICAgdGhpcy5kYXRlUGlja2VyLmNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgdGhpcy5kYXRlUGlja2VyLm9wZW4gPSB0aGlzLm9wZW47XG4gICAgICB0aGlzLmRhdGVQaWNrZXIuY2xvc2UgPSB0aGlzLmNsb3NlO1xuICAgICAgdGhpcy5kYXRlUGlja2VyLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZTtcbiAgICAgIHRoaXMuZGF0ZVBpY2tlci5vbkdvVG9DdXJyZW50ID0gdGhpcy5vbkdvVG9DdXJyZW50O1xuICAgICAgdGhpcy5kYXRlUGlja2VyLm9uTGVmdE5hdiA9IHRoaXMub25MZWZ0TmF2O1xuICAgICAgdGhpcy5kYXRlUGlja2VyLm9uUmlnaHROYXYgPSB0aGlzLm9uUmlnaHROYXY7XG4gICAgICB0aGlzLmRhdGVQaWNrZXIub25TZWxlY3QgPSB0aGlzLm9uU2VsZWN0O1xuXG4gICAgICB0aGlzLmRhdGVQaWNrZXIuaW5pdCgpO1xuXG4gICAgICBpZiAodGhpcy5kYXRlUGlja2VyLmNvbXBvbmVudENvbmZpZy5kaXNhYmxlS2V5cHJlc3MpIHtcbiAgICAgICAgdGhpcy5lbGVtUmVmLm5hdGl2ZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdyZWFkb25seScsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbGVtUmVmLm5hdGl2ZUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdyZWFkb25seScpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1hcmtGb3JDaGVjaygpIHtcbiAgICBpZiAodGhpcy5kYXRlUGlja2VyKSB7XG4gICAgICB0aGlzLmRhdGVQaWNrZXIuY2QubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge0VDYWxlbmRhclZhbHVlfSBmcm9tICcuLi9jb21tb24vdHlwZXMvY2FsZW5kYXItdmFsdWUtZW51bSc7XG5pbXBvcnQge1NpbmdsZUNhbGVuZGFyVmFsdWV9IGZyb20gJy4uL2NvbW1vbi90eXBlcy9zaW5nbGUtY2FsZW5kYXItdmFsdWUnO1xuaW1wb3J0IHtFQ2FsZW5kYXJNb2RlfSBmcm9tICcuLi9jb21tb24vdHlwZXMvY2FsZW5kYXItbW9kZS1lbnVtJztcbmltcG9ydCB7XG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ29tcG9uZW50LFxuICBFdmVudEVtaXR0ZXIsXG4gIGZvcndhcmRSZWYsXG4gIEhvc3RCaW5kaW5nLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgU2ltcGxlQ2hhbmdlLFxuICBTaW1wbGVDaGFuZ2VzLFxuICBWaWV3RW5jYXBzdWxhdGlvblxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RGF5Q2FsZW5kYXJTZXJ2aWNlfSBmcm9tICcuL2RheS1jYWxlbmRhci5zZXJ2aWNlJztcbmltcG9ydCAqIGFzIG1vbWVudE5zIGZyb20gJ21vbWVudCc7XG5pbXBvcnQge01vbWVudCwgdW5pdE9mVGltZX0gZnJvbSAnbW9tZW50JztcbmltcG9ydCB7SURheUNhbGVuZGFyQ29uZmlnLCBJRGF5Q2FsZW5kYXJDb25maWdJbnRlcm5hbH0gZnJvbSAnLi9kYXktY2FsZW5kYXItY29uZmlnLm1vZGVsJztcbmltcG9ydCB7SURheX0gZnJvbSAnLi9kYXkubW9kZWwnO1xuaW1wb3J0IHtcbiAgQ29udHJvbFZhbHVlQWNjZXNzb3IsXG4gIEZvcm1Db250cm9sLFxuICBOR19WQUxJREFUT1JTLFxuICBOR19WQUxVRV9BQ0NFU1NPUixcbiAgVmFsaWRhdGlvbkVycm9ycyxcbiAgVmFsaWRhdG9yXG59IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7Q2FsZW5kYXJWYWx1ZX0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL2NhbGVuZGFyLXZhbHVlJztcbmltcG9ydCB7VXRpbHNTZXJ2aWNlfSBmcm9tICcuLi9jb21tb24vc2VydmljZXMvdXRpbHMvdXRpbHMuc2VydmljZSc7XG5pbXBvcnQge0lNb250aENhbGVuZGFyQ29uZmlnfSBmcm9tICcuLi9tb250aC1jYWxlbmRhci9tb250aC1jYWxlbmRhci1jb25maWcnO1xuaW1wb3J0IHtJTW9udGh9IGZyb20gJy4uL21vbnRoLWNhbGVuZGFyL21vbnRoLm1vZGVsJztcbmltcG9ydCB7RGF0ZVZhbGlkYXRvcn0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL3ZhbGlkYXRvci50eXBlJztcbmltcG9ydCB7SU5hdkV2ZW50fSBmcm9tICcuLi9jb21tb24vbW9kZWxzL25hdmlnYXRpb24tZXZlbnQubW9kZWwnO1xuY29uc3QgbW9tZW50ID0gbW9tZW50TnM7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2RwLWRheS1jYWxlbmRhcicsXG4gIHRlbXBsYXRlVXJsOiAnZGF5LWNhbGVuZGFyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJ2RheS1jYWxlbmRhci5jb21wb25lbnQubGVzcyddLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgcHJvdmlkZXJzOiBbXG4gICAgRGF5Q2FsZW5kYXJTZXJ2aWNlLFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gRGF5Q2FsZW5kYXJDb21wb25lbnQpLFxuICAgICAgbXVsdGk6IHRydWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IE5HX1ZBTElEQVRPUlMsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBEYXlDYWxlbmRhckNvbXBvbmVudCksXG4gICAgICBtdWx0aTogdHJ1ZVxuICAgIH1cbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBEYXlDYWxlbmRhckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBDb250cm9sVmFsdWVBY2Nlc3NvciwgVmFsaWRhdG9yIHtcblxuICBASW5wdXQoKSBjb25maWc6IElEYXlDYWxlbmRhckNvbmZpZztcbiAgQElucHV0KCkgZGlzcGxheURhdGU6IFNpbmdsZUNhbGVuZGFyVmFsdWU7XG4gIEBJbnB1dCgpIG1pbkRhdGU6IE1vbWVudDtcbiAgQElucHV0KCkgbWF4RGF0ZTogTW9tZW50O1xuICBASG9zdEJpbmRpbmcoJ2NsYXNzJykgQElucHV0KCkgdGhlbWU6IHN0cmluZztcblxuICBAT3V0cHV0KCkgb25TZWxlY3Q6IEV2ZW50RW1pdHRlcjxJRGF5PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uTW9udGhTZWxlY3Q6IEV2ZW50RW1pdHRlcjxJTW9udGg+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25OYXZIZWFkZXJCdG5DbGljazogRXZlbnRFbWl0dGVyPEVDYWxlbmRhck1vZGU+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25Hb1RvQ3VycmVudDogRXZlbnRFbWl0dGVyPHZvaWQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25MZWZ0TmF2OiBFdmVudEVtaXR0ZXI8SU5hdkV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uUmlnaHROYXY6IEV2ZW50RW1pdHRlcjxJTmF2RXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIENhbGVuZGFyTW9kZSA9IEVDYWxlbmRhck1vZGU7XG4gIGlzSW5pdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIGNvbXBvbmVudENvbmZpZzogSURheUNhbGVuZGFyQ29uZmlnSW50ZXJuYWw7XG4gIF9zZWxlY3RlZDogTW9tZW50W107XG4gIHdlZWtzOiBJRGF5W11bXTtcbiAgd2Vla2RheXM6IE1vbWVudFtdO1xuICBfY3VycmVudERhdGVWaWV3OiBNb21lbnQ7XG4gIGlucHV0VmFsdWU6IENhbGVuZGFyVmFsdWU7XG4gIGlucHV0VmFsdWVUeXBlOiBFQ2FsZW5kYXJWYWx1ZTtcbiAgdmFsaWRhdGVGbjogRGF0ZVZhbGlkYXRvcjtcbiAgY3VycmVudENhbGVuZGFyTW9kZTogRUNhbGVuZGFyTW9kZSA9IEVDYWxlbmRhck1vZGUuRGF5O1xuICBtb250aENhbGVuZGFyQ29uZmlnOiBJTW9udGhDYWxlbmRhckNvbmZpZztcbiAgX3Nob3VsZFNob3dDdXJyZW50OiBib29sZWFuID0gdHJ1ZTtcbiAgbmF2TGFiZWw6IHN0cmluZztcbiAgc2hvd0xlZnROYXY6IGJvb2xlYW47XG4gIHNob3dSaWdodE5hdjogYm9vbGVhbjtcblxuICBhcGkgPSB7XG4gICAgbW92ZUNhbGVuZGFyc0J5OiB0aGlzLm1vdmVDYWxlbmRhcnNCeS5iaW5kKHRoaXMpLFxuICAgIG1vdmVDYWxlbmRhclRvOiB0aGlzLm1vdmVDYWxlbmRhclRvLmJpbmQodGhpcyksXG4gICAgdG9nZ2xlQ2FsZW5kYXJNb2RlOiB0aGlzLnRvZ2dsZUNhbGVuZGFyTW9kZS5iaW5kKHRoaXMpXG4gIH07XG5cbiAgc2V0IHNlbGVjdGVkKHNlbGVjdGVkOiBNb21lbnRbXSkge1xuICAgIHRoaXMuX3NlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKHRoaXMucHJvY2Vzc09uQ2hhbmdlQ2FsbGJhY2soc2VsZWN0ZWQpKTtcbiAgfVxuXG4gIGdldCBzZWxlY3RlZCgpOiBNb21lbnRbXSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xuICB9XG5cbiAgc2V0IGN1cnJlbnREYXRlVmlldyhjdXJyZW50OiBNb21lbnQpIHtcbiAgICB0aGlzLl9jdXJyZW50RGF0ZVZpZXcgPSBjdXJyZW50LmNsb25lKCk7XG4gICAgdGhpcy53ZWVrcyA9IHRoaXMuZGF5Q2FsZW5kYXJTZXJ2aWNlXG4gICAgICAuZ2VuZXJhdGVNb250aEFycmF5KHRoaXMuY29tcG9uZW50Q29uZmlnLCB0aGlzLl9jdXJyZW50RGF0ZVZpZXcsIHRoaXMuc2VsZWN0ZWQpO1xuICAgIHRoaXMubmF2TGFiZWwgPSB0aGlzLmRheUNhbGVuZGFyU2VydmljZS5nZXRIZWFkZXJMYWJlbCh0aGlzLmNvbXBvbmVudENvbmZpZywgdGhpcy5fY3VycmVudERhdGVWaWV3KTtcbiAgICB0aGlzLnNob3dMZWZ0TmF2ID0gdGhpcy5kYXlDYWxlbmRhclNlcnZpY2Uuc2hvdWxkU2hvd0xlZnQodGhpcy5jb21wb25lbnRDb25maWcubWluLCB0aGlzLmN1cnJlbnREYXRlVmlldyk7XG4gICAgdGhpcy5zaG93UmlnaHROYXYgPSB0aGlzLmRheUNhbGVuZGFyU2VydmljZS5zaG91bGRTaG93UmlnaHQodGhpcy5jb21wb25lbnRDb25maWcubWF4LCB0aGlzLmN1cnJlbnREYXRlVmlldyk7XG4gIH1cblxuICBnZXQgY3VycmVudERhdGVWaWV3KCk6IE1vbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnREYXRlVmlldztcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBkYXlDYWxlbmRhclNlcnZpY2U6IERheUNhbGVuZGFyU2VydmljZSxcbiAgICAgICAgICAgICAgcHVibGljIHJlYWRvbmx5IHV0aWxzU2VydmljZTogVXRpbHNTZXJ2aWNlLFxuICAgICAgICAgICAgICBwdWJsaWMgcmVhZG9ubHkgY2Q6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmlzSW5pdGVkID0gdHJ1ZTtcbiAgICB0aGlzLmluaXQoKTtcbiAgICB0aGlzLmluaXRWYWxpZGF0b3JzKCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuY29tcG9uZW50Q29uZmlnID0gdGhpcy5kYXlDYWxlbmRhclNlcnZpY2UuZ2V0Q29uZmlnKHRoaXMuY29uZmlnKTtcbiAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZCB8fCBbXTtcbiAgICB0aGlzLmN1cnJlbnREYXRlVmlldyA9IHRoaXMuZGlzcGxheURhdGVcbiAgICAgID8gdGhpcy51dGlsc1NlcnZpY2UuY29udmVydFRvTW9tZW50KHRoaXMuZGlzcGxheURhdGUsIHRoaXMuY29tcG9uZW50Q29uZmlnLmZvcm1hdCkuY2xvbmUoKVxuICAgICAgOiB0aGlzLnV0aWxzU2VydmljZVxuICAgICAgICAuZ2V0RGVmYXVsdERpc3BsYXlEYXRlKFxuICAgICAgICAgIHRoaXMuY3VycmVudERhdGVWaWV3LFxuICAgICAgICAgIHRoaXMuc2VsZWN0ZWQsXG4gICAgICAgICAgdGhpcy5jb21wb25lbnRDb25maWcuYWxsb3dNdWx0aVNlbGVjdCxcbiAgICAgICAgICB0aGlzLmNvbXBvbmVudENvbmZpZy5taW5cbiAgICAgICAgKTtcbiAgICB0aGlzLndlZWtkYXlzID0gdGhpcy5kYXlDYWxlbmRhclNlcnZpY2VcbiAgICAgIC5nZW5lcmF0ZVdlZWtkYXlzKHRoaXMuY29tcG9uZW50Q29uZmlnLmZpcnN0RGF5T2ZXZWVrKTtcbiAgICB0aGlzLmlucHV0VmFsdWVUeXBlID0gdGhpcy51dGlsc1NlcnZpY2UuZ2V0SW5wdXRUeXBlKHRoaXMuaW5wdXRWYWx1ZSwgdGhpcy5jb21wb25lbnRDb25maWcuYWxsb3dNdWx0aVNlbGVjdCk7XG4gICAgdGhpcy5tb250aENhbGVuZGFyQ29uZmlnID0gdGhpcy5kYXlDYWxlbmRhclNlcnZpY2UuZ2V0TW9udGhDYWxlbmRhckNvbmZpZyh0aGlzLmNvbXBvbmVudENvbmZpZyk7XG4gICAgdGhpcy5fc2hvdWxkU2hvd0N1cnJlbnQgPSB0aGlzLnNob3VsZFNob3dDdXJyZW50KCk7XG4gIH1cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgaWYgKHRoaXMuaXNJbml0ZWQpIHtcbiAgICAgIGNvbnN0IHttaW5EYXRlLCBtYXhEYXRlLCBjb25maWd9ID0gY2hhbmdlcztcblxuICAgICAgdGhpcy5oYW5kbGVDb25maWdDaGFuZ2UoY29uZmlnKTtcbiAgICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgICBpZiAobWluRGF0ZSB8fCBtYXhEYXRlKSB7XG4gICAgICAgIHRoaXMuaW5pdFZhbGlkYXRvcnMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB3cml0ZVZhbHVlKHZhbHVlOiBDYWxlbmRhclZhbHVlKTogdm9pZCB7XG4gICAgdGhpcy5pbnB1dFZhbHVlID0gdmFsdWU7XG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLnV0aWxzU2VydmljZVxuICAgICAgICAuY29udmVydFRvTW9tZW50QXJyYXkodmFsdWUsIHRoaXMuY29tcG9uZW50Q29uZmlnLmZvcm1hdCwgdGhpcy5jb21wb25lbnRDb25maWcuYWxsb3dNdWx0aVNlbGVjdCk7XG4gICAgICB0aGlzLmlucHV0VmFsdWVUeXBlID0gdGhpcy51dGlsc1NlcnZpY2VcbiAgICAgICAgLmdldElucHV0VHlwZSh0aGlzLmlucHV0VmFsdWUsIHRoaXMuY29tcG9uZW50Q29uZmlnLmFsbG93TXVsdGlTZWxlY3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdGVkID0gW107XG4gICAgfVxuXG4gICAgdGhpcy53ZWVrcyA9IHRoaXMuZGF5Q2FsZW5kYXJTZXJ2aWNlXG4gICAgICAuZ2VuZXJhdGVNb250aEFycmF5KHRoaXMuY29tcG9uZW50Q29uZmlnLCB0aGlzLmN1cnJlbnREYXRlVmlldywgdGhpcy5zZWxlY3RlZCk7XG5cbiAgICB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgcmVnaXN0ZXJPbkNoYW5nZShmbjogYW55KTogdm9pZCB7XG4gICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrID0gZm47XG4gIH1cblxuICBvbkNoYW5nZUNhbGxiYWNrKF86IGFueSkge1xuICB9O1xuXG4gIHJlZ2lzdGVyT25Ub3VjaGVkKGZuOiBhbnkpOiB2b2lkIHtcbiAgfVxuXG4gIHZhbGlkYXRlKGZvcm1Db250cm9sOiBGb3JtQ29udHJvbCk6IFZhbGlkYXRpb25FcnJvcnMgfCBhbnkge1xuICAgIGlmICh0aGlzLm1pbkRhdGUgfHwgdGhpcy5tYXhEYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZUZuKGZvcm1Db250cm9sLnZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICgpID0+IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJvY2Vzc09uQ2hhbmdlQ2FsbGJhY2sodmFsdWU6IE1vbWVudFtdKTogQ2FsZW5kYXJWYWx1ZSB7XG4gICAgcmV0dXJuIHRoaXMudXRpbHNTZXJ2aWNlLmNvbnZlcnRGcm9tTW9tZW50QXJyYXkoXG4gICAgICB0aGlzLmNvbXBvbmVudENvbmZpZy5mb3JtYXQsXG4gICAgICB2YWx1ZSxcbiAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnLnJldHVybmVkVmFsdWVUeXBlIHx8IHRoaXMuaW5wdXRWYWx1ZVR5cGVcbiAgICApO1xuICB9XG5cbiAgaW5pdFZhbGlkYXRvcnMoKSB7XG4gICAgdGhpcy52YWxpZGF0ZUZuID0gdGhpcy51dGlsc1NlcnZpY2UuY3JlYXRlVmFsaWRhdG9yKFxuICAgICAge21pbkRhdGU6IHRoaXMubWluRGF0ZSwgbWF4RGF0ZTogdGhpcy5tYXhEYXRlfSxcbiAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnLmZvcm1hdCxcbiAgICAgICdkYXknXG4gICAgKTtcblxuICAgIHRoaXMub25DaGFuZ2VDYWxsYmFjayh0aGlzLnByb2Nlc3NPbkNoYW5nZUNhbGxiYWNrKHRoaXMuc2VsZWN0ZWQpKTtcbiAgfVxuXG4gIGRheUNsaWNrZWQoZGF5OiBJRGF5KSB7XG4gICAgaWYgKGRheS5zZWxlY3RlZCAmJiAhdGhpcy5jb21wb25lbnRDb25maWcudW5TZWxlY3RPbkNsaWNrKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMudXRpbHNTZXJ2aWNlXG4gICAgICAudXBkYXRlU2VsZWN0ZWQodGhpcy5jb21wb25lbnRDb25maWcuYWxsb3dNdWx0aVNlbGVjdCwgdGhpcy5zZWxlY3RlZCwgZGF5KTtcbiAgICB0aGlzLndlZWtzID0gdGhpcy5kYXlDYWxlbmRhclNlcnZpY2VcbiAgICAgIC5nZW5lcmF0ZU1vbnRoQXJyYXkodGhpcy5jb21wb25lbnRDb25maWcsIHRoaXMuY3VycmVudERhdGVWaWV3LCB0aGlzLnNlbGVjdGVkKTtcbiAgICB0aGlzLm9uU2VsZWN0LmVtaXQoZGF5KTtcbiAgfVxuXG4gIGdldERheUJ0blRleHQoZGF5OiBJRGF5KTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5kYXlDYWxlbmRhclNlcnZpY2UuZ2V0RGF5QnRuVGV4dCh0aGlzLmNvbXBvbmVudENvbmZpZywgZGF5LmRhdGUpO1xuICB9XG5cbiAgZ2V0RGF5QnRuQ3NzQ2xhc3MoZGF5OiBJRGF5KToge1trbGFzczogc3RyaW5nXTogYm9vbGVhbn0ge1xuICAgIGNvbnN0IGNzc0NsYXNzZXM6IHtba2xhc3M6IHN0cmluZ106IGJvb2xlYW59ID0ge1xuICAgICAgJ2RwLXNlbGVjdGVkJzogZGF5LnNlbGVjdGVkLFxuICAgICAgJ2RwLWN1cnJlbnQtbW9udGgnOiBkYXkuY3VycmVudE1vbnRoLFxuICAgICAgJ2RwLXByZXYtbW9udGgnOiBkYXkucHJldk1vbnRoLFxuICAgICAgJ2RwLW5leHQtbW9udGgnOiBkYXkubmV4dE1vbnRoLFxuICAgICAgJ2RwLWN1cnJlbnQtZGF5JzogZGF5LmN1cnJlbnREYXlcbiAgICB9O1xuICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzOiBzdHJpbmcgPSB0aGlzLmRheUNhbGVuZGFyU2VydmljZS5nZXREYXlCdG5Dc3NDbGFzcyh0aGlzLmNvbXBvbmVudENvbmZpZywgZGF5LmRhdGUpO1xuICAgIGlmIChjdXN0b21Dc3NDbGFzcykge1xuICAgICAgY3NzQ2xhc3Nlc1tjdXN0b21Dc3NDbGFzc10gPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBjc3NDbGFzc2VzO1xuICB9XG5cbiAgb25MZWZ0TmF2Q2xpY2soKSB7XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuY3VycmVudERhdGVWaWV3LmNsb25lKCk7XG4gICAgdGhpcy5tb3ZlQ2FsZW5kYXJzQnkodGhpcy5jdXJyZW50RGF0ZVZpZXcsIC0xLCAnbW9udGgnKTtcbiAgICBjb25zdCB0byA9IHRoaXMuY3VycmVudERhdGVWaWV3LmNsb25lKCk7XG4gICAgdGhpcy5vbkxlZnROYXYuZW1pdCh7ZnJvbSwgdG99KTtcbiAgfVxuXG4gIG9uUmlnaHROYXZDbGljaygpIHtcbiAgICBjb25zdCBmcm9tID0gdGhpcy5jdXJyZW50RGF0ZVZpZXcuY2xvbmUoKTtcbiAgICB0aGlzLm1vdmVDYWxlbmRhcnNCeSh0aGlzLmN1cnJlbnREYXRlVmlldywgMSwgJ21vbnRoJyk7XG4gICAgY29uc3QgdG8gPSB0aGlzLmN1cnJlbnREYXRlVmlldy5jbG9uZSgpO1xuICAgIHRoaXMub25SaWdodE5hdi5lbWl0KHtmcm9tLCB0b30pO1xuICB9XG5cbiAgb25Nb250aENhbGVuZGFyTGVmdENsaWNrKGNoYW5nZTogSU5hdkV2ZW50KSB7XG4gICAgdGhpcy5vbkxlZnROYXYuZW1pdChjaGFuZ2UpO1xuICB9XG5cbiAgb25Nb250aENhbGVuZGFyUmlnaHRDbGljayhjaGFuZ2U6IElOYXZFdmVudCkge1xuICAgIHRoaXMub25SaWdodE5hdi5lbWl0KGNoYW5nZSk7XG4gIH1cblxuICBvbk1vbnRoQ2FsZW5kYXJTZWNvbmRhcnlMZWZ0Q2xpY2soY2hhbmdlOiBJTmF2RXZlbnQpIHtcbiAgICB0aGlzLm9uUmlnaHROYXYuZW1pdChjaGFuZ2UpO1xuICB9XG5cbiAgb25Nb250aENhbGVuZGFyU2Vjb25kYXJ5UmlnaHRDbGljayhjaGFuZ2U6IElOYXZFdmVudCkge1xuICAgIHRoaXMub25MZWZ0TmF2LmVtaXQoY2hhbmdlKTtcbiAgfVxuXG4gIGdldFdlZWtkYXlOYW1lKHdlZWtkYXk6IE1vbWVudCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuY29tcG9uZW50Q29uZmlnLndlZWtEYXlGb3JtYXR0ZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudENvbmZpZy53ZWVrRGF5Rm9ybWF0dGVyKHdlZWtkYXkuZGF5KCkpO1xuICAgIH1cblxuICAgIHJldHVybiB3ZWVrZGF5LmZvcm1hdCh0aGlzLmNvbXBvbmVudENvbmZpZy53ZWVrRGF5Rm9ybWF0KTtcbiAgfVxuXG4gIHRvZ2dsZUNhbGVuZGFyTW9kZShtb2RlOiBFQ2FsZW5kYXJNb2RlKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudENhbGVuZGFyTW9kZSAhPT0gbW9kZSkge1xuICAgICAgdGhpcy5jdXJyZW50Q2FsZW5kYXJNb2RlID0gbW9kZTtcbiAgICAgIHRoaXMub25OYXZIZWFkZXJCdG5DbGljay5lbWl0KG1vZGUpO1xuICAgIH1cblxuICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBtb250aFNlbGVjdGVkKG1vbnRoOiBJTW9udGgpIHtcbiAgICB0aGlzLmN1cnJlbnREYXRlVmlldyA9IG1vbnRoLmRhdGUuY2xvbmUoKTtcbiAgICB0aGlzLmN1cnJlbnRDYWxlbmRhck1vZGUgPSBFQ2FsZW5kYXJNb2RlLkRheTtcbiAgICB0aGlzLm9uTW9udGhTZWxlY3QuZW1pdChtb250aCk7XG4gIH1cblxuICBtb3ZlQ2FsZW5kYXJzQnkoY3VycmVudDogTW9tZW50LCBhbW91bnQ6IG51bWJlciwgZ3JhbnVsYXJpdHk6IHVuaXRPZlRpbWUuQmFzZSA9ICdtb250aCcpIHtcbiAgICB0aGlzLmN1cnJlbnREYXRlVmlldyA9IGN1cnJlbnQuY2xvbmUoKS5hZGQoYW1vdW50LCBncmFudWxhcml0eSk7XG4gICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIG1vdmVDYWxlbmRhclRvKHRvOiBTaW5nbGVDYWxlbmRhclZhbHVlKSB7XG4gICAgaWYgKHRvKSB7XG4gICAgICB0aGlzLmN1cnJlbnREYXRlVmlldyA9IHRoaXMudXRpbHNTZXJ2aWNlLmNvbnZlcnRUb01vbWVudCh0bywgdGhpcy5jb21wb25lbnRDb25maWcuZm9ybWF0KTtcbiAgICB9XG5cbiAgICB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgc2hvdWxkU2hvd0N1cnJlbnQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudXRpbHNTZXJ2aWNlLnNob3VsZFNob3dDdXJyZW50KFxuICAgICAgdGhpcy5jb21wb25lbnRDb25maWcuc2hvd0dvVG9DdXJyZW50LFxuICAgICAgJ2RheScsXG4gICAgICB0aGlzLmNvbXBvbmVudENvbmZpZy5taW4sXG4gICAgICB0aGlzLmNvbXBvbmVudENvbmZpZy5tYXhcbiAgICApO1xuICB9XG5cbiAgZ29Ub0N1cnJlbnQoKSB7XG4gICAgdGhpcy5jdXJyZW50RGF0ZVZpZXcgPSBtb21lbnQoKTtcbiAgICB0aGlzLm9uR29Ub0N1cnJlbnQuZW1pdCgpO1xuICB9XG5cbiAgaGFuZGxlQ29uZmlnQ2hhbmdlKGNvbmZpZzogU2ltcGxlQ2hhbmdlKSB7XG4gICAgaWYgKGNvbmZpZykge1xuICAgICAgY29uc3QgcHJldkNvbmY6IElEYXlDYWxlbmRhckNvbmZpZ0ludGVybmFsID0gdGhpcy5kYXlDYWxlbmRhclNlcnZpY2UuZ2V0Q29uZmlnKGNvbmZpZy5wcmV2aW91c1ZhbHVlKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRDb25mOiBJRGF5Q2FsZW5kYXJDb25maWdJbnRlcm5hbCA9IHRoaXMuZGF5Q2FsZW5kYXJTZXJ2aWNlLmdldENvbmZpZyhjb25maWcuY3VycmVudFZhbHVlKTtcblxuICAgICAgaWYgKHRoaXMudXRpbHNTZXJ2aWNlLnNob3VsZFJlc2V0Q3VycmVudFZpZXcocHJldkNvbmYsIGN1cnJlbnRDb25mKSkge1xuICAgICAgICB0aGlzLl9jdXJyZW50RGF0ZVZpZXcgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtJbmplY3RhYmxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAqIGFzIG1vbWVudE5zIGZyb20gJ21vbWVudCc7XG5pbXBvcnQge01vbWVudH0gZnJvbSAnbW9tZW50JztcbmltcG9ydCB7VXRpbHNTZXJ2aWNlfSBmcm9tICcuLi9jb21tb24vc2VydmljZXMvdXRpbHMvdXRpbHMuc2VydmljZSc7XG5pbXBvcnQge0lNb250aH0gZnJvbSAnLi9tb250aC5tb2RlbCc7XG5pbXBvcnQge0lNb250aENhbGVuZGFyQ29uZmlnLCBJTW9udGhDYWxlbmRhckNvbmZpZ0ludGVybmFsfSBmcm9tICcuL21vbnRoLWNhbGVuZGFyLWNvbmZpZyc7XG5jb25zdCBtb21lbnQgPSBtb21lbnROcztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE1vbnRoQ2FsZW5kYXJTZXJ2aWNlIHtcbiAgcmVhZG9ubHkgREVGQVVMVF9DT05GSUc6IElNb250aENhbGVuZGFyQ29uZmlnSW50ZXJuYWwgPSB7XG4gICAgYWxsb3dNdWx0aVNlbGVjdDogZmFsc2UsXG4gICAgeWVhckZvcm1hdDogJ1lZWVknLFxuICAgIGZvcm1hdDogJ01NLVlZWVknLFxuICAgIGlzTmF2SGVhZGVyQnRuQ2xpY2thYmxlOiBmYWxzZSxcbiAgICBtb250aEJ0bkZvcm1hdDogJ01NTScsXG4gICAgbG9jYWxlOiBtb21lbnQubG9jYWxlKCksXG4gICAgbXVsdGlwbGVZZWFyc05hdmlnYXRlQnk6IDEwLFxuICAgIHNob3dNdWx0aXBsZVllYXJzTmF2aWdhdGlvbjogZmFsc2UsXG4gICAgdW5TZWxlY3RPbkNsaWNrOiB0cnVlXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSB1dGlsc1NlcnZpY2U6IFV0aWxzU2VydmljZSkge1xuICB9XG5cbiAgZ2V0Q29uZmlnKGNvbmZpZzogSU1vbnRoQ2FsZW5kYXJDb25maWcpOiBJTW9udGhDYWxlbmRhckNvbmZpZ0ludGVybmFsIHtcbiAgICBjb25zdCBfY29uZmlnID0gPElNb250aENhbGVuZGFyQ29uZmlnSW50ZXJuYWw+e1xuICAgICAgLi4udGhpcy5ERUZBVUxUX0NPTkZJRyxcbiAgICAgIC4uLnRoaXMudXRpbHNTZXJ2aWNlLmNsZWFyVW5kZWZpbmVkKGNvbmZpZylcbiAgICB9O1xuXG4gICAgdGhpcy51dGlsc1NlcnZpY2UuY29udmVydFByb3BzVG9Nb21lbnQoX2NvbmZpZywgX2NvbmZpZy5mb3JtYXQsIFsnbWluJywgJ21heCddKTtcblxuICAgIG1vbWVudC5sb2NhbGUoX2NvbmZpZy5sb2NhbGUpO1xuXG4gICAgcmV0dXJuIF9jb25maWc7XG4gIH1cblxuICBnZW5lcmF0ZVllYXIoY29uZmlnOiBJTW9udGhDYWxlbmRhckNvbmZpZywgeWVhcjogTW9tZW50LCBzZWxlY3RlZDogTW9tZW50W10gPSBudWxsKTogSU1vbnRoW11bXSB7XG4gICAgY29uc3QgaW5kZXggPSB5ZWFyLmNsb25lKCkuc3RhcnRPZigneWVhcicpO1xuXG4gICAgcmV0dXJuIHRoaXMudXRpbHNTZXJ2aWNlLmNyZWF0ZUFycmF5KDMpLm1hcCgoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy51dGlsc1NlcnZpY2UuY3JlYXRlQXJyYXkoNCkubWFwKCgpID0+IHtcbiAgICAgICAgY29uc3QgZGF0ZSA9IGluZGV4LmNsb25lKCk7XG4gICAgICAgIGNvbnN0IG1vbnRoID0ge1xuICAgICAgICAgIGRhdGUsXG4gICAgICAgICAgc2VsZWN0ZWQ6ICEhc2VsZWN0ZWQuZmluZChzID0+IGluZGV4LmlzU2FtZShzLCAnbW9udGgnKSksXG4gICAgICAgICAgY3VycmVudE1vbnRoOiBpbmRleC5pc1NhbWUobW9tZW50KCksICdtb250aCcpLFxuICAgICAgICAgIGRpc2FibGVkOiB0aGlzLmlzTW9udGhEaXNhYmxlZChkYXRlLCBjb25maWcpLFxuICAgICAgICAgIHRleHQ6IHRoaXMuZ2V0TW9udGhCdG5UZXh0KGNvbmZpZywgZGF0ZSlcbiAgICAgICAgfTtcblxuICAgICAgICBpbmRleC5hZGQoMSwgJ21vbnRoJyk7XG5cbiAgICAgICAgcmV0dXJuIG1vbnRoO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpc01vbnRoRGlzYWJsZWQoZGF0ZTogTW9tZW50LCBjb25maWc6IElNb250aENhbGVuZGFyQ29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZy5taW4gJiYgZGF0ZS5pc0JlZm9yZShjb25maWcubWluLCAnbW9udGgnKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuICEhKGNvbmZpZy5tYXggJiYgZGF0ZS5pc0FmdGVyKGNvbmZpZy5tYXgsICdtb250aCcpKTtcbiAgfVxuXG4gIHNob3VsZFNob3dMZWZ0KG1pbjogTW9tZW50LCBjdXJyZW50TW9udGhWaWV3OiBNb21lbnQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gbWluID8gbWluLmlzQmVmb3JlKGN1cnJlbnRNb250aFZpZXcsICd5ZWFyJykgOiB0cnVlO1xuICB9XG5cbiAgc2hvdWxkU2hvd1JpZ2h0KG1heDogTW9tZW50LCBjdXJyZW50TW9udGhWaWV3OiBNb21lbnQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gbWF4ID8gbWF4LmlzQWZ0ZXIoY3VycmVudE1vbnRoVmlldywgJ3llYXInKSA6IHRydWU7XG4gIH1cblxuICBnZXRIZWFkZXJMYWJlbChjb25maWc6IElNb250aENhbGVuZGFyQ29uZmlnLCB5ZWFyOiBNb21lbnQpOiBzdHJpbmcge1xuICAgIGlmIChjb25maWcueWVhckZvcm1hdHRlcikge1xuICAgICAgcmV0dXJuIGNvbmZpZy55ZWFyRm9ybWF0dGVyKHllYXIpO1xuICAgIH1cblxuICAgIHJldHVybiB5ZWFyLmZvcm1hdChjb25maWcueWVhckZvcm1hdCk7XG4gIH1cblxuICBnZXRNb250aEJ0blRleHQoY29uZmlnOiBJTW9udGhDYWxlbmRhckNvbmZpZywgbW9udGg6IE1vbWVudCk6IHN0cmluZyB7XG4gICAgaWYgKGNvbmZpZy5tb250aEJ0bkZvcm1hdHRlcikge1xuICAgICAgcmV0dXJuIGNvbmZpZy5tb250aEJ0bkZvcm1hdHRlcihtb250aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vbnRoLmZvcm1hdChjb25maWcubW9udGhCdG5Gb3JtYXQpO1xuICB9XG5cbiAgZ2V0TW9udGhCdG5Dc3NDbGFzcyhjb25maWc6IElNb250aENhbGVuZGFyQ29uZmlnLCBtb250aDogTW9tZW50KTogc3RyaW5nIHtcbiAgICBpZiAoY29uZmlnLm1vbnRoQnRuQ3NzQ2xhc3NDYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGNvbmZpZy5tb250aEJ0bkNzc0NsYXNzQ2FsbGJhY2sobW9udGgpO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxufVxuIiwiaW1wb3J0IHtFQ2FsZW5kYXJWYWx1ZX0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL2NhbGVuZGFyLXZhbHVlLWVudW0nO1xuaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBDb21wb25lbnQsXG4gIEV2ZW50RW1pdHRlcixcbiAgZm9yd2FyZFJlZixcbiAgSG9zdEJpbmRpbmcsXG4gIElucHV0LFxuICBPbkNoYW5nZXMsXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBTaW1wbGVDaGFuZ2UsXG4gIFNpbXBsZUNoYW5nZXMsXG4gIFZpZXdFbmNhcHN1bGF0aW9uXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtJTW9udGh9IGZyb20gJy4vbW9udGgubW9kZWwnO1xuaW1wb3J0IHtNb250aENhbGVuZGFyU2VydmljZX0gZnJvbSAnLi9tb250aC1jYWxlbmRhci5zZXJ2aWNlJztcbmltcG9ydCAqIGFzIG1vbWVudE5zIGZyb20gJ21vbWVudCc7XG5pbXBvcnQge01vbWVudH0gZnJvbSAnbW9tZW50JztcbmltcG9ydCB7SU1vbnRoQ2FsZW5kYXJDb25maWcsIElNb250aENhbGVuZGFyQ29uZmlnSW50ZXJuYWx9IGZyb20gJy4vbW9udGgtY2FsZW5kYXItY29uZmlnJztcbmltcG9ydCB7XG4gIENvbnRyb2xWYWx1ZUFjY2Vzc29yLFxuICBGb3JtQ29udHJvbCxcbiAgTkdfVkFMSURBVE9SUyxcbiAgTkdfVkFMVUVfQUNDRVNTT1IsXG4gIFZhbGlkYXRpb25FcnJvcnMsXG4gIFZhbGlkYXRvclxufSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQge0NhbGVuZGFyVmFsdWV9IGZyb20gJy4uL2NvbW1vbi90eXBlcy9jYWxlbmRhci12YWx1ZSc7XG5pbXBvcnQge1V0aWxzU2VydmljZX0gZnJvbSAnLi4vY29tbW9uL3NlcnZpY2VzL3V0aWxzL3V0aWxzLnNlcnZpY2UnO1xuaW1wb3J0IHtEYXRlVmFsaWRhdG9yfSBmcm9tICcuLi9jb21tb24vdHlwZXMvdmFsaWRhdG9yLnR5cGUnO1xuaW1wb3J0IHtTaW5nbGVDYWxlbmRhclZhbHVlfSBmcm9tICcuLi9jb21tb24vdHlwZXMvc2luZ2xlLWNhbGVuZGFyLXZhbHVlJztcbmltcG9ydCB7SU5hdkV2ZW50fSBmcm9tICcuLi9jb21tb24vbW9kZWxzL25hdmlnYXRpb24tZXZlbnQubW9kZWwnO1xuY29uc3QgbW9tZW50ID0gbW9tZW50TnM7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2RwLW1vbnRoLWNhbGVuZGFyJyxcbiAgdGVtcGxhdGVVcmw6ICdtb250aC1jYWxlbmRhci5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWydtb250aC1jYWxlbmRhci5jb21wb25lbnQubGVzcyddLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgcHJvdmlkZXJzOiBbXG4gICAgTW9udGhDYWxlbmRhclNlcnZpY2UsXG4gICAge1xuICAgICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBNb250aENhbGVuZGFyQ29tcG9uZW50KSxcbiAgICAgIG11bHRpOiB0cnVlXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBOR19WQUxJREFUT1JTLFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gTW9udGhDYWxlbmRhckNvbXBvbmVudCksXG4gICAgICBtdWx0aTogdHJ1ZVxuICAgIH1cbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBNb250aENhbGVuZGFyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBWYWxpZGF0b3Ige1xuICBASW5wdXQoKSBjb25maWc6IElNb250aENhbGVuZGFyQ29uZmlnO1xuICBASW5wdXQoKSBkaXNwbGF5RGF0ZTogTW9tZW50O1xuICBASW5wdXQoKSBtaW5EYXRlOiBNb21lbnQ7XG4gIEBJbnB1dCgpIG1heERhdGU6IE1vbWVudDtcbiAgQEhvc3RCaW5kaW5nKCdjbGFzcycpIEBJbnB1dCgpIHRoZW1lOiBzdHJpbmc7XG5cbiAgQE91dHB1dCgpIG9uU2VsZWN0OiBFdmVudEVtaXR0ZXI8SU1vbnRoPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uTmF2SGVhZGVyQnRuQ2xpY2s6IEV2ZW50RW1pdHRlcjxudWxsPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uR29Ub0N1cnJlbnQ6IEV2ZW50RW1pdHRlcjx2b2lkPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uTGVmdE5hdjogRXZlbnRFbWl0dGVyPElOYXZFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvblJpZ2h0TmF2OiBFdmVudEVtaXR0ZXI8SU5hdkV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uTGVmdFNlY29uZGFyeU5hdjogRXZlbnRFbWl0dGVyPElOYXZFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvblJpZ2h0U2Vjb25kYXJ5TmF2OiBFdmVudEVtaXR0ZXI8SU5hdkV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBpc0luaXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBjb21wb25lbnRDb25maWc6IElNb250aENhbGVuZGFyQ29uZmlnSW50ZXJuYWw7XG4gIF9zZWxlY3RlZDogTW9tZW50W107XG4gIHllYXJNb250aHM6IElNb250aFtdW107XG4gIF9jdXJyZW50RGF0ZVZpZXc6IE1vbWVudDtcbiAgaW5wdXRWYWx1ZTogQ2FsZW5kYXJWYWx1ZTtcbiAgaW5wdXRWYWx1ZVR5cGU6IEVDYWxlbmRhclZhbHVlO1xuICB2YWxpZGF0ZUZuOiBEYXRlVmFsaWRhdG9yO1xuICBfc2hvdWxkU2hvd0N1cnJlbnQ6IGJvb2xlYW4gPSB0cnVlO1xuICBuYXZMYWJlbDogc3RyaW5nO1xuICBzaG93TGVmdE5hdjogYm9vbGVhbjtcbiAgc2hvd1JpZ2h0TmF2OiBib29sZWFuO1xuICBzaG93U2Vjb25kYXJ5TGVmdE5hdjogYm9vbGVhbjtcbiAgc2hvd1NlY29uZGFyeVJpZ2h0TmF2OiBib29sZWFuO1xuXG4gIGFwaSA9IHtcbiAgICB0b2dnbGVDYWxlbmRhcjogdGhpcy50b2dnbGVDYWxlbmRhck1vZGUuYmluZCh0aGlzKSxcbiAgICBtb3ZlQ2FsZW5kYXJUbzogdGhpcy5tb3ZlQ2FsZW5kYXJUby5iaW5kKHRoaXMpXG4gIH07XG5cbiAgc2V0IHNlbGVjdGVkKHNlbGVjdGVkOiBNb21lbnRbXSkge1xuICAgIHRoaXMuX3NlbGVjdGVkID0gc2VsZWN0ZWQ7XG4gICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKHRoaXMucHJvY2Vzc09uQ2hhbmdlQ2FsbGJhY2soc2VsZWN0ZWQpKTtcbiAgfVxuXG4gIGdldCBzZWxlY3RlZCgpOiBNb21lbnRbXSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xuICB9XG5cbiAgc2V0IGN1cnJlbnREYXRlVmlldyhjdXJyZW50OiBNb21lbnQpIHtcbiAgICB0aGlzLl9jdXJyZW50RGF0ZVZpZXcgPSBjdXJyZW50LmNsb25lKCk7XG4gICAgdGhpcy55ZWFyTW9udGhzID0gdGhpcy5tb250aENhbGVuZGFyU2VydmljZVxuICAgICAgLmdlbmVyYXRlWWVhcih0aGlzLmNvbXBvbmVudENvbmZpZywgdGhpcy5fY3VycmVudERhdGVWaWV3LCB0aGlzLnNlbGVjdGVkKTtcbiAgICB0aGlzLm5hdkxhYmVsID0gdGhpcy5tb250aENhbGVuZGFyU2VydmljZS5nZXRIZWFkZXJMYWJlbCh0aGlzLmNvbXBvbmVudENvbmZpZywgdGhpcy5jdXJyZW50RGF0ZVZpZXcpO1xuICAgIHRoaXMuc2hvd0xlZnROYXYgPSB0aGlzLm1vbnRoQ2FsZW5kYXJTZXJ2aWNlLnNob3VsZFNob3dMZWZ0KHRoaXMuY29tcG9uZW50Q29uZmlnLm1pbiwgdGhpcy5fY3VycmVudERhdGVWaWV3KTtcbiAgICB0aGlzLnNob3dSaWdodE5hdiA9IHRoaXMubW9udGhDYWxlbmRhclNlcnZpY2Uuc2hvdWxkU2hvd1JpZ2h0KHRoaXMuY29tcG9uZW50Q29uZmlnLm1heCwgdGhpcy5jdXJyZW50RGF0ZVZpZXcpO1xuICAgIHRoaXMuc2hvd1NlY29uZGFyeUxlZnROYXYgPSB0aGlzLmNvbXBvbmVudENvbmZpZy5zaG93TXVsdGlwbGVZZWFyc05hdmlnYXRpb24gJiYgdGhpcy5zaG93TGVmdE5hdjtcbiAgICB0aGlzLnNob3dTZWNvbmRhcnlSaWdodE5hdiA9IHRoaXMuY29tcG9uZW50Q29uZmlnLnNob3dNdWx0aXBsZVllYXJzTmF2aWdhdGlvbiAmJiB0aGlzLnNob3dSaWdodE5hdjtcbiAgfVxuXG4gIGdldCBjdXJyZW50RGF0ZVZpZXcoKTogTW9tZW50IHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudERhdGVWaWV3O1xuICB9XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG1vbnRoQ2FsZW5kYXJTZXJ2aWNlOiBNb250aENhbGVuZGFyU2VydmljZSxcbiAgICAgICAgICAgICAgcHVibGljIHJlYWRvbmx5IHV0aWxzU2VydmljZTogVXRpbHNTZXJ2aWNlLFxuICAgICAgICAgICAgICBwdWJsaWMgcmVhZG9ubHkgY2Q6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmlzSW5pdGVkID0gdHJ1ZTtcbiAgICB0aGlzLmluaXQoKTtcbiAgICB0aGlzLmluaXRWYWxpZGF0b3JzKCk7XG4gIH1cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgaWYgKHRoaXMuaXNJbml0ZWQpIHtcbiAgICAgIGNvbnN0IHttaW5EYXRlLCBtYXhEYXRlLCBjb25maWd9ID0gY2hhbmdlcztcblxuICAgICAgdGhpcy5oYW5kbGVDb25maWdDaGFuZ2UoY29uZmlnKTtcbiAgICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgICBpZiAobWluRGF0ZSB8fCBtYXhEYXRlKSB7XG4gICAgICAgIHRoaXMuaW5pdFZhbGlkYXRvcnMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuY29tcG9uZW50Q29uZmlnID0gdGhpcy5tb250aENhbGVuZGFyU2VydmljZS5nZXRDb25maWcodGhpcy5jb25maWcpO1xuICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkIHx8IFtdO1xuICAgIHRoaXMuY3VycmVudERhdGVWaWV3ID0gdGhpcy5kaXNwbGF5RGF0ZVxuICAgICAgPyB0aGlzLmRpc3BsYXlEYXRlXG4gICAgICA6IHRoaXMudXRpbHNTZXJ2aWNlXG4gICAgICAgIC5nZXREZWZhdWx0RGlzcGxheURhdGUoXG4gICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZVZpZXcsXG4gICAgICAgICAgdGhpcy5zZWxlY3RlZCxcbiAgICAgICAgICB0aGlzLmNvbXBvbmVudENvbmZpZy5hbGxvd011bHRpU2VsZWN0LFxuICAgICAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnLm1pblxuICAgICAgICApO1xuICAgIHRoaXMuaW5wdXRWYWx1ZVR5cGUgPSB0aGlzLnV0aWxzU2VydmljZS5nZXRJbnB1dFR5cGUodGhpcy5pbnB1dFZhbHVlLCB0aGlzLmNvbXBvbmVudENvbmZpZy5hbGxvd011bHRpU2VsZWN0KTtcbiAgICB0aGlzLl9zaG91bGRTaG93Q3VycmVudCA9IHRoaXMuc2hvdWxkU2hvd0N1cnJlbnQoKTtcbiAgfVxuXG4gIHdyaXRlVmFsdWUodmFsdWU6IENhbGVuZGFyVmFsdWUpOiB2b2lkIHtcbiAgICB0aGlzLmlucHV0VmFsdWUgPSB2YWx1ZTtcblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMudXRpbHNTZXJ2aWNlXG4gICAgICAgIC5jb252ZXJ0VG9Nb21lbnRBcnJheSh2YWx1ZSwgdGhpcy5jb21wb25lbnRDb25maWcuZm9ybWF0LCB0aGlzLmNvbXBvbmVudENvbmZpZy5hbGxvd011bHRpU2VsZWN0KTtcbiAgICAgIHRoaXMueWVhck1vbnRocyA9IHRoaXMubW9udGhDYWxlbmRhclNlcnZpY2VcbiAgICAgICAgLmdlbmVyYXRlWWVhcih0aGlzLmNvbXBvbmVudENvbmZpZywgdGhpcy5jdXJyZW50RGF0ZVZpZXcsIHRoaXMuc2VsZWN0ZWQpO1xuICAgICAgdGhpcy5pbnB1dFZhbHVlVHlwZSA9IHRoaXMudXRpbHNTZXJ2aWNlLmdldElucHV0VHlwZSh0aGlzLmlucHV0VmFsdWUsIHRoaXMuY29tcG9uZW50Q29uZmlnLmFsbG93TXVsdGlTZWxlY3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdGVkID0gW107XG4gICAgICB0aGlzLnllYXJNb250aHMgPSB0aGlzLm1vbnRoQ2FsZW5kYXJTZXJ2aWNlXG4gICAgICAgIC5nZW5lcmF0ZVllYXIodGhpcy5jb21wb25lbnRDb25maWcsIHRoaXMuY3VycmVudERhdGVWaWV3LCB0aGlzLnNlbGVjdGVkKTtcbiAgICB9XG5cbiAgICB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgcmVnaXN0ZXJPbkNoYW5nZShmbjogYW55KTogdm9pZCB7XG4gICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrID0gZm47XG4gIH1cblxuICBvbkNoYW5nZUNhbGxiYWNrKF86IGFueSkge1xuICB9O1xuXG4gIHJlZ2lzdGVyT25Ub3VjaGVkKGZuOiBhbnkpOiB2b2lkIHtcbiAgfVxuXG4gIHZhbGlkYXRlKGZvcm1Db250cm9sOiBGb3JtQ29udHJvbCk6IFZhbGlkYXRpb25FcnJvcnMgfCBhbnkge1xuICAgIGlmICh0aGlzLm1pbkRhdGUgfHwgdGhpcy5tYXhEYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZUZuKGZvcm1Db250cm9sLnZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICgpID0+IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJvY2Vzc09uQ2hhbmdlQ2FsbGJhY2sodmFsdWU6IE1vbWVudFtdKTogQ2FsZW5kYXJWYWx1ZSB7XG4gICAgcmV0dXJuIHRoaXMudXRpbHNTZXJ2aWNlLmNvbnZlcnRGcm9tTW9tZW50QXJyYXkoXG4gICAgICB0aGlzLmNvbXBvbmVudENvbmZpZy5mb3JtYXQsXG4gICAgICB2YWx1ZSxcbiAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnLnJldHVybmVkVmFsdWVUeXBlIHx8IHRoaXMuaW5wdXRWYWx1ZVR5cGVcbiAgICApO1xuICB9XG5cbiAgaW5pdFZhbGlkYXRvcnMoKSB7XG4gICAgdGhpcy52YWxpZGF0ZUZuID0gdGhpcy52YWxpZGF0ZUZuID0gdGhpcy51dGlsc1NlcnZpY2UuY3JlYXRlVmFsaWRhdG9yKFxuICAgICAge21pbkRhdGU6IHRoaXMubWluRGF0ZSwgbWF4RGF0ZTogdGhpcy5tYXhEYXRlfSxcbiAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnLmZvcm1hdCxcbiAgICAgICdtb250aCdcbiAgICApO1xuXG4gICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKHRoaXMucHJvY2Vzc09uQ2hhbmdlQ2FsbGJhY2sodGhpcy5zZWxlY3RlZCkpO1xuICB9XG5cbiAgbW9udGhDbGlja2VkKG1vbnRoOiBJTW9udGgpIHtcbiAgICBpZiAobW9udGguc2VsZWN0ZWQgJiYgIXRoaXMuY29tcG9uZW50Q29uZmlnLnVuU2VsZWN0T25DbGljaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLnV0aWxzU2VydmljZVxuICAgICAgLnVwZGF0ZVNlbGVjdGVkKHRoaXMuY29tcG9uZW50Q29uZmlnLmFsbG93TXVsdGlTZWxlY3QsIHRoaXMuc2VsZWN0ZWQsIG1vbnRoLCAnbW9udGgnKTtcbiAgICB0aGlzLnllYXJNb250aHMgPSB0aGlzLm1vbnRoQ2FsZW5kYXJTZXJ2aWNlXG4gICAgICAuZ2VuZXJhdGVZZWFyKHRoaXMuY29tcG9uZW50Q29uZmlnLCB0aGlzLmN1cnJlbnREYXRlVmlldywgdGhpcy5zZWxlY3RlZCk7XG4gICAgdGhpcy5vblNlbGVjdC5lbWl0KG1vbnRoKTtcbiAgfVxuXG4gIG9uTGVmdE5hdkNsaWNrKCkge1xuICAgIGNvbnN0IGZyb20gPSB0aGlzLmN1cnJlbnREYXRlVmlldy5jbG9uZSgpO1xuICAgIHRoaXMuY3VycmVudERhdGVWaWV3ID0gdGhpcy5jdXJyZW50RGF0ZVZpZXcuY2xvbmUoKS5zdWJ0cmFjdCgxLCAneWVhcicpO1xuICAgIGNvbnN0IHRvID0gdGhpcy5jdXJyZW50RGF0ZVZpZXcuY2xvbmUoKTtcbiAgICB0aGlzLnllYXJNb250aHMgPSB0aGlzLm1vbnRoQ2FsZW5kYXJTZXJ2aWNlLmdlbmVyYXRlWWVhcih0aGlzLmNvbXBvbmVudENvbmZpZywgdGhpcy5jdXJyZW50RGF0ZVZpZXcsIHRoaXMuc2VsZWN0ZWQpO1xuICAgIHRoaXMub25MZWZ0TmF2LmVtaXQoe2Zyb20sIHRvfSk7XG4gIH1cblxuICBvbkxlZnRTZWNvbmRhcnlOYXZDbGljaygpIHtcbiAgICBsZXQgbmF2aWdhdGVCeSA9IHRoaXMuY29tcG9uZW50Q29uZmlnLm11bHRpcGxlWWVhcnNOYXZpZ2F0ZUJ5O1xuICAgIGNvbnN0IGlzT3V0c2lkZVJhbmdlID0gdGhpcy5jb21wb25lbnRDb25maWcubWluICYmXG4gICAgICB0aGlzLmN1cnJlbnREYXRlVmlldy55ZWFyKCkgLSB0aGlzLmNvbXBvbmVudENvbmZpZy5taW4ueWVhcigpIDwgbmF2aWdhdGVCeTtcblxuICAgIGlmIChpc091dHNpZGVSYW5nZSkge1xuICAgICAgbmF2aWdhdGVCeSA9IHRoaXMuY3VycmVudERhdGVWaWV3LnllYXIoKSAtIHRoaXMuY29tcG9uZW50Q29uZmlnLm1pbi55ZWFyKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZnJvbSA9IHRoaXMuY3VycmVudERhdGVWaWV3LmNsb25lKCk7XG4gICAgdGhpcy5jdXJyZW50RGF0ZVZpZXcgPSB0aGlzLmN1cnJlbnREYXRlVmlldy5jbG9uZSgpLnN1YnRyYWN0KG5hdmlnYXRlQnksICd5ZWFyJyk7XG4gICAgY29uc3QgdG8gPSB0aGlzLmN1cnJlbnREYXRlVmlldy5jbG9uZSgpO1xuICAgIHRoaXMub25MZWZ0U2Vjb25kYXJ5TmF2LmVtaXQoe2Zyb20sIHRvfSk7XG4gIH1cblxuICBvblJpZ2h0TmF2Q2xpY2soKSB7XG4gICAgY29uc3QgZnJvbSA9IHRoaXMuY3VycmVudERhdGVWaWV3LmNsb25lKCk7XG4gICAgdGhpcy5jdXJyZW50RGF0ZVZpZXcgPSB0aGlzLmN1cnJlbnREYXRlVmlldy5jbG9uZSgpLmFkZCgxLCAneWVhcicpO1xuICAgIGNvbnN0IHRvID0gdGhpcy5jdXJyZW50RGF0ZVZpZXcuY2xvbmUoKTtcbiAgICB0aGlzLm9uUmlnaHROYXYuZW1pdCh7ZnJvbSwgdG99KTtcbiAgfVxuXG4gIG9uUmlnaHRTZWNvbmRhcnlOYXZDbGljaygpIHtcbiAgICBsZXQgbmF2aWdhdGVCeSA9IHRoaXMuY29tcG9uZW50Q29uZmlnLm11bHRpcGxlWWVhcnNOYXZpZ2F0ZUJ5O1xuICAgIGNvbnN0IGlzT3V0c2lkZVJhbmdlID0gdGhpcy5jb21wb25lbnRDb25maWcubWF4ICYmXG4gICAgICB0aGlzLmNvbXBvbmVudENvbmZpZy5tYXgueWVhcigpIC0gdGhpcy5jdXJyZW50RGF0ZVZpZXcueWVhcigpIDwgbmF2aWdhdGVCeTtcblxuICAgIGlmIChpc091dHNpZGVSYW5nZSkge1xuICAgICAgbmF2aWdhdGVCeSA9IHRoaXMuY29tcG9uZW50Q29uZmlnLm1heC55ZWFyKCkgLSB0aGlzLmN1cnJlbnREYXRlVmlldy55ZWFyKCk7XG4gICAgfVxuXG4gICAgY29uc3QgZnJvbSA9IHRoaXMuY3VycmVudERhdGVWaWV3LmNsb25lKCk7XG4gICAgdGhpcy5jdXJyZW50RGF0ZVZpZXcgPSB0aGlzLmN1cnJlbnREYXRlVmlldy5jbG9uZSgpLmFkZChuYXZpZ2F0ZUJ5LCAneWVhcicpO1xuICAgIGNvbnN0IHRvID0gdGhpcy5jdXJyZW50RGF0ZVZpZXcuY2xvbmUoKTtcbiAgICB0aGlzLm9uUmlnaHRTZWNvbmRhcnlOYXYuZW1pdCh7ZnJvbSwgdG99KTtcbiAgfVxuXG4gIHRvZ2dsZUNhbGVuZGFyTW9kZSgpIHtcbiAgICB0aGlzLm9uTmF2SGVhZGVyQnRuQ2xpY2suZW1pdCgpO1xuICB9XG5cbiAgZ2V0TW9udGhCdG5Dc3NDbGFzcyhtb250aDogSU1vbnRoKToge1trbGFzczogc3RyaW5nXTogYm9vbGVhbn0ge1xuICAgIGNvbnN0IGNzc0NsYXNzOiB7W2tsYXNzOiBzdHJpbmddOiBib29sZWFufSA9IHtcbiAgICAgICdkcC1zZWxlY3RlZCc6IG1vbnRoLnNlbGVjdGVkLFxuICAgICAgJ2RwLWN1cnJlbnQtbW9udGgnOiBtb250aC5jdXJyZW50TW9udGhcbiAgICB9O1xuICAgIGNvbnN0IGN1c3RvbUNzc0NsYXNzOiBzdHJpbmcgPSB0aGlzLm1vbnRoQ2FsZW5kYXJTZXJ2aWNlLmdldE1vbnRoQnRuQ3NzQ2xhc3ModGhpcy5jb21wb25lbnRDb25maWcsIG1vbnRoLmRhdGUpO1xuXG4gICAgaWYgKGN1c3RvbUNzc0NsYXNzKSB7XG4gICAgICBjc3NDbGFzc1tjdXN0b21Dc3NDbGFzc10gPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBjc3NDbGFzcztcbiAgfVxuXG4gIHNob3VsZFNob3dDdXJyZW50KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnV0aWxzU2VydmljZS5zaG91bGRTaG93Q3VycmVudChcbiAgICAgIHRoaXMuY29tcG9uZW50Q29uZmlnLnNob3dHb1RvQ3VycmVudCxcbiAgICAgICdtb250aCcsXG4gICAgICB0aGlzLmNvbXBvbmVudENvbmZpZy5taW4sXG4gICAgICB0aGlzLmNvbXBvbmVudENvbmZpZy5tYXhcbiAgICApO1xuICB9XG5cbiAgZ29Ub0N1cnJlbnQoKSB7XG4gICAgdGhpcy5jdXJyZW50RGF0ZVZpZXcgPSBtb21lbnQoKTtcbiAgICB0aGlzLm9uR29Ub0N1cnJlbnQuZW1pdCgpO1xuICB9XG5cbiAgbW92ZUNhbGVuZGFyVG8odG86IFNpbmdsZUNhbGVuZGFyVmFsdWUpIHtcbiAgICBpZiAodG8pIHtcbiAgICAgIHRoaXMuY3VycmVudERhdGVWaWV3ID0gdGhpcy51dGlsc1NlcnZpY2UuY29udmVydFRvTW9tZW50KHRvLCB0aGlzLmNvbXBvbmVudENvbmZpZy5mb3JtYXQpO1xuICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVDb25maWdDaGFuZ2UoY29uZmlnOiBTaW1wbGVDaGFuZ2UpIHtcbiAgICBpZiAoY29uZmlnKSB7XG4gICAgICBjb25zdCBwcmV2Q29uZjogSU1vbnRoQ2FsZW5kYXJDb25maWdJbnRlcm5hbCA9IHRoaXMubW9udGhDYWxlbmRhclNlcnZpY2UuZ2V0Q29uZmlnKGNvbmZpZy5wcmV2aW91c1ZhbHVlKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRDb25mOiBJTW9udGhDYWxlbmRhckNvbmZpZ0ludGVybmFsID0gdGhpcy5tb250aENhbGVuZGFyU2VydmljZS5nZXRDb25maWcoY29uZmlnLmN1cnJlbnRWYWx1ZSk7XG5cbiAgICAgIGlmICh0aGlzLnV0aWxzU2VydmljZS5zaG91bGRSZXNldEN1cnJlbnRWaWV3KHByZXZDb25mLCBjdXJyZW50Q29uZikpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudERhdGVWaWV3ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7RUNhbGVuZGFyVmFsdWV9IGZyb20gJy4uL2NvbW1vbi90eXBlcy9jYWxlbmRhci12YWx1ZS1lbnVtJztcbmltcG9ydCB7U2luZ2xlQ2FsZW5kYXJWYWx1ZX0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL3NpbmdsZS1jYWxlbmRhci12YWx1ZSc7XG5pbXBvcnQge1xuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRXZlbnRFbWl0dGVyLFxuICBmb3J3YXJkUmVmLFxuICBIb3N0QmluZGluZyxcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFNpbXBsZUNoYW5nZXMsXG4gIFZpZXdFbmNhcHN1bGF0aW9uXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtUaW1lU2VsZWN0U2VydmljZSwgVGltZVVuaXR9IGZyb20gJy4vdGltZS1zZWxlY3Quc2VydmljZSc7XG5pbXBvcnQgKiBhcyBtb21lbnROcyBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHtNb21lbnR9IGZyb20gJ21vbWVudCc7XG5pbXBvcnQge0lUaW1lU2VsZWN0Q29uZmlnLCBJVGltZVNlbGVjdENvbmZpZ0ludGVybmFsfSBmcm9tICcuL3RpbWUtc2VsZWN0LWNvbmZpZy5tb2RlbCc7XG5pbXBvcnQge1xuICBDb250cm9sVmFsdWVBY2Nlc3NvcixcbiAgRm9ybUNvbnRyb2wsXG4gIE5HX1ZBTElEQVRPUlMsXG4gIE5HX1ZBTFVFX0FDQ0VTU09SLFxuICBWYWxpZGF0aW9uRXJyb3JzLFxuICBWYWxpZGF0b3Jcbn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtDYWxlbmRhclZhbHVlfSBmcm9tICcuLi9jb21tb24vdHlwZXMvY2FsZW5kYXItdmFsdWUnO1xuaW1wb3J0IHtVdGlsc1NlcnZpY2V9IGZyb20gJy4uL2NvbW1vbi9zZXJ2aWNlcy91dGlscy91dGlscy5zZXJ2aWNlJztcbmltcG9ydCB7SURhdGV9IGZyb20gJy4uL2NvbW1vbi9tb2RlbHMvZGF0ZS5tb2RlbCc7XG5pbXBvcnQge0RhdGVWYWxpZGF0b3J9IGZyb20gJy4uL2NvbW1vbi90eXBlcy92YWxpZGF0b3IudHlwZSc7XG5jb25zdCBtb21lbnQgPSBtb21lbnROcztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZHAtdGltZS1zZWxlY3QnLFxuICB0ZW1wbGF0ZVVybDogJ3RpbWUtc2VsZWN0LmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJ3RpbWUtc2VsZWN0LmNvbXBvbmVudC5sZXNzJ10sXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBwcm92aWRlcnM6IFtcbiAgICBUaW1lU2VsZWN0U2VydmljZSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBOR19WQUxVRV9BQ0NFU1NPUixcbiAgICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IFRpbWVTZWxlY3RDb21wb25lbnQpLFxuICAgICAgbXVsdGk6IHRydWVcbiAgICB9LFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IE5HX1ZBTElEQVRPUlMsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKSA9PiBUaW1lU2VsZWN0Q29tcG9uZW50KSxcbiAgICAgIG11bHRpOiB0cnVlXG4gICAgfVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFRpbWVTZWxlY3RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgQ29udHJvbFZhbHVlQWNjZXNzb3IsIFZhbGlkYXRvciB7XG5cbiAgQElucHV0KCkgY29uZmlnOiBJVGltZVNlbGVjdENvbmZpZztcbiAgQElucHV0KCkgZGlzcGxheURhdGU6IFNpbmdsZUNhbGVuZGFyVmFsdWU7XG4gIEBJbnB1dCgpIG1pbkRhdGU6IFNpbmdsZUNhbGVuZGFyVmFsdWU7XG4gIEBJbnB1dCgpIG1heERhdGU6IFNpbmdsZUNhbGVuZGFyVmFsdWU7XG4gIEBJbnB1dCgpIG1pblRpbWU6IFNpbmdsZUNhbGVuZGFyVmFsdWU7XG4gIEBJbnB1dCgpIG1heFRpbWU6IFNpbmdsZUNhbGVuZGFyVmFsdWU7XG4gIEBIb3N0QmluZGluZygnY2xhc3MnKSBASW5wdXQoKSB0aGVtZTogc3RyaW5nO1xuXG4gIEBPdXRwdXQoKSBvbkNoYW5nZTogRXZlbnRFbWl0dGVyPElEYXRlPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBpc0luaXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBjb21wb25lbnRDb25maWc6IElUaW1lU2VsZWN0Q29uZmlnSW50ZXJuYWw7XG4gIF9zZWxlY3RlZDogTW9tZW50O1xuICBpbnB1dFZhbHVlOiBDYWxlbmRhclZhbHVlO1xuICBpbnB1dFZhbHVlVHlwZTogRUNhbGVuZGFyVmFsdWU7XG4gIHZhbGlkYXRlRm46IERhdGVWYWxpZGF0b3I7XG5cbiAgaG91cnM6IHN0cmluZztcbiAgbWludXRlczogc3RyaW5nO1xuICBzZWNvbmRzOiBzdHJpbmc7XG4gIG1lcmlkaWVtOiBzdHJpbmc7XG5cbiAgc2hvd0RlY0hvdXI6IGJvb2xlYW47XG4gIHNob3dEZWNNaW51dGU6IGJvb2xlYW47XG4gIHNob3dEZWNTZWNvbmQ6IGJvb2xlYW47XG4gIHNob3dJbmNIb3VyOiBib29sZWFuO1xuICBzaG93SW5jTWludXRlOiBib29sZWFuO1xuICBzaG93SW5jU2Vjb25kOiBib29sZWFuO1xuICBzaG93VG9nZ2xlTWVyaWRpZW06IGJvb2xlYW47XG5cbiAgc2V0IHNlbGVjdGVkKHNlbGVjdGVkOiBNb21lbnQpIHtcbiAgICB0aGlzLl9zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgIHRoaXMuY2FsY3VsYXRlVGltZVBhcnRzKHRoaXMuc2VsZWN0ZWQpO1xuXG4gICAgdGhpcy5zaG93RGVjSG91ciA9IHRoaXMudGltZVNlbGVjdFNlcnZpY2Uuc2hvdWxkU2hvd0RlY3JlYXNlKHRoaXMuY29tcG9uZW50Q29uZmlnLCB0aGlzLl9zZWxlY3RlZCwgJ2hvdXInKTtcbiAgICB0aGlzLnNob3dEZWNNaW51dGUgPSB0aGlzLnRpbWVTZWxlY3RTZXJ2aWNlLnNob3VsZFNob3dEZWNyZWFzZSh0aGlzLmNvbXBvbmVudENvbmZpZywgdGhpcy5fc2VsZWN0ZWQsICdtaW51dGUnKTtcbiAgICB0aGlzLnNob3dEZWNTZWNvbmQgPSB0aGlzLnRpbWVTZWxlY3RTZXJ2aWNlLnNob3VsZFNob3dEZWNyZWFzZSh0aGlzLmNvbXBvbmVudENvbmZpZywgdGhpcy5fc2VsZWN0ZWQsICdzZWNvbmQnKTtcblxuICAgIHRoaXMuc2hvd0luY0hvdXIgPSB0aGlzLnRpbWVTZWxlY3RTZXJ2aWNlLnNob3VsZFNob3dJbmNyZWFzZSh0aGlzLmNvbXBvbmVudENvbmZpZywgdGhpcy5fc2VsZWN0ZWQsICdob3VyJyk7XG4gICAgdGhpcy5zaG93SW5jTWludXRlID0gdGhpcy50aW1lU2VsZWN0U2VydmljZS5zaG91bGRTaG93SW5jcmVhc2UodGhpcy5jb21wb25lbnRDb25maWcsIHRoaXMuX3NlbGVjdGVkLCAnbWludXRlJyk7XG4gICAgdGhpcy5zaG93SW5jU2Vjb25kID0gdGhpcy50aW1lU2VsZWN0U2VydmljZS5zaG91bGRTaG93SW5jcmVhc2UodGhpcy5jb21wb25lbnRDb25maWcsIHRoaXMuX3NlbGVjdGVkLCAnc2Vjb25kJyk7XG5cbiAgICB0aGlzLnNob3dUb2dnbGVNZXJpZGllbSA9IHRoaXMudGltZVNlbGVjdFNlcnZpY2Uuc2hvdWxkU2hvd1RvZ2dsZU1lcmlkaWVtKHRoaXMuY29tcG9uZW50Q29uZmlnLCB0aGlzLl9zZWxlY3RlZCk7XG5cbiAgICB0aGlzLm9uQ2hhbmdlQ2FsbGJhY2sodGhpcy5wcm9jZXNzT25DaGFuZ2VDYWxsYmFjayhzZWxlY3RlZCkpO1xuICB9XG5cbiAgZ2V0IHNlbGVjdGVkKCk6IE1vbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xuICB9XG5cbiAgYXBpID0ge1xuICAgIHRyaWdnZXJDaGFuZ2U6IHRoaXMuZW1pdENoYW5nZS5iaW5kKHRoaXMpXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHVibGljIHRpbWVTZWxlY3RTZXJ2aWNlOiBUaW1lU2VsZWN0U2VydmljZSxcbiAgICAgICAgICAgICAgcHVibGljIHV0aWxzU2VydmljZTogVXRpbHNTZXJ2aWNlLFxuICAgICAgICAgICAgICBwdWJsaWMgY2Q6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmlzSW5pdGVkID0gdHJ1ZTtcbiAgICB0aGlzLmluaXQoKTtcbiAgICB0aGlzLmluaXRWYWxpZGF0b3JzKCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuY29tcG9uZW50Q29uZmlnID0gdGhpcy50aW1lU2VsZWN0U2VydmljZS5nZXRDb25maWcodGhpcy5jb25maWcpO1xuICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkIHx8IG1vbWVudCgpO1xuICAgIHRoaXMuaW5wdXRWYWx1ZVR5cGUgPSB0aGlzLnV0aWxzU2VydmljZS5nZXRJbnB1dFR5cGUodGhpcy5pbnB1dFZhbHVlLCBmYWxzZSk7XG4gIH1cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgaWYgKHRoaXMuaXNJbml0ZWQpIHtcbiAgICAgIGNvbnN0IHttaW5EYXRlLCBtYXhEYXRlLCBtaW5UaW1lLCBtYXhUaW1lfSA9IGNoYW5nZXM7XG4gICAgICB0aGlzLmluaXQoKTtcblxuICAgICAgaWYgKG1pbkRhdGUgfHwgbWF4RGF0ZSB8fCBtaW5UaW1lIHx8IG1heFRpbWUpIHtcbiAgICAgICAgdGhpcy5pbml0VmFsaWRhdG9ycygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHdyaXRlVmFsdWUodmFsdWU6IENhbGVuZGFyVmFsdWUpOiB2b2lkIHtcbiAgICB0aGlzLmlucHV0VmFsdWUgPSB2YWx1ZTtcblxuICAgIGlmICh2YWx1ZSkge1xuICAgICAgY29uc3QgbW9tZW50VmFsdWUgPSB0aGlzLnV0aWxzU2VydmljZVxuICAgICAgICAuY29udmVydFRvTW9tZW50QXJyYXkodmFsdWUsIHRoaXMudGltZVNlbGVjdFNlcnZpY2UuZ2V0VGltZUZvcm1hdCh0aGlzLmNvbXBvbmVudENvbmZpZyksIGZhbHNlKVswXTtcbiAgICAgIGlmIChtb21lbnRWYWx1ZS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IG1vbWVudFZhbHVlO1xuICAgICAgICB0aGlzLmlucHV0VmFsdWVUeXBlID0gdGhpcy51dGlsc1NlcnZpY2VcbiAgICAgICAgICAuZ2V0SW5wdXRUeXBlKHRoaXMuaW5wdXRWYWx1ZSwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9uQ2hhbmdlQ2FsbGJhY2sgPSBmbjtcbiAgfVxuXG4gIG9uQ2hhbmdlQ2FsbGJhY2soXzogYW55KSB7XG4gIH07XG5cbiAgcmVnaXN0ZXJPblRvdWNoZWQoZm46IGFueSk6IHZvaWQge1xuICB9XG5cbiAgdmFsaWRhdGUoZm9ybUNvbnRyb2w6IEZvcm1Db250cm9sKTogVmFsaWRhdGlvbkVycm9ycyB8IGFueSB7XG4gICAgaWYgKHRoaXMubWluRGF0ZSB8fCB0aGlzLm1heERhdGUgfHwgdGhpcy5taW5UaW1lIHx8IHRoaXMubWF4VGltZSkge1xuICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVGbihmb3JtQ29udHJvbC52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoKSA9PiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByb2Nlc3NPbkNoYW5nZUNhbGxiYWNrKHZhbHVlOiBNb21lbnQpOiBDYWxlbmRhclZhbHVlIHtcbiAgICByZXR1cm4gdGhpcy51dGlsc1NlcnZpY2UuY29udmVydEZyb21Nb21lbnRBcnJheShcbiAgICAgIHRoaXMudGltZVNlbGVjdFNlcnZpY2UuZ2V0VGltZUZvcm1hdCh0aGlzLmNvbXBvbmVudENvbmZpZyksXG4gICAgICBbdmFsdWVdLFxuICAgICAgdGhpcy5jb21wb25lbnRDb25maWcucmV0dXJuZWRWYWx1ZVR5cGUgfHwgdGhpcy5pbnB1dFZhbHVlVHlwZVxuICAgICk7XG4gIH1cblxuICBpbml0VmFsaWRhdG9ycygpIHtcbiAgICB0aGlzLnZhbGlkYXRlRm4gPSB0aGlzLnV0aWxzU2VydmljZS5jcmVhdGVWYWxpZGF0b3IoXG4gICAgICB7XG4gICAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSxcbiAgICAgICAgbWF4RGF0ZTogdGhpcy5tYXhEYXRlLFxuICAgICAgICBtaW5UaW1lOiB0aGlzLm1pblRpbWUsXG4gICAgICAgIG1heFRpbWU6IHRoaXMubWF4VGltZVxuICAgICAgfSwgdW5kZWZpbmVkLCAnZGF5Jyk7XG5cbiAgICB0aGlzLm9uQ2hhbmdlQ2FsbGJhY2sodGhpcy5wcm9jZXNzT25DaGFuZ2VDYWxsYmFjayh0aGlzLnNlbGVjdGVkKSk7XG4gIH1cblxuICBkZWNyZWFzZSh1bml0OiBUaW1lVW5pdCkge1xuICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLnRpbWVTZWxlY3RTZXJ2aWNlLmRlY3JlYXNlKHRoaXMuY29tcG9uZW50Q29uZmlnLCB0aGlzLnNlbGVjdGVkLCB1bml0KTtcbiAgICB0aGlzLmVtaXRDaGFuZ2UoKTtcbiAgfVxuXG4gIGluY3JlYXNlKHVuaXQ6IFRpbWVVbml0KSB7XG4gICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMudGltZVNlbGVjdFNlcnZpY2UuaW5jcmVhc2UodGhpcy5jb21wb25lbnRDb25maWcsIHRoaXMuc2VsZWN0ZWQsIHVuaXQpO1xuICAgIHRoaXMuZW1pdENoYW5nZSgpO1xuICB9XG5cbiAgdG9nZ2xlTWVyaWRpZW0oKSB7XG4gICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMudGltZVNlbGVjdFNlcnZpY2UudG9nZ2xlTWVyaWRpZW0odGhpcy5zZWxlY3RlZCk7XG4gICAgdGhpcy5lbWl0Q2hhbmdlKCk7XG4gIH1cblxuICBlbWl0Q2hhbmdlKCkge1xuICAgIHRoaXMub25DaGFuZ2UuZW1pdCh7ZGF0ZTogdGhpcy5zZWxlY3RlZCwgc2VsZWN0ZWQ6IGZhbHNlfSk7XG4gICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIGNhbGN1bGF0ZVRpbWVQYXJ0cyh0aW1lOiBNb21lbnQpIHtcbiAgICB0aGlzLmhvdXJzID0gdGhpcy50aW1lU2VsZWN0U2VydmljZS5nZXRIb3Vycyh0aGlzLmNvbXBvbmVudENvbmZpZywgdGltZSk7XG4gICAgdGhpcy5taW51dGVzID0gdGhpcy50aW1lU2VsZWN0U2VydmljZS5nZXRNaW51dGVzKHRoaXMuY29tcG9uZW50Q29uZmlnLCB0aW1lKTtcbiAgICB0aGlzLnNlY29uZHMgPSB0aGlzLnRpbWVTZWxlY3RTZXJ2aWNlLmdldFNlY29uZHModGhpcy5jb21wb25lbnRDb25maWcsIHRpbWUpO1xuICAgIHRoaXMubWVyaWRpZW0gPSB0aGlzLnRpbWVTZWxlY3RTZXJ2aWNlLmdldE1lcmlkaWVtKHRoaXMuY29tcG9uZW50Q29uZmlnLCB0aW1lKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENvbXBvbmVudCxcbiAgRXZlbnRFbWl0dGVyLFxuICBIb3N0QmluZGluZyxcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgVmlld0VuY2Fwc3VsYXRpb25cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2RwLWNhbGVuZGFyLW5hdicsXG4gIHRlbXBsYXRlVXJsOiAnLi9jYWxlbmRhci1uYXYuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9jYWxlbmRhci1uYXYuY29tcG9uZW50Lmxlc3MnXSxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2hcbn0pXG5leHBvcnQgY2xhc3MgQ2FsZW5kYXJOYXZDb21wb25lbnQge1xuICBASW5wdXQoKSBsYWJlbDogc3RyaW5nO1xuICBASW5wdXQoKSBpc0xhYmVsQ2xpY2thYmxlOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIHNob3dMZWZ0TmF2OiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCkgc2hvd0xlZnRTZWNvbmRhcnlOYXY6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgc2hvd1JpZ2h0TmF2OiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCkgc2hvd1JpZ2h0U2Vjb25kYXJ5TmF2OiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIGxlZnROYXZEaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoKSBsZWZ0U2Vjb25kYXJ5TmF2RGlzYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgcmlnaHROYXZEaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoKSByaWdodFNlY29uZGFyeU5hdkRpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIHNob3dHb1RvQ3VycmVudDogYm9vbGVhbiA9IHRydWU7XG4gIEBIb3N0QmluZGluZygnY2xhc3MnKSBASW5wdXQoKSB0aGVtZTogc3RyaW5nO1xuXG4gIEBPdXRwdXQoKSBvbkxlZnROYXY6IEV2ZW50RW1pdHRlcjxudWxsPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uTGVmdFNlY29uZGFyeU5hdjogRXZlbnRFbWl0dGVyPG51bGw+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25SaWdodE5hdjogRXZlbnRFbWl0dGVyPG51bGw+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25SaWdodFNlY29uZGFyeU5hdjogRXZlbnRFbWl0dGVyPG51bGw+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25MYWJlbENsaWNrOiBFdmVudEVtaXR0ZXI8bnVsbD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvbkdvVG9DdXJyZW50OiBFdmVudEVtaXR0ZXI8bnVsbD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgbGVmdE5hdkNsaWNrZWQoKSB7XG4gICAgdGhpcy5vbkxlZnROYXYuZW1pdCgpO1xuICB9XG5cbiAgbGVmdFNlY29uZGFyeU5hdkNsaWNrZWQoKSB7XG4gICAgdGhpcy5vbkxlZnRTZWNvbmRhcnlOYXYuZW1pdCgpO1xuICB9XG5cbiAgcmlnaHROYXZDbGlja2VkKCkge1xuICAgIHRoaXMub25SaWdodE5hdi5lbWl0KCk7XG4gIH1cblxuICByaWdodFNlY29uZGFyeU5hdkNsaWNrZWQoKSB7XG4gICAgdGhpcy5vblJpZ2h0U2Vjb25kYXJ5TmF2LmVtaXQoKTtcbiAgfVxuXG4gIGxhYmVsQ2xpY2tlZCgpIHtcbiAgICB0aGlzLm9uTGFiZWxDbGljay5lbWl0KCk7XG4gIH1cbn1cbiIsImltcG9ydCB7RUNhbGVuZGFyVmFsdWV9IGZyb20gJy4uL2NvbW1vbi90eXBlcy9jYWxlbmRhci12YWx1ZS1lbnVtJztcbmltcG9ydCB7U2luZ2xlQ2FsZW5kYXJWYWx1ZX0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL3NpbmdsZS1jYWxlbmRhci12YWx1ZSc7XG5pbXBvcnQge1xuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRXZlbnRFbWl0dGVyLFxuICBmb3J3YXJkUmVmLFxuICBIb3N0QmluZGluZyxcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFNpbXBsZUNoYW5nZXMsXG4gIFZpZXdDaGlsZCxcbiAgVmlld0VuY2Fwc3VsYXRpb25cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBDb250cm9sVmFsdWVBY2Nlc3NvcixcbiAgRm9ybUNvbnRyb2wsXG4gIE5HX1ZBTElEQVRPUlMsXG4gIE5HX1ZBTFVFX0FDQ0VTU09SLFxuICBWYWxpZGF0aW9uRXJyb3JzLFxuICBWYWxpZGF0b3Jcbn0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtNb21lbnR9IGZyb20gJ21vbWVudCc7XG5pbXBvcnQge0NhbGVuZGFyVmFsdWV9IGZyb20gJy4uL2NvbW1vbi90eXBlcy9jYWxlbmRhci12YWx1ZSc7XG5pbXBvcnQge1V0aWxzU2VydmljZX0gZnJvbSAnLi4vY29tbW9uL3NlcnZpY2VzL3V0aWxzL3V0aWxzLnNlcnZpY2UnO1xuaW1wb3J0IHtJRGF0ZX0gZnJvbSAnLi4vY29tbW9uL21vZGVscy9kYXRlLm1vZGVsJztcbmltcG9ydCB7RGF5Q2FsZW5kYXJTZXJ2aWNlfSBmcm9tICcuLi9kYXktY2FsZW5kYXIvZGF5LWNhbGVuZGFyLnNlcnZpY2UnO1xuaW1wb3J0IHtUaW1lU2VsZWN0U2VydmljZX0gZnJvbSAnLi4vdGltZS1zZWxlY3QvdGltZS1zZWxlY3Quc2VydmljZSc7XG5pbXBvcnQge0lEYXlUaW1lQ2FsZW5kYXJDb25maWd9IGZyb20gJy4vZGF5LXRpbWUtY2FsZW5kYXItY29uZmlnLm1vZGVsJztcbmltcG9ydCB7RGF5VGltZUNhbGVuZGFyU2VydmljZX0gZnJvbSAnLi9kYXktdGltZS1jYWxlbmRhci5zZXJ2aWNlJztcbmltcG9ydCB7RGF0ZVZhbGlkYXRvcn0gZnJvbSAnLi4vY29tbW9uL3R5cGVzL3ZhbGlkYXRvci50eXBlJztcbmltcG9ydCB7RGF5Q2FsZW5kYXJDb21wb25lbnR9IGZyb20gJy4uL2RheS1jYWxlbmRhci9kYXktY2FsZW5kYXIuY29tcG9uZW50JztcbmltcG9ydCB7SU5hdkV2ZW50fSBmcm9tICcuLi9jb21tb24vbW9kZWxzL25hdmlnYXRpb24tZXZlbnQubW9kZWwnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdkcC1kYXktdGltZS1jYWxlbmRhcicsXG4gIHRlbXBsYXRlVXJsOiAnZGF5LXRpbWUtY2FsZW5kYXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnZGF5LXRpbWUtY2FsZW5kYXIuY29tcG9uZW50Lmxlc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gIHByb3ZpZGVyczogW1xuICAgIERheVRpbWVDYWxlbmRhclNlcnZpY2UsXG4gICAgRGF5Q2FsZW5kYXJTZXJ2aWNlLFxuICAgIFRpbWVTZWxlY3RTZXJ2aWNlLFxuICAgIHtcbiAgICAgIHByb3ZpZGU6IE5HX1ZBTFVFX0FDQ0VTU09SLFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gRGF5VGltZUNhbGVuZGFyQ29tcG9uZW50KSxcbiAgICAgIG11bHRpOiB0cnVlXG4gICAgfSxcbiAgICB7XG4gICAgICBwcm92aWRlOiBOR19WQUxJREFUT1JTLFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gRGF5VGltZUNhbGVuZGFyQ29tcG9uZW50KSxcbiAgICAgIG11bHRpOiB0cnVlXG4gICAgfVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIERheVRpbWVDYWxlbmRhckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBDb250cm9sVmFsdWVBY2Nlc3NvciwgVmFsaWRhdG9yIHtcblxuICBASW5wdXQoKSBjb25maWc6IElEYXlUaW1lQ2FsZW5kYXJDb25maWc7XG4gIEBJbnB1dCgpIGRpc3BsYXlEYXRlOiBTaW5nbGVDYWxlbmRhclZhbHVlO1xuICBASW5wdXQoKSBtaW5EYXRlOiBTaW5nbGVDYWxlbmRhclZhbHVlO1xuICBASW5wdXQoKSBtYXhEYXRlOiBTaW5nbGVDYWxlbmRhclZhbHVlO1xuICBASG9zdEJpbmRpbmcoJ2NsYXNzJykgQElucHV0KCkgdGhlbWU6IHN0cmluZztcblxuICBAT3V0cHV0KCkgb25DaGFuZ2U6IEV2ZW50RW1pdHRlcjxJRGF0ZT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvbkdvVG9DdXJyZW50OiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvbkxlZnROYXY6IEV2ZW50RW1pdHRlcjxJTmF2RXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25SaWdodE5hdjogRXZlbnRFbWl0dGVyPElOYXZFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgQFZpZXdDaGlsZCgnZGF5Q2FsZW5kYXInKSBkYXlDYWxlbmRhclJlZjogRGF5Q2FsZW5kYXJDb21wb25lbnQ7XG5cbiAgaXNJbml0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29tcG9uZW50Q29uZmlnOiBJRGF5VGltZUNhbGVuZGFyQ29uZmlnO1xuICBfc2VsZWN0ZWQ6IE1vbWVudDtcbiAgaW5wdXRWYWx1ZTogQ2FsZW5kYXJWYWx1ZTtcbiAgaW5wdXRWYWx1ZVR5cGU6IEVDYWxlbmRhclZhbHVlO1xuICB2YWxpZGF0ZUZuOiBEYXRlVmFsaWRhdG9yO1xuXG4gIHNldCBzZWxlY3RlZChzZWxlY3RlZDogTW9tZW50KSB7XG4gICAgdGhpcy5fc2VsZWN0ZWQgPSBzZWxlY3RlZDtcbiAgICB0aGlzLm9uQ2hhbmdlQ2FsbGJhY2sodGhpcy5wcm9jZXNzT25DaGFuZ2VDYWxsYmFjayhzZWxlY3RlZCkpO1xuICB9XG5cbiAgZ2V0IHNlbGVjdGVkKCk6IE1vbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkO1xuICB9XG5cbiAgYXBpID0ge1xuICAgIG1vdmVDYWxlbmRhclRvOiB0aGlzLm1vdmVDYWxlbmRhclRvLmJpbmQodGhpcylcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZGF5VGltZUNhbGVuZGFyU2VydmljZTogRGF5VGltZUNhbGVuZGFyU2VydmljZSxcbiAgICAgICAgICAgICAgcHVibGljIHV0aWxzU2VydmljZTogVXRpbHNTZXJ2aWNlLFxuICAgICAgICAgICAgICBwdWJsaWMgY2Q6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLmlzSW5pdGVkID0gdHJ1ZTtcbiAgICB0aGlzLmluaXQoKTtcbiAgICB0aGlzLmluaXRWYWxpZGF0b3JzKCk7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMuY29tcG9uZW50Q29uZmlnID0gdGhpcy5kYXlUaW1lQ2FsZW5kYXJTZXJ2aWNlLmdldENvbmZpZyh0aGlzLmNvbmZpZyk7XG4gICAgdGhpcy5pbnB1dFZhbHVlVHlwZSA9IHRoaXMudXRpbHNTZXJ2aWNlLmdldElucHV0VHlwZSh0aGlzLmlucHV0VmFsdWUsIGZhbHNlKTtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICBpZiAodGhpcy5pc0luaXRlZCkge1xuICAgICAgY29uc3Qge21pbkRhdGUsIG1heERhdGV9ID0gY2hhbmdlcztcbiAgICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgICBpZiAobWluRGF0ZSB8fCBtYXhEYXRlKSB7XG4gICAgICAgIHRoaXMuaW5pdFZhbGlkYXRvcnMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB3cml0ZVZhbHVlKHZhbHVlOiBDYWxlbmRhclZhbHVlKTogdm9pZCB7XG4gICAgdGhpcy5pbnB1dFZhbHVlID0gdmFsdWU7XG5cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLnV0aWxzU2VydmljZVxuICAgICAgICAuY29udmVydFRvTW9tZW50QXJyYXkodmFsdWUsIHRoaXMuY29tcG9uZW50Q29uZmlnLmZvcm1hdCwgZmFsc2UpWzBdO1xuICAgICAgdGhpcy5pbnB1dFZhbHVlVHlwZSA9IHRoaXMudXRpbHNTZXJ2aWNlXG4gICAgICAgIC5nZXRJbnB1dFR5cGUodGhpcy5pbnB1dFZhbHVlLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICByZWdpc3Rlck9uQ2hhbmdlKGZuOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9uQ2hhbmdlQ2FsbGJhY2sgPSBmbjtcbiAgfVxuXG4gIG9uQ2hhbmdlQ2FsbGJhY2soXzogYW55KSB7XG4gIH07XG5cbiAgcmVnaXN0ZXJPblRvdWNoZWQoZm46IGFueSk6IHZvaWQge1xuICB9XG5cbiAgdmFsaWRhdGUoZm9ybUNvbnRyb2w6IEZvcm1Db250cm9sKTogVmFsaWRhdGlvbkVycm9ycyB8IGFueSB7XG4gICAgaWYgKHRoaXMubWluRGF0ZSB8fCB0aGlzLm1heERhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlRm4oZm9ybUNvbnRyb2wudmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKCkgPT4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcm9jZXNzT25DaGFuZ2VDYWxsYmFjayh2YWx1ZTogTW9tZW50KTogQ2FsZW5kYXJWYWx1ZSB7XG4gICAgcmV0dXJuIHRoaXMudXRpbHNTZXJ2aWNlLmNvbnZlcnRGcm9tTW9tZW50QXJyYXkoXG4gICAgICB0aGlzLmNvbXBvbmVudENvbmZpZy5mb3JtYXQsXG4gICAgICBbdmFsdWVdLFxuICAgICAgdGhpcy5jb21wb25lbnRDb25maWcucmV0dXJuZWRWYWx1ZVR5cGUgfHwgdGhpcy5pbnB1dFZhbHVlVHlwZVxuICAgICk7XG4gIH1cblxuICBpbml0VmFsaWRhdG9ycygpIHtcbiAgICB0aGlzLnZhbGlkYXRlRm4gPSB0aGlzLnV0aWxzU2VydmljZS5jcmVhdGVWYWxpZGF0b3IoXG4gICAgICB7XG4gICAgICAgIG1pbkRhdGU6IHRoaXMubWluRGF0ZSxcbiAgICAgICAgbWF4RGF0ZTogdGhpcy5tYXhEYXRlXG4gICAgICB9LCB1bmRlZmluZWQsICdkYXl0aW1lJyk7XG5cbiAgICB0aGlzLm9uQ2hhbmdlQ2FsbGJhY2sodGhpcy5wcm9jZXNzT25DaGFuZ2VDYWxsYmFjayh0aGlzLnNlbGVjdGVkKSk7XG4gIH1cblxuICBkYXRlU2VsZWN0ZWQoZGF5OiBJRGF0ZSkge1xuICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLmRheVRpbWVDYWxlbmRhclNlcnZpY2UudXBkYXRlRGF5KHRoaXMuc2VsZWN0ZWQsIGRheS5kYXRlLCB0aGlzLmNvbmZpZyk7XG4gICAgdGhpcy5lbWl0Q2hhbmdlKCk7XG4gIH1cblxuICB0aW1lQ2hhbmdlKHRpbWU6IElEYXRlKSB7XG4gICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMuZGF5VGltZUNhbGVuZGFyU2VydmljZS51cGRhdGVUaW1lKHRoaXMuc2VsZWN0ZWQsIHRpbWUuZGF0ZSk7XG4gICAgdGhpcy5lbWl0Q2hhbmdlKCk7XG4gIH1cblxuICBlbWl0Q2hhbmdlKCkge1xuICAgIHRoaXMub25DaGFuZ2UuZW1pdCh7ZGF0ZTogdGhpcy5zZWxlY3RlZCwgc2VsZWN0ZWQ6IGZhbHNlfSk7XG4gIH1cblxuICBtb3ZlQ2FsZW5kYXJUbyh0bzogU2luZ2xlQ2FsZW5kYXJWYWx1ZSkge1xuICAgIGlmICh0bykge1xuICAgICAgdGhpcy5kYXlDYWxlbmRhclJlZi5tb3ZlQ2FsZW5kYXJUbyh0byk7XG4gICAgfVxuICB9XG5cbiAgb25MZWZ0TmF2Q2xpY2soY2hhbmdlOiBJTmF2RXZlbnQpIHtcbiAgICB0aGlzLm9uTGVmdE5hdi5lbWl0KGNoYW5nZSk7XG4gIH1cblxuICBvblJpZ2h0TmF2Q2xpY2soY2hhbmdlOiBJTmF2RXZlbnQpIHtcbiAgICB0aGlzLm9uUmlnaHROYXYuZW1pdChjaGFuZ2UpO1xuICB9XG59XG4iLCJpbXBvcnQge05nTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Rm9ybXNNb2R1bGV9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7Q29tbW9uTW9kdWxlfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHtEb21IZWxwZXJ9IGZyb20gJy4vY29tbW9uL3NlcnZpY2VzL2RvbS1hcHBlbmRlci9kb20tYXBwZW5kZXIuc2VydmljZSc7XG5pbXBvcnQge1V0aWxzU2VydmljZX0gZnJvbSAnLi9jb21tb24vc2VydmljZXMvdXRpbHMvdXRpbHMuc2VydmljZSc7XG5pbXBvcnQge0RhdGVQaWNrZXJDb21wb25lbnR9IGZyb20gJy4vZGF0ZS1waWNrZXIvZGF0ZS1waWNrZXIuY29tcG9uZW50JztcbmltcG9ydCB7RGF0ZVBpY2tlckRpcmVjdGl2ZX0gZnJvbSAnLi9kYXRlLXBpY2tlci9kYXRlLXBpY2tlci5kaXJlY3RpdmUnO1xuaW1wb3J0IHtEYXlDYWxlbmRhckNvbXBvbmVudH0gZnJvbSAnLi9kYXktY2FsZW5kYXIvZGF5LWNhbGVuZGFyLmNvbXBvbmVudCc7XG5pbXBvcnQge01vbnRoQ2FsZW5kYXJDb21wb25lbnR9IGZyb20gJy4vbW9udGgtY2FsZW5kYXIvbW9udGgtY2FsZW5kYXIuY29tcG9uZW50JztcbmltcG9ydCB7VGltZVNlbGVjdENvbXBvbmVudH0gZnJvbSAnLi90aW1lLXNlbGVjdC90aW1lLXNlbGVjdC5jb21wb25lbnQnO1xuaW1wb3J0IHtDYWxlbmRhck5hdkNvbXBvbmVudH0gZnJvbSAnLi9jYWxlbmRhci1uYXYvY2FsZW5kYXItbmF2LmNvbXBvbmVudCc7XG5pbXBvcnQge0RheVRpbWVDYWxlbmRhckNvbXBvbmVudH0gZnJvbSAnLi9kYXktdGltZS1jYWxlbmRhci9kYXktdGltZS1jYWxlbmRhci5jb21wb25lbnQnO1xuZXhwb3J0IHtEYXRlUGlja2VyQ29tcG9uZW50fSBmcm9tICcuL2RhdGUtcGlja2VyL2RhdGUtcGlja2VyLmNvbXBvbmVudCc7XG5leHBvcnQge0RhdGVQaWNrZXJEaXJlY3RpdmV9IGZyb20gJy4vZGF0ZS1waWNrZXIvZGF0ZS1waWNrZXIuZGlyZWN0aXZlJztcbmV4cG9ydCB7RGF5Q2FsZW5kYXJDb21wb25lbnR9IGZyb20gJy4vZGF5LWNhbGVuZGFyL2RheS1jYWxlbmRhci5jb21wb25lbnQnO1xuZXhwb3J0IHtEYXlUaW1lQ2FsZW5kYXJDb21wb25lbnR9IGZyb20gJy4vZGF5LXRpbWUtY2FsZW5kYXIvZGF5LXRpbWUtY2FsZW5kYXIuY29tcG9uZW50JztcbmV4cG9ydCB7VGltZVNlbGVjdENvbXBvbmVudH0gZnJvbSAnLi90aW1lLXNlbGVjdC90aW1lLXNlbGVjdC5jb21wb25lbnQnO1xuZXhwb3J0IHtNb250aENhbGVuZGFyQ29tcG9uZW50fSBmcm9tICcuL21vbnRoLWNhbGVuZGFyL21vbnRoLWNhbGVuZGFyLmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gIHByb3ZpZGVyczogW1xuICAgIERvbUhlbHBlcixcbiAgICBVdGlsc1NlcnZpY2VcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgRGF0ZVBpY2tlckNvbXBvbmVudCxcbiAgICBEYXRlUGlja2VyRGlyZWN0aXZlLFxuICAgIERheUNhbGVuZGFyQ29tcG9uZW50LFxuICAgIE1vbnRoQ2FsZW5kYXJDb21wb25lbnQsXG4gICAgQ2FsZW5kYXJOYXZDb21wb25lbnQsXG4gICAgVGltZVNlbGVjdENvbXBvbmVudCxcbiAgICBEYXlUaW1lQ2FsZW5kYXJDb21wb25lbnRcbiAgXSxcbiAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgRGF0ZVBpY2tlckNvbXBvbmVudFxuICBdLFxuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIEZvcm1zTW9kdWxlXG4gIF0sXG4gIGV4cG9ydHM6IFtcbiAgICBEYXRlUGlja2VyQ29tcG9uZW50LFxuICAgIERhdGVQaWNrZXJEaXJlY3RpdmUsXG4gICAgTW9udGhDYWxlbmRhckNvbXBvbmVudCxcbiAgICBEYXlDYWxlbmRhckNvbXBvbmVudCxcbiAgICBUaW1lU2VsZWN0Q29tcG9uZW50LFxuICAgIERheVRpbWVDYWxlbmRhckNvbXBvbmVudFxuICBdXG59KVxuZXhwb3J0IGNsYXNzIERwRGF0ZVBpY2tlck1vZHVsZSB7XG59XG4iXSwibmFtZXMiOlsiSW5qZWN0YWJsZSIsIm1vbWVudCIsIkV2ZW50RW1pdHRlciIsIkNvbXBvbmVudCIsIlZpZXdFbmNhcHN1bGF0aW9uIiwiQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kiLCJOR19WQUxVRV9BQ0NFU1NPUiIsImZvcndhcmRSZWYiLCJOR19WQUxJREFUT1JTIiwiRWxlbWVudFJlZiIsIlJlbmRlcmVyIiwiQ2hhbmdlRGV0ZWN0b3JSZWYiLCJJbnB1dCIsIkhvc3RCaW5kaW5nIiwiT3V0cHV0IiwiVmlld0NoaWxkIiwiSG9zdExpc3RlbmVyIiwiRGlyZWN0aXZlIiwiVmlld0NvbnRhaW5lclJlZiIsIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIk5nQ29udHJvbCIsIk9wdGlvbmFsIiwiTmdNb2R1bGUiLCJDb21tb25Nb2R1bGUiLCJGb3Jtc01vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O1FBQ0UsTUFBRztRQUNILFVBQU87UUFDUCxRQUFLO1FBQ0wsT0FBSTs7Ozs7Ozs7Ozs7OztRQ0hKLFNBQVU7UUFDVixZQUFTO1FBQ1QsU0FBTTtRQUNOLFlBQVM7Ozs7Ozs7Ozs7Ozs7UUNIVCxPQUFRLE9BQU87UUFDZixXQUFZLFdBQVc7Ozs7Ozs7QUNGekI7UUFHQTtTQTRGQzs7Ozs7Ozs7O1FBekZnQiwwQkFBZ0I7Ozs7Ozs7O1lBQS9CLFVBQWdDLE9BQW9CLEVBQUUsU0FBc0IsRUFBRSxNQUFtQixFQUFFLEtBQWE7O29CQUN4RyxVQUFVLEdBQUcsTUFBTSxDQUFDLHFCQUFxQixFQUFFOztvQkFDM0MsYUFBYSxHQUFHLFNBQVMsQ0FBQyxxQkFBcUIsRUFBRTs7b0JBQ2pELE1BQU0sR0FBRyxVQUFVLENBQUMsTUFBTSxHQUFHLGFBQWEsQ0FBQyxHQUFHOztvQkFDOUMsR0FBRyxHQUFHLFVBQVUsQ0FBQyxHQUFHLEdBQUcsYUFBYSxDQUFDLEdBQUc7Z0JBRTlDLElBQUksS0FBSyxLQUFLLE1BQU0sRUFBRTtvQkFDcEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksTUFBTSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztpQkFDekM7cUJBQU07b0JBQ0wsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxZQUFZLElBQUksSUFBSSxDQUFDO2lCQUM3RDthQUNGOzs7Ozs7Ozs7O1FBRWMsMEJBQWdCOzs7Ozs7Ozs7WUFBL0IsVUFBZ0MsT0FBb0IsRUFBRSxTQUFzQixFQUFFLE1BQW1CLEVBQUUsT0FBb0IsRUFBRSxLQUFhOztvQkFDOUgsVUFBVSxHQUFHLE1BQU0sQ0FBQyxxQkFBcUIsRUFBRTs7b0JBQzNDLGFBQWEsR0FBRyxTQUFTLENBQUMscUJBQXFCLEVBQUU7O29CQUNqRCxJQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksR0FBRyxhQUFhLENBQUMsSUFBSTtnQkFFakQsSUFBSSxLQUFLLEtBQUssT0FBTyxFQUFFO29CQUNyQixPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDO2lCQUNsQztxQkFBTTtvQkFDTCxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxJQUFJLEdBQUcsT0FBTyxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztpQkFDN0U7YUFDRjs7Ozs7O1FBRWMscUJBQVc7Ozs7O1lBQTFCLFVBQTJCLEVBQWU7Z0JBQ2pDLElBQUEsb0NBQUc7Z0JBQ1YsUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFO2FBQ25COzs7Ozs7UUFFYyx3QkFBYzs7Ozs7WUFBN0IsVUFBOEIsRUFBZTtnQkFDcEMsSUFBQSwwQ0FBTTtnQkFDYixRQUFRLE1BQU0sSUFBSSxNQUFNLENBQUMsV0FBVyxFQUFFO2FBQ3ZDOzs7Ozs7UUFFYyxzQkFBWTs7Ozs7WUFBM0IsVUFBNEIsRUFBZTtnQkFDbEMsSUFBQSxzQ0FBSTtnQkFDWCxRQUFRLElBQUksSUFBSSxDQUFDLEVBQUU7YUFDcEI7Ozs7OztRQUVjLHVCQUFhOzs7OztZQUE1QixVQUE2QixFQUFlO2dCQUNuQyxJQUFBLHdDQUFLO2dCQUNaLFFBQVEsS0FBSyxJQUFJLE1BQU0sQ0FBQyxVQUFVLEVBQUU7YUFDckM7Ozs7O1FBRUQsMkNBQXVCOzs7O1lBQXZCLFVBQXdCLE1BQXFCO2dCQUE3QyxpQkFrQkM7Z0JBakJRLElBQUEsNEJBQVMsRUFBRSx3QkFBTztnQkFFekIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsUUFBUSxJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsUUFBUSxLQUFLLFFBQVEsRUFBRTtvQkFDdEUsU0FBUyxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDO2lCQUN2QztnQkFFRCxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxLQUFLLFVBQVUsRUFBRTtvQkFDekMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDO2lCQUNyQztnQkFFRCxPQUFPLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUM7Z0JBRXBDLFVBQVUsQ0FBQztvQkFDVCxLQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBRWhDLE9BQU8sQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztpQkFDdEMsQ0FBQyxDQUFDO2FBQ0o7Ozs7O1FBRUQsc0NBQWtCOzs7O1lBQWxCLFVBQW1CLEVBQWtFO29CQUFqRSxvQkFBTyxFQUFFLHdCQUFTLEVBQUUsa0JBQU0sRUFBRSxvQkFBTyxFQUFFLGdCQUFLLEVBQUUsZ0JBQUs7Z0JBQ25FLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztnQkFDL0QsU0FBUyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztnQkFFekUsSUFBSSxLQUFLLEtBQUssTUFBTSxJQUFJLEtBQUssS0FBSyxJQUFJLEVBQUU7b0JBQ3RDLElBQUksU0FBUyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsRUFBRTt3QkFDckMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO3FCQUNoRTt5QkFBTSxJQUFJLFNBQVMsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLEVBQUU7d0JBQ3pDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztxQkFDOUQ7aUJBQ0Y7cUJBQU07b0JBQ0wsU0FBUyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO2lCQUMvRDtnQkFFRCxJQUFJLEtBQUssS0FBSyxNQUFNLElBQUksS0FBSyxLQUFLLE9BQU8sRUFBRTtvQkFDekMsSUFBSSxTQUFTLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxFQUFFO3dCQUNwQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO3FCQUMxRTt5QkFBTSxJQUFJLFNBQVMsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEVBQUU7d0JBQzFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7cUJBQ3pFO2lCQUNGO3FCQUFNO29CQUNMLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7aUJBQ3hFO2FBQ0Y7O29CQTNGRkEsZUFBVTs7UUE0RlgsZ0JBQUM7S0E1RkQ7Ozs7OztBQ0hBO1FBV00sTUFBTSxHQUFHLFFBQVE7O1FBU3ZCO1NBK1RDOzs7Ozs7UUE3VFEscUJBQVE7Ozs7O1lBQWYsVUFBZ0IsSUFBYyxFQUFFLElBQVk7O29CQUN0QyxPQUFPO2dCQUNYLE9BQU87O3dCQUNDLE9BQU8sR0FBRyxJQUFJOzt3QkFBRSxJQUFJLEdBQUcsU0FBUztvQkFDdEMsT0FBTyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztvQkFDaEMsVUFBVSxDQUFDO3dCQUNULElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO3FCQUMzQixFQUFFLElBQUksQ0FBQyxDQUFDO2lCQUNWLENBQUM7YUFDSDs7Ozs7UUFFRCxrQ0FBVzs7OztZQUFYLFVBQVksSUFBWTtnQkFDdEIsT0FBTyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDaEM7Ozs7OztRQUVELHNDQUFlOzs7OztZQUFmLFVBQWdCLElBQXlCLEVBQUUsTUFBYztnQkFDdkQsSUFBSSxDQUFDLElBQUksRUFBRTtvQkFDVCxPQUFPLElBQUksQ0FBQztpQkFDYjtxQkFBTSxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtvQkFDbkMsT0FBTyxNQUFNLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO2lCQUM3QjtxQkFBTTtvQkFDTCxPQUFPLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztpQkFDckI7YUFDRjs7Ozs7O1FBRUQsa0NBQVc7Ozs7O1lBQVgsVUFBWSxJQUFZLEVBQUUsTUFBYztnQkFDdEMsSUFBSSxJQUFJLEtBQUssRUFBRSxFQUFFO29CQUNmLE9BQU8sSUFBSSxDQUFDO2lCQUNiO2dCQUVELE9BQU8sTUFBTSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7YUFDN0M7Ozs7Ozs7Ozs7UUFHRCw0Q0FBcUI7Ozs7Ozs7OztZQUFyQixVQUFzQixPQUFlLEVBQ2YsUUFBa0IsRUFDbEIsZ0JBQXlCLEVBQ3pCLE9BQWU7Z0JBQ25DLElBQUksT0FBTyxFQUFFO29CQUNYLE9BQU8sT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO2lCQUN4QjtxQkFBTSxJQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUU7b0JBQy9DLE9BQU8sT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO2lCQUN4QjtxQkFBTSxJQUFJLGdCQUFnQixFQUFFO29CQUMzQixJQUFJLFFBQVEsSUFBSSxRQUFRLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFO3dCQUN6QyxPQUFPLFFBQVEsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7cUJBQzFDO2lCQUNGO3FCQUFNLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDbEMsT0FBTyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7aUJBQzVCO2dCQUVELE9BQU8sTUFBTSxFQUFFLENBQUM7YUFDakI7Ozs7Ozs7O1FBR0QsbUNBQVk7Ozs7Ozs7WUFBWixVQUFhLEtBQW9CLEVBQUUsZ0JBQXlCO2dCQUMxRCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7b0JBQ3hCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFO3dCQUNqQixPQUFPLGNBQWMsQ0FBQyxTQUFTLENBQUM7cUJBQ2pDO3lCQUFNLElBQUksT0FBTyxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssUUFBUSxFQUFFO3dCQUN2QyxPQUFPLGNBQWMsQ0FBQyxTQUFTLENBQUM7cUJBQ2pDO3lCQUFNLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTt3QkFDcEMsT0FBTyxjQUFjLENBQUMsU0FBUyxDQUFDO3FCQUNqQztpQkFDRjtxQkFBTTtvQkFDTCxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTt3QkFDN0IsT0FBTyxjQUFjLENBQUMsTUFBTSxDQUFDO3FCQUM5Qjt5QkFBTSxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7d0JBQ2pDLE9BQU8sY0FBYyxDQUFDLE1BQU0sQ0FBQztxQkFDOUI7aUJBQ0Y7Z0JBRUQsT0FBTyxnQkFBZ0IsR0FBRyxjQUFjLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQyxNQUFNLENBQUM7YUFDNUU7Ozs7Ozs7OztRQUdELDJDQUFvQjs7Ozs7Ozs7WUFBcEIsVUFBcUIsS0FBb0IsRUFBRSxNQUFjLEVBQUUsZ0JBQXlCO2dCQUNsRixRQUFRLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLGdCQUFnQixDQUFDO29CQUNoRCxNQUFNLGNBQWMsQ0FBQyxNQUFNO3dCQUN6QixPQUFPLEtBQUssR0FBRyxDQUFDLE1BQU0sb0JBQVMsS0FBSyxJQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztvQkFDNUQsTUFBTSxjQUFjLENBQUMsU0FBUzt3QkFDNUIsT0FBTyxvQkFBVyxLQUFLLElBQUUsR0FBRyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxHQUFHLElBQUksR0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUN4RixNQUFNLGNBQWMsQ0FBQyxNQUFNO3dCQUN6QixPQUFPLEtBQUssR0FBRyxDQUFDLG9CQUFTLEtBQUssSUFBRSxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztvQkFDaEQsTUFBTSxjQUFjLENBQUMsU0FBUzt3QkFDNUIsT0FBTyxDQUFDLG1CQUFVLEtBQUssTUFBSSxFQUFFLEVBQUUsR0FBRyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLEtBQUssRUFBRSxHQUFBLENBQUMsQ0FBQztvQkFDckQ7d0JBQ0UsT0FBTyxFQUFFLENBQUM7aUJBQ2I7YUFDRjs7Ozs7Ozs7O1FBR0QsNkNBQXNCOzs7Ozs7OztZQUF0QixVQUF1QixNQUFjLEVBQ2QsS0FBZSxFQUNmLFNBQXlCO2dCQUM5QyxRQUFRLFNBQVM7b0JBQ2YsTUFBTSxjQUFjLENBQUMsTUFBTTt3QkFDekIsT0FBTyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztvQkFDN0MsTUFBTSxjQUFjLENBQUMsU0FBUzt3QkFDNUIsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUEsQ0FBQyxDQUFDO29CQUMxRCxNQUFNLGNBQWMsQ0FBQyxNQUFNO3dCQUN6QixPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNoRCxNQUFNLGNBQWMsQ0FBQyxTQUFTO3dCQUM1QixPQUFPLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLEtBQUssRUFBRSxHQUFBLENBQUMsR0FBRyxLQUFLLENBQUM7b0JBQ25EO3dCQUNFLE9BQU8sS0FBSyxDQUFDO2lCQUNoQjthQUNGOzs7Ozs7UUFFRCxzQ0FBZTs7Ozs7WUFBZixVQUFnQixLQUFvQixFQUFFLE1BQWM7Z0JBQXBELGlCQW9CQzs7b0JBbkJLLE1BQWdCO2dCQUVwQixJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtvQkFDN0IsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQ2xCO3FCQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtvQkFDL0IsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO3dCQUNoQixNQUFNLEdBQUcsb0JBQXdCLEtBQUssSUFBRSxHQUFHLENBQUMsVUFBQyxDQUFDOzRCQUM1QyxPQUFPLEtBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQzt5QkFDdkQsQ0FBQyxDQUFDO3FCQUNKO3lCQUFNO3dCQUNMLE1BQU0sc0JBQWEsS0FBSyxFQUFBLENBQUM7cUJBQzFCO2lCQUNGO3FCQUFNLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtvQkFDakMsTUFBTSxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO2lCQUNqQztxQkFBTTtvQkFDTCxPQUFPLEVBQUUsQ0FBQztpQkFDWDtnQkFFRCxPQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQzNDOzs7Ozs7OztRQUdELHFDQUFjOzs7Ozs7O1lBQWQsVUFBa0IsR0FBTTtnQkFDdEIsSUFBSSxDQUFDLEdBQUcsRUFBRTtvQkFDUixPQUFPLEdBQUcsQ0FBQztpQkFDWjtnQkFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFDLEdBQUcsSUFBSyxPQUFBLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLFNBQVMsS0FBSyxPQUFPLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBQSxDQUFDLENBQUM7Z0JBQy9FLE9BQU8sR0FBRyxDQUFDO2FBQ1o7Ozs7Ozs7O1FBRUQscUNBQWM7Ozs7Ozs7WUFBZCxVQUFlLFVBQW1CLEVBQ25CLGlCQUEyQixFQUMzQixJQUFXLEVBQ1gsV0FBb0M7Z0JBQXBDLDRCQUFBO29CQUFBLG1CQUFvQzs7Z0JBQ2pELElBQUksVUFBVSxFQUFFO29CQUNkLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUTswQkFDakIsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDOzBCQUNyQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxXQUFXLENBQUMsR0FBQSxDQUFDLENBQUM7aUJBQ3RFO3FCQUFNO29CQUNMLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztpQkFDMUM7YUFDRjs7Ozs7O1FBRUQsb0NBQWE7Ozs7O1lBQWIsVUFBYyxPQUFvQixFQUFFLFFBQWdCO2dCQUNsRCxJQUFJLENBQUMsT0FBTyxFQUFFO29CQUNaLE9BQU8sU0FBUyxDQUFDO2lCQUNsQjs7b0JBQ0ssS0FBSyxzQkFBZ0IsT0FBTyxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsRUFBQTtnQkFDMUQsT0FBTyxLQUFLLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDO2FBQ3JFOzs7OztRQUVELCtCQUFROzs7O1lBQVIsVUFBUyxDQUFTO2dCQUNoQixPQUFPLENBQUMsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO2FBQzVFOzs7OztRQUVELDBDQUFtQjs7OztZQUFuQixVQUFvQixZQUEwQjtnQkFDNUMsUUFBUSxZQUFZO29CQUNsQixLQUFLLE1BQU07d0JBQ1QsT0FBTyxRQUFRLENBQUM7b0JBQ2xCLEtBQUssU0FBUzt3QkFDWixPQUFPLFFBQVEsQ0FBQztvQkFDbEI7d0JBQ0UsT0FBTyxZQUFZLENBQUM7aUJBQ3ZCO2FBQ0Y7Ozs7Ozs7UUFFRCxzQ0FBZTs7Ozs7O1lBQWYsVUFBZ0IsRUFBZ0QsRUFDaEQsTUFBYyxFQUNkLFlBQTBCO2dCQUYxQyxpQkFpRkM7b0JBakZnQixvQkFBTyxFQUFFLG9CQUFPLEVBQUUsb0JBQU8sRUFBRSxvQkFBTzs7b0JBRzdDLE9BQWdCOztvQkFDaEIsS0FBZTs7b0JBQ2IsVUFBVSxHQUFHLEVBQUU7O29CQUNmLFdBQVcsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsWUFBWSxDQUFDO2dCQUUxRCxJQUFJLE9BQU8sRUFBRTs7d0JBQ0wsSUFBRSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQztvQkFDaEQsVUFBVSxDQUFDLElBQUksQ0FBQzt3QkFDZCxHQUFHLEVBQUUsU0FBUzt3QkFDZCxPQUFPLEVBQUU7O2dDQUNELFFBQVEsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLFVBQUEsR0FBRyxJQUFJLE9BQUEsR0FBRyxDQUFDLGFBQWEsQ0FBQyxJQUFFLEVBQUUsV0FBVyxDQUFDLEdBQUEsQ0FBQzs0QkFDdkUsT0FBTyxHQUFHLE9BQU8sR0FBRyxRQUFRLEdBQUcsS0FBSyxDQUFDOzRCQUNyQyxPQUFPLFFBQVEsQ0FBQzt5QkFDakI7cUJBQ0YsQ0FBQyxDQUFDO2lCQUNKO2dCQUVELElBQUksT0FBTyxFQUFFOzt3QkFDTCxJQUFFLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDO29CQUNoRCxVQUFVLENBQUMsSUFBSSxDQUFDO3dCQUNkLEdBQUcsRUFBRSxTQUFTO3dCQUNkLE9BQU8sRUFBRTs7Z0NBQ0QsUUFBUSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsVUFBQSxHQUFHLElBQUksT0FBQSxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUUsRUFBRSxXQUFXLENBQUMsR0FBQSxDQUFDOzRCQUN4RSxPQUFPLEdBQUcsT0FBTyxHQUFHLFFBQVEsR0FBRyxLQUFLLENBQUM7NEJBQ3JDLE9BQU8sUUFBUSxDQUFDO3lCQUNqQjtxQkFDRixDQUFDLENBQUM7aUJBQ0o7Z0JBRUQsSUFBSSxPQUFPLEVBQUU7O3dCQUNMLElBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO29CQUMvRCxVQUFVLENBQUMsSUFBSSxDQUFDO3dCQUNkLEdBQUcsRUFBRSxTQUFTO3dCQUNkLE9BQU8sRUFBRTs7Z0NBQ0QsUUFBUSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsVUFBQSxHQUFHLElBQUksT0FBQSxLQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxJQUFFLENBQUMsR0FBQSxDQUFDOzRCQUN6RSxPQUFPLEdBQUcsT0FBTyxHQUFHLFFBQVEsR0FBRyxLQUFLLENBQUM7NEJBQ3JDLE9BQU8sUUFBUSxDQUFDO3lCQUNqQjtxQkFDRixDQUFDLENBQUM7aUJBQ0o7Z0JBRUQsSUFBSSxPQUFPLEVBQUU7O3dCQUNMLElBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO29CQUMvRCxVQUFVLENBQUMsSUFBSSxDQUFDO3dCQUNkLEdBQUcsRUFBRSxTQUFTO3dCQUNkLE9BQU8sRUFBRTs7Z0NBQ0QsUUFBUSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsVUFBQSxHQUFHLElBQUksT0FBQSxLQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxJQUFFLENBQUMsR0FBQSxDQUFDOzRCQUMxRSxPQUFPLEdBQUcsT0FBTyxHQUFHLFFBQVEsR0FBRyxLQUFLLENBQUM7NEJBQ3JDLE9BQU8sUUFBUSxDQUFDO3lCQUNqQjtxQkFDRixDQUFDLENBQUM7aUJBQ0o7Z0JBRUQsT0FBTyxVQUFDLFFBQXVCO29CQUM3QixPQUFPLEdBQUcsSUFBSSxDQUFDO29CQUVmLEtBQUssR0FBRyxLQUFJLENBQUMsb0JBQW9CLENBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBRTFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFVBQUEsR0FBRyxJQUFJLE9BQUEsR0FBRyxDQUFDLE9BQU8sRUFBRSxHQUFBLENBQUMsRUFBRTt3QkFDdEMsT0FBTzs0QkFDTCxNQUFNLEVBQUU7Z0NBQ04sS0FBSyxFQUFFLFFBQVE7NkJBQ2hCO3lCQUNGLENBQUM7cUJBQ0g7O3dCQUVLLE1BQU0sR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLFVBQUMsR0FBRyxFQUFFLEdBQUc7d0JBQ3hDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLEVBQUU7NEJBQ2xCLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUc7Z0NBQ2IsS0FBSyxFQUFFLEtBQUs7NkJBQ2IsQ0FBQzt5QkFDSDt3QkFFRCxPQUFPLEdBQUcsQ0FBQztxQkFDWixFQUFFLEVBQUUsQ0FBQztvQkFFTixPQUFPLENBQUMsT0FBTyxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUM7aUJBQ2pDLENBQUM7YUFDSDs7Ozs7UUFFRCwrQ0FBd0I7Ozs7WUFBeEIsVUFBeUIsS0FBYTtnQkFDcEMsT0FBTyxDQUFDLEtBQUssSUFBSSxFQUFFLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxJQUFJLEVBQUUsR0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQ3BFOzs7Ozs7UUFFRCwwQ0FBbUI7Ozs7O1lBQW5CLFVBQW9CLEtBQWEsRUFBRSxNQUFjO2dCQUFqRCxpQkFJQztnQkFIQyxPQUFPLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxLQUFLLENBQUM7cUJBQ3hDLE1BQU0sQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLEtBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxHQUFBLENBQUM7cUJBQ3hDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLE1BQU0sQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUEsQ0FBQyxDQUFDO2FBQ2hDOzs7Ozs7OztRQUVELHdDQUFpQjs7Ozs7OztZQUFqQixVQUFrQixlQUF3QixFQUN4QixJQUFrQixFQUNsQixHQUFXLEVBQ1gsR0FBVztnQkFDM0IsT0FBTyxlQUFlO29CQUNwQixJQUFJLEtBQUssTUFBTTtvQkFDZixJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQzthQUMxQzs7Ozs7OztRQUVELG9DQUFhOzs7Ozs7WUFBYixVQUFjLElBQVksRUFBRSxJQUFZLEVBQUUsRUFBVTtnQkFDbEQsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQzlDOzs7Ozs7O1FBRUQsMkNBQW9COzs7Ozs7WUFBcEIsVUFBcUIsR0FBeUIsRUFBRSxNQUFjLEVBQUUsS0FBZTtnQkFBL0UsaUJBTUM7Z0JBTEMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQUk7b0JBQ2pCLElBQUksR0FBRyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsRUFBRTt3QkFDNUIsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO3FCQUNyRDtpQkFDRixDQUFDLENBQUM7YUFDSjs7Ozs7OztRQUVELDZDQUFzQjs7Ozs7O1lBQXRCLFVBQW9ELFFBQVcsRUFBRSxXQUFjO2dCQUM3RSxJQUFJLFFBQVEsSUFBSSxXQUFXLEVBQUU7b0JBQzNCLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxJQUFJLFdBQVcsQ0FBQyxHQUFHLEVBQUU7d0JBQ3BDLE9BQU8sSUFBSSxDQUFDO3FCQUNiO3lCQUFNLElBQUksUUFBUSxDQUFDLEdBQUcsSUFBSSxXQUFXLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsRUFBRTt3QkFDeEYsT0FBTyxJQUFJLENBQUM7cUJBQ2I7eUJBQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLElBQUksV0FBVyxDQUFDLEdBQUcsRUFBRTt3QkFDM0MsT0FBTyxJQUFJLENBQUM7cUJBQ2I7eUJBQU0sSUFBSSxRQUFRLENBQUMsR0FBRyxJQUFJLFdBQVcsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFO3dCQUN4RixPQUFPLElBQUksQ0FBQztxQkFDYjtvQkFFRCxPQUFPLEtBQUssQ0FBQztpQkFDZDtnQkFFRCxPQUFPLEtBQUssQ0FBQzthQUNkOzs7OztRQUVELHVDQUFnQjs7OztZQUFoQixVQUFpQixJQUEwQjtnQkFDekMsSUFBSSxDQUFDLElBQUksRUFBRTtvQkFDVCxPQUFPLElBQUksQ0FBQztpQkFDYjtxQkFBTSxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtvQkFDbkMsMEJBQW9CLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUM7aUJBQ2xEO3FCQUFNO29CQUNMLE9BQU8sSUFBSSxDQUFDO2lCQUNiO2FBQ0Y7O29CQTlURkEsZUFBVTs7UUErVFgsbUJBQUM7S0EvVEQ7O0lDcEJBOzs7Ozs7Ozs7Ozs7OztBQWNBLElBZU8sSUFBSSxRQUFRLEdBQUc7UUFDbEIsUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLElBQUksU0FBUyxRQUFRLENBQUMsQ0FBQztZQUMzQyxLQUFLLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDakQsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDakIsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDO29CQUFFLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNoRjtZQUNELE9BQU8sQ0FBQyxDQUFDO1NBQ1osQ0FBQTtRQUNELE9BQU8sUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDM0MsQ0FBQyxDQUFBOzs7Ozs7O1FDN0JLQyxRQUFNLEdBQUcsUUFBUTtBQUV2QjtRQWlCRSw0QkFBb0IsWUFBMEI7WUFBMUIsaUJBQVksR0FBWixZQUFZLENBQWM7WUFmN0IsU0FBSSxHQUFHLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDMUQsbUJBQWMsR0FBdUI7Z0JBQzVDLGlCQUFpQixFQUFFLElBQUk7Z0JBQ3ZCLGVBQWUsRUFBRSxLQUFLO2dCQUN0QixjQUFjLEVBQUUsSUFBSTtnQkFDcEIsYUFBYSxFQUFFLEtBQUs7Z0JBQ3BCLE1BQU0sRUFBRSxZQUFZO2dCQUNwQixnQkFBZ0IsRUFBRSxLQUFLO2dCQUN2QixXQUFXLEVBQUUsV0FBVztnQkFDeEIsbUJBQW1CLEVBQUUsSUFBSTtnQkFDekIsTUFBTSxFQUFFQSxRQUFNLENBQUMsTUFBTSxFQUFFO2dCQUN2QixZQUFZLEVBQUUsSUFBSTtnQkFDbEIsZUFBZSxFQUFFLElBQUk7YUFDdEIsQ0FBQztTQUdEOzs7Ozs7O1FBRU8saURBQW9COzs7Ozs7WUFBNUIsVUFBNkIsWUFBb0IsRUFBRSxVQUFvQjtnQkFDckUsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxHQUFHLElBQUssT0FBQSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDLEdBQUEsQ0FBQyxFQUFFO29CQUMzRixPQUFPLFVBQVUsQ0FBQztpQkFDbkI7cUJBQU07b0JBQ0wsT0FBTyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNoQzthQUNGOzs7OztRQUVELHNDQUFTOzs7O1lBQVQsVUFBVSxNQUEwQjs7b0JBQzVCLE9BQU8sbUNBQ1IsSUFBSSxDQUFDLGNBQWMsRUFDbkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLEdBQzVDO2dCQUVELElBQUksQ0FBQyxZQUFZLENBQUMsb0JBQW9CLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFFaEZBLFFBQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUU5QixPQUFPLE9BQU8sQ0FBQzthQUNoQjs7Ozs7UUFFRCw0Q0FBZTs7OztZQUFmLFVBQWdCLGNBQXdCOztvQkFDaEMsYUFBYSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQzs7b0JBQ2pELE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxhQUFhLENBQUMsQ0FBQztnQkFDM0YsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxLQUFLO29CQUNwQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO29CQUVqQixPQUFPLEdBQUcsQ0FBQztpQkFDWixxQkFBMkIsRUFBRSxHQUFDLENBQUM7YUFDakM7Ozs7Ozs7UUFFRCwrQ0FBa0I7Ozs7OztZQUFsQixVQUFtQixNQUFrQyxFQUFFLEtBQWEsRUFBRSxRQUFrQjtnQkFBeEYsaUJBNkNDOztvQkE1Q0ssVUFBVSxHQUFhLEVBQUU7O29CQUN2QixtQkFBbUIsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDOztvQkFDOUQsZUFBZSxHQUFHLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDO2dCQUV0RCxPQUFPLGVBQWUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxtQkFBbUIsRUFBRTtvQkFDcEQsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7aUJBQ3BDOztvQkFFSyxPQUFPLEdBQUcsZUFBZSxDQUFDLEtBQUssRUFBRTs7b0JBQ2pDLFNBQVMsR0FBRyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUM7O29CQUM5QyxTQUFTLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDOztvQkFDekMsS0FBSyxHQUFHQSxRQUFNLEVBQUU7O29CQUVoQixjQUFjLEdBQVcsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDO3FCQUM3RCxNQUFNLENBQUMsVUFBQyxLQUFhO29CQUNwQixLQUFLLENBQUMsSUFBSSxDQUFDO3dCQUNULElBQUksRUFBRSxPQUFPLENBQUMsS0FBSyxFQUFFO3dCQUNyQixRQUFRLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBQSxXQUFXLElBQUksT0FBQSxPQUFPLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsR0FBQSxDQUFDO3dCQUM1RSxZQUFZLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDO3dCQUM1QyxTQUFTLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDO3dCQUM3QyxTQUFTLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDO3dCQUM3QyxVQUFVLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDO3dCQUN4QyxRQUFRLEVBQUUsS0FBSSxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDO3FCQUMvQyxDQUFDLENBQUM7b0JBQ0gsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7b0JBRXRCLE9BQU8sS0FBSyxDQUFDO2lCQUNkLEVBQUUsRUFBRSxDQUFDO2dCQUVSLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBQyxHQUFHLEVBQUUsS0FBSzs7d0JBQzFCLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7b0JBRXZDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEVBQUU7d0JBQzFCLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7cUJBQ3JCO29CQUVELFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7aUJBQ2pDLENBQUMsQ0FBQztnQkFFSCxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFO29CQUM3QixVQUFVLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztpQkFDM0Q7Z0JBRUQsT0FBTyxVQUFVLENBQUM7YUFDbkI7Ozs7O1FBRUQsNkNBQWdCOzs7O1lBQWhCLFVBQWlCLGNBQXdCOztvQkFDakMsWUFBWSxHQUE0QjtvQkFDNUMsRUFBRSxFQUFFQSxRQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUNuQixFQUFFLEVBQUVBLFFBQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ25CLEVBQUUsRUFBRUEsUUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDbkIsRUFBRSxFQUFFQSxRQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUNuQixFQUFFLEVBQUVBLFFBQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7b0JBQ25CLEVBQUUsRUFBRUEsUUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDbkIsRUFBRSxFQUFFQSxRQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2lCQUNwQjs7b0JBQ0ssUUFBUSxHQUFhLEVBQUU7O29CQUN2QixPQUFPLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxjQUFjLENBQUM7Z0JBRXBELEtBQUssSUFBTSxNQUFNLElBQUksT0FBTyxFQUFFO29CQUM1QixJQUFJLE9BQU8sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLEVBQUU7d0JBQ2xDLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7cUJBQ2xEO2lCQUNGO2dCQUVELE9BQU8sUUFBUSxDQUFDO2FBQ2pCOzs7Ozs7UUFFRCwyQ0FBYzs7Ozs7WUFBZCxVQUFlLElBQVksRUFBRSxNQUFrQztnQkFDN0QsSUFBSSxNQUFNLENBQUMscUJBQXFCLEVBQUU7b0JBQ2hDLE9BQU8sTUFBTSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMzQztnQkFFRCxJQUFJLE1BQU0sQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxFQUFFO29CQUNsRCxPQUFPLElBQUksQ0FBQztpQkFDYjtnQkFFRCxPQUFPLENBQUMsRUFBRSxNQUFNLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO2FBQzFEOzs7Ozs7OztRQUdELDJDQUFjOzs7Ozs7O1lBQWQsVUFBZSxNQUFrQyxFQUFFLEtBQWE7Z0JBQzlELElBQUksTUFBTSxDQUFDLGNBQWMsRUFBRTtvQkFDekIsT0FBTyxNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUNyQztnQkFFRCxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQ3pDOzs7Ozs7OztRQUdELDJDQUFjOzs7Ozs7O1lBQWQsVUFBZSxHQUFXLEVBQUUsZ0JBQXdCO2dCQUNsRCxPQUFPLEdBQUcsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLGdCQUFnQixFQUFFLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQzthQUM3RDs7Ozs7Ozs7UUFHRCw0Q0FBZTs7Ozs7OztZQUFmLFVBQWdCLEdBQVcsRUFBRSxnQkFBd0I7Z0JBQ25ELE9BQU8sR0FBRyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDO2FBQzVEOzs7OztRQUVELGlEQUFvQjs7OztZQUFwQixVQUFxQixjQUF3Qjs7b0JBQ3JDLGFBQWEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUM7O29CQUNqRCxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsYUFBYSxDQUFDLENBQUM7Z0JBQzNGLE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsS0FBSztvQkFDcEMsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsQ0FBQztvQkFFakIsT0FBTyxHQUFHLENBQUM7aUJBQ1oscUJBQTJCLEVBQUUsR0FBQyxDQUFDO2FBQ2pDOzs7OztRQUVELG1EQUFzQjs7OztZQUF0QixVQUF1QixlQUEyQztnQkFDaEUsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQztvQkFDdEMsR0FBRyxFQUFFLGVBQWUsQ0FBQyxHQUFHO29CQUN4QixHQUFHLEVBQUUsZUFBZSxDQUFDLEdBQUc7b0JBQ3hCLE1BQU0sRUFBRSxlQUFlLENBQUMsTUFBTTtvQkFDOUIsdUJBQXVCLEVBQUUsSUFBSTtvQkFDN0IsZ0JBQWdCLEVBQUUsS0FBSztvQkFDdkIsVUFBVSxFQUFFLGVBQWUsQ0FBQyxVQUFVO29CQUN0QyxhQUFhLEVBQUUsZUFBZSxDQUFDLGFBQWE7b0JBQzVDLGNBQWMsRUFBRSxlQUFlLENBQUMsY0FBYztvQkFDOUMsaUJBQWlCLEVBQUUsZUFBZSxDQUFDLGlCQUFpQjtvQkFDcEQsd0JBQXdCLEVBQUUsZUFBZSxDQUFDLHdCQUF3QjtvQkFDbEUsdUJBQXVCLEVBQUUsZUFBZSxDQUFDLHVCQUF1QjtvQkFDaEUsMkJBQTJCLEVBQUUsZUFBZSxDQUFDLDJCQUEyQjtvQkFDeEUsZUFBZSxFQUFFLGVBQWUsQ0FBQyxlQUFlO2lCQUNqRCxDQUFDLENBQUM7YUFDSjs7Ozs7O1FBRUQsMENBQWE7Ozs7O1lBQWIsVUFBYyxNQUFrQyxFQUFFLEdBQVc7Z0JBQzNELElBQUksTUFBTSxDQUFDLGVBQWUsRUFBRTtvQkFDMUIsT0FBTyxNQUFNLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2lCQUNwQztnQkFFRCxPQUFPLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO2FBQ3hDOzs7Ozs7UUFFRCw4Q0FBaUI7Ozs7O1lBQWpCLFVBQWtCLE1BQWtDLEVBQUUsR0FBVztnQkFDL0QsSUFBSSxNQUFNLENBQUMsc0JBQXNCLEVBQUU7b0JBQ2pDLE9BQU8sTUFBTSxDQUFDLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxDQUFDO2lCQUMzQztnQkFFRCxPQUFPLEVBQUUsQ0FBQzthQUNYOztvQkFqTUZELGVBQVU7Ozs7O3dCQVBILFlBQVk7OztRQXlNcEIseUJBQUM7S0FsTUQ7Ozs7Ozs7UUNOTUMsUUFBTSxHQUFHLFFBQVE7O0FBR3ZCLFFBQWEsYUFBYSxHQUFHLEVBQUU7QUFFL0I7UUFnQkUsMkJBQW9CLFlBQTBCO1lBQTFCLGlCQUFZLEdBQVosWUFBWSxDQUFjO1lBZHJDLG1CQUFjLEdBQThCO2dCQUNuRCxhQUFhLEVBQUUsSUFBSTtnQkFDbkIsYUFBYSxFQUFFLElBQUk7Z0JBQ25CLGNBQWMsRUFBRSxHQUFHO2dCQUNuQixhQUFhLEVBQUUsSUFBSTtnQkFDbkIsZUFBZSxFQUFFLENBQUM7Z0JBQ2xCLGFBQWEsRUFBRSxJQUFJO2dCQUNuQixlQUFlLEVBQUUsQ0FBQztnQkFDbEIsV0FBVyxFQUFFLEtBQUs7Z0JBQ2xCLG1CQUFtQixFQUFFLEtBQUs7Z0JBQzFCLGFBQWEsRUFBRSxHQUFHO2dCQUNsQixNQUFNLEVBQUVBLFFBQU0sQ0FBQyxNQUFNLEVBQUU7YUFDeEIsQ0FBQztTQUdEOzs7OztRQUVELHFDQUFTOzs7O1lBQVQsVUFBVSxNQUF5Qjs7b0JBQzNCLFdBQVcsR0FBRztvQkFDbEIsT0FBTyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLE1BQU0sSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDO29CQUM3RCxPQUFPLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUM7aUJBQzlEOztvQkFFSyxPQUFPLG1DQUNSLElBQUksQ0FBQyxjQUFjLEVBQ25CLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxFQUN4QyxXQUFXLEdBQ2Y7Z0JBRURBLFFBQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUU5QixPQUFPLE9BQU8sQ0FBQzthQUNoQjs7Ozs7UUFFRCx5Q0FBYTs7OztZQUFiLFVBQWMsTUFBaUM7Z0JBQzdDLE9BQU8sQ0FBQyxNQUFNLENBQUMsbUJBQW1CLEdBQUcsTUFBTSxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUMsYUFBYTtzQkFDNUUsTUFBTSxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUMsYUFBYTt1QkFDMUMsTUFBTSxDQUFDLFdBQVcsSUFBSSxNQUFNLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQyxhQUFhLElBQUksRUFBRSxDQUFDO3VCQUN4RSxNQUFNLENBQUMsbUJBQW1CLEdBQUcsRUFBRSxHQUFHLEdBQUcsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUM7YUFDckU7Ozs7OztRQUVELG9DQUFROzs7OztZQUFSLFVBQVMsTUFBaUMsRUFBRSxDQUFnQjs7b0JBQ3BELElBQUksR0FBRyxDQUFDLElBQUlBLFFBQU0sRUFBRTtnQkFDMUIsT0FBTyxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsbUJBQW1CLEdBQUcsTUFBTSxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7YUFDdEc7Ozs7OztRQUVELHNDQUFVOzs7OztZQUFWLFVBQVcsTUFBaUMsRUFBRSxDQUFnQjs7b0JBQ3RELElBQUksR0FBRyxDQUFDLElBQUlBLFFBQU0sRUFBRTtnQkFDMUIsT0FBTyxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7YUFDbEQ7Ozs7OztRQUVELHNDQUFVOzs7OztZQUFWLFVBQVcsTUFBaUMsRUFBRSxDQUFnQjs7b0JBQ3RELElBQUksR0FBRyxDQUFDLElBQUlBLFFBQU0sRUFBRTtnQkFDMUIsT0FBTyxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUM7YUFDbEQ7Ozs7OztRQUVELHVDQUFXOzs7OztZQUFYLFVBQVksTUFBaUMsRUFBRSxJQUFZO2dCQUN6RCxPQUFPLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQzthQUNuRDs7Ozs7OztRQUVELG9DQUFROzs7Ozs7WUFBUixVQUFTLE1BQWlDLEVBQUUsSUFBWSxFQUFFLElBQWM7O29CQUNsRSxNQUFNLEdBQVcsQ0FBQztnQkFDdEIsUUFBUSxJQUFJO29CQUNWLEtBQUssUUFBUTt3QkFDWCxNQUFNLEdBQUcsTUFBTSxDQUFDLGVBQWUsQ0FBQzt3QkFDaEMsTUFBTTtvQkFDUixLQUFLLFFBQVE7d0JBQ1gsTUFBTSxHQUFHLE1BQU0sQ0FBQyxlQUFlLENBQUM7d0JBQ2hDLE1BQU07aUJBQ1Q7Z0JBQ0QsT0FBTyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzthQUM1Qzs7Ozs7OztRQUVELG9DQUFROzs7Ozs7WUFBUixVQUFTLE1BQWlDLEVBQUUsSUFBWSxFQUFFLElBQWM7O29CQUNsRSxNQUFNLEdBQVcsQ0FBQztnQkFDdEIsUUFBUSxJQUFJO29CQUNWLEtBQUssUUFBUTt3QkFDWCxNQUFNLEdBQUcsTUFBTSxDQUFDLGVBQWUsQ0FBQzt3QkFDaEMsTUFBTTtvQkFDUixLQUFLLFFBQVE7d0JBQ1gsTUFBTSxHQUFHLE1BQU0sQ0FBQyxlQUFlLENBQUM7d0JBQ2hDLE1BQU07aUJBQ1Q7Z0JBQ0QsT0FBTyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzthQUN2Qzs7Ozs7UUFFRCwwQ0FBYzs7OztZQUFkLFVBQWUsSUFBWTtnQkFDekIsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsYUFBYSxFQUFFO29CQUNoQyxPQUFPLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO2lCQUNyQztxQkFBTTtvQkFDTCxPQUFPLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO2lCQUMxQzthQUNGOzs7Ozs7O1FBRUQsOENBQWtCOzs7Ozs7WUFBbEIsVUFBbUIsTUFBaUMsRUFBRSxJQUFZLEVBQUUsSUFBYztnQkFDaEYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO29CQUNsQyxPQUFPLElBQUksQ0FBQztpQkFDYjs7b0JBRUssT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7Z0JBRWpELE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDO3dCQUNuRCxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzlGOzs7Ozs7O1FBRUQsOENBQWtCOzs7Ozs7WUFBbEIsVUFBbUIsTUFBaUMsRUFBRSxJQUFZLEVBQUUsSUFBYztnQkFDaEYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFO29CQUNsQyxPQUFPLElBQUksQ0FBQztpQkFDYjs7b0JBRUssT0FBTyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUM7Z0JBRWpELE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO3dCQUNsRCxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzdGOzs7Ozs7UUFFRCxvREFBd0I7Ozs7O1lBQXhCLFVBQXlCLE1BQWlDLEVBQUUsSUFBWTtnQkFDdEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7b0JBQ3BFLE9BQU8sSUFBSSxDQUFDO2lCQUNiOztvQkFDSyxPQUFPLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUM7Z0JBQ3pDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO3dCQUNsRCxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUM7d0JBQ2xELENBQUMsTUFBTSxDQUFDLE9BQU8sSUFBSSxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO3dCQUNyRixDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzlGOztvQkEvSEZELGVBQVU7Ozs7O3dCQVBILFlBQVk7OztRQXVJcEIsd0JBQUM7S0FoSUQ7Ozs7Ozs7UUNGTUMsUUFBTSxHQUFHLFFBQVE7O1FBRWpCLFVBQVUsR0FBRyxVQUFVOztRQUN2QixXQUFXLEdBQUcsVUFBVTs7UUFDeEIsZUFBZSxHQUFHLFVBQVUsR0FBRyxXQUFXO0FBRWhEO1FBTUUsZ0NBQW9CLFlBQTBCLEVBQzFCLGtCQUFzQyxFQUN0QyxpQkFBb0M7WUFGcEMsaUJBQVksR0FBWixZQUFZLENBQWM7WUFDMUIsdUJBQWtCLEdBQWxCLGtCQUFrQixDQUFvQjtZQUN0QyxzQkFBaUIsR0FBakIsaUJBQWlCLENBQW1CO1lBTi9DLG1CQUFjLEdBQTJCO2dCQUNoRCxNQUFNLEVBQUVBLFFBQU0sQ0FBQyxNQUFNLEVBQUU7YUFDeEIsQ0FBQztTQUtEOzs7OztRQUVELDBDQUFTOzs7O1lBQVQsVUFBVSxNQUE4Qjs7b0JBQ2hDLE9BQU8sZ0JBQ1IsSUFBSSxDQUFDLGNBQWMsRUFDbkIsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFDeEMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FDN0M7Z0JBRURBLFFBQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUU3QixPQUFPLE9BQU8sQ0FBQzthQUNoQjs7Ozs7OztRQUVELDBDQUFTOzs7Ozs7WUFBVCxVQUFVLE9BQWUsRUFBRSxHQUFXLEVBQUUsTUFBOEI7O29CQUM5RCxJQUFJLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBR0EsUUFBTSxFQUFFOztvQkFDckMsT0FBTyxHQUFHQSxRQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFFLGVBQWUsQ0FBQztnQkFFeEYsSUFBSSxNQUFNLENBQUMsR0FBRyxFQUFFOzt3QkFDUixHQUFHLHNCQUFXLE1BQU0sQ0FBQyxHQUFHLEVBQUE7b0JBQzlCLE9BQU8sR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsR0FBRyxPQUFPLENBQUM7aUJBQ2hEO2dCQUVELElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRTs7d0JBQ1IsR0FBRyxzQkFBVyxNQUFNLENBQUMsR0FBRyxFQUFBO29CQUM5QixPQUFPLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsR0FBRyxHQUFHLEdBQUcsT0FBTyxDQUFDO2lCQUNqRDtnQkFFRCxPQUFPLE9BQU8sQ0FBQzthQUNoQjs7Ozs7O1FBRUQsMkNBQVU7Ozs7O1lBQVYsVUFBVyxPQUFlLEVBQUUsSUFBWTs7b0JBQ2hDLEdBQUcsR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHQSxRQUFNLEVBQUU7Z0JBRXhDLE9BQU9BLFFBQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQUUsZUFBZSxDQUFDLENBQUM7YUFDbkY7O29CQTVDRkQsZUFBVTs7Ozs7d0JBVkgsWUFBWTt3QkFDWixrQkFBa0I7d0JBQ2xCLGlCQUFpQjs7O1FBcUR6Qiw2QkFBQztLQTdDRDs7Ozs7OztRQ0hNQyxRQUFNLEdBQUcsUUFBUTtBQUV2QjtRQW1CRSwyQkFBb0IsWUFBMEIsRUFDMUIsaUJBQW9DLEVBQ3BDLHNCQUE4QztZQUY5QyxpQkFBWSxHQUFaLFlBQVksQ0FBYztZQUMxQixzQkFBaUIsR0FBakIsaUJBQWlCLENBQW1CO1lBQ3BDLDJCQUFzQixHQUF0QixzQkFBc0IsQ0FBd0I7WUFuQnpELG1CQUFjLEdBQXVCLElBQUlDLGlCQUFZLEVBQUUsQ0FBQztZQUN6RCxrQkFBYSxHQUE4QjtnQkFDakQsYUFBYSxFQUFFLElBQUk7Z0JBQ25CLGtCQUFrQixFQUFFLEdBQUc7Z0JBQ3ZCLE1BQU0sRUFBRSxZQUFZO2dCQUNwQixXQUFXLEVBQUUsSUFBSTtnQkFDakIsV0FBVyxFQUFFLElBQUk7Z0JBQ2pCLFdBQVcsRUFBRSxDQUFDO2dCQUNkLGVBQWUsRUFBRSxLQUFLO2dCQUN0QixpQkFBaUIsRUFBRSxJQUFJO2dCQUN2QixlQUFlLEVBQUUsS0FBSztnQkFDdEIsbUJBQW1CLEVBQUUsSUFBSTtnQkFDekIsZUFBZSxFQUFFLElBQUk7Z0JBQ3JCLE1BQU0sRUFBRUQsUUFBTSxDQUFDLE1BQU0sRUFBRTtnQkFDdkIsa0JBQWtCLEVBQUUsSUFBSTthQUN6QixDQUFDO1NBS0Q7Ozs7Ozs7O1FBR0QscUNBQVM7Ozs7Ozs7WUFBVCxVQUFVLE1BQXlCLEVBQUUsSUFBOEI7Z0JBQTlCLHFCQUFBO29CQUFBLGdCQUE4Qjs7O29CQUMzRCxPQUFPLG1DQUNSLElBQUksQ0FBQyxhQUFhLElBQ3JCLE1BQU0sRUFBRSxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLElBQ3RDLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxHQUM1QztnQkFFRCxJQUFJLENBQUMsWUFBWSxDQUFDLG9CQUFvQixDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBRWhGLElBQUksTUFBTSxJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsSUFBSSxNQUFNLENBQUMsYUFBYSxLQUFLLFNBQVMsRUFBRTtvQkFDM0UsT0FBTyxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7aUJBQy9CO2dCQUVEQSxRQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFFOUIsT0FBTyxPQUFPLENBQUM7YUFDaEI7Ozs7O1FBRUQsK0NBQW1COzs7O1lBQW5CLFVBQW9CLFlBQStCO2dCQUNqRCxPQUFPO29CQUNMLEdBQUcsRUFBRSxZQUFZLENBQUMsR0FBRztvQkFDckIsR0FBRyxFQUFFLFlBQVksQ0FBQyxHQUFHO29CQUNyQixxQkFBcUIsRUFBRSxZQUFZLENBQUMscUJBQXFCO29CQUN6RCxhQUFhLEVBQUUsWUFBWSxDQUFDLGFBQWE7b0JBQ3pDLGlCQUFpQixFQUFFLFlBQVksQ0FBQyxpQkFBaUI7b0JBQ2pELGVBQWUsRUFBRSxZQUFZLENBQUMsZUFBZTtvQkFDN0MsY0FBYyxFQUFFLFlBQVksQ0FBQyxjQUFjO29CQUMzQyxNQUFNLEVBQUUsWUFBWSxDQUFDLE1BQU07b0JBQzNCLGdCQUFnQixFQUFFLFlBQVksQ0FBQyxnQkFBZ0I7b0JBQy9DLFdBQVcsRUFBRSxZQUFZLENBQUMsV0FBVztvQkFDckMsY0FBYyxFQUFFLFlBQVksQ0FBQyxjQUFjO29CQUMzQyxtQkFBbUIsRUFBRSxZQUFZLENBQUMsbUJBQW1CO29CQUNyRCxVQUFVLEVBQUUsWUFBWSxDQUFDLFVBQVU7b0JBQ25DLGFBQWEsRUFBRSxZQUFZLENBQUMsYUFBYTtvQkFDekMsWUFBWSxFQUFFLFlBQVksQ0FBQyxZQUFZO29CQUN2QyxlQUFlLEVBQUUsWUFBWSxDQUFDLGVBQWU7b0JBQzdDLHNCQUFzQixFQUFFLFlBQVksQ0FBQyxzQkFBc0I7b0JBQzNELGNBQWMsRUFBRSxZQUFZLENBQUMsY0FBYztvQkFDM0MsaUJBQWlCLEVBQUUsWUFBWSxDQUFDLGlCQUFpQjtvQkFDakQsd0JBQXdCLEVBQUUsWUFBWSxDQUFDLHdCQUF3QjtvQkFDL0QsdUJBQXVCLEVBQUUsWUFBWSxDQUFDLHVCQUF1QjtvQkFDN0QsMkJBQTJCLEVBQUUsWUFBWSxDQUFDLDJCQUEyQjtvQkFDckUsTUFBTSxFQUFFLFlBQVksQ0FBQyxNQUFNO29CQUMzQixpQkFBaUIsRUFBRSxZQUFZLENBQUMsaUJBQWlCO29CQUNqRCxlQUFlLEVBQUUsWUFBWSxDQUFDLGVBQWU7b0JBQzdDLGVBQWUsRUFBRSxZQUFZLENBQUMsZUFBZTtpQkFDOUMsQ0FBQzthQUNIOzs7OztRQUVELG1EQUF1Qjs7OztZQUF2QixVQUF3QixZQUErQjtnQkFDckQsT0FBTyxJQUFJLENBQUMsc0JBQXNCLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO2FBQzVEOzs7OztRQUVELGdEQUFvQjs7OztZQUFwQixVQUFxQixZQUErQjtnQkFDbEQsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO2FBQ3ZEOzs7O1FBRUQsd0NBQVk7OztZQUFaO2dCQUNFLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDNUI7Ozs7Ozs7O1FBR0QsaURBQXFCOzs7Ozs7O1lBQXJCLFVBQXNCLEtBQWEsRUFBRSxNQUF5QjtnQkFBOUQsaUJBS0M7Z0JBSkMsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLEdBQUcsRUFBRSxDQUFDOztvQkFDckIsV0FBVyxHQUFhLElBQUksQ0FBQyxZQUFZLENBQUMsd0JBQXdCLENBQUMsS0FBSyxDQUFDO2dCQUUvRSxPQUFPLFdBQVcsQ0FBQyxLQUFLLENBQUMsVUFBQSxJQUFJLElBQUksT0FBQSxLQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFBLENBQUMsQ0FBQzthQUN0Rjs7Ozs7Ozs7UUFHRCwwREFBOEI7Ozs7Ozs7WUFBOUIsVUFBK0IsS0FBYSxFQUFFLE1BQXlCO2dCQUNyRSxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxFQUFFLENBQUM7O29CQUNyQixXQUFXLEdBQWEsSUFBSSxDQUFDLFlBQVksQ0FBQyx3QkFBd0IsQ0FBQyxLQUFLLENBQUM7Z0JBRS9FLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxvQkFBb0IsQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzthQUNwRzs7Ozs7O1FBRU8sa0RBQXNCOzs7OztZQUE5QixVQUErQixJQUFrQjtnQkFDL0MsUUFBUSxJQUFJO29CQUNWLEtBQUssS0FBSzt3QkFDUixPQUFPLFlBQVksQ0FBQztvQkFDdEIsS0FBSyxTQUFTO3dCQUNaLE9BQU8scUJBQXFCLENBQUM7b0JBQy9CLEtBQUssTUFBTTt3QkFDVCxPQUFPLFVBQVUsQ0FBQztvQkFDcEIsS0FBSyxPQUFPO3dCQUNWLE9BQU8sV0FBVyxDQUFDO2lCQUN0QjthQUNGOztvQkFqSEZELGVBQVU7Ozs7O3dCQVRILFlBQVk7d0JBRVosaUJBQWlCO3dCQUNqQixzQkFBc0I7OztRQXdIOUIsd0JBQUM7S0FsSEQ7Ozs7OztBQ1pBO1FBdU1FLDZCQUE2QixnQkFBbUMsRUFDbkMsU0FBb0IsRUFDcEIsT0FBbUIsRUFDbkIsUUFBa0IsRUFDbEIsWUFBMEIsRUFDM0IsRUFBcUI7WUFMcEIscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFtQjtZQUNuQyxjQUFTLEdBQVQsU0FBUyxDQUFXO1lBQ3BCLFlBQU8sR0FBUCxPQUFPLENBQVk7WUFDbkIsYUFBUSxHQUFSLFFBQVEsQ0FBVTtZQUNsQixpQkFBWSxHQUFaLFlBQVksQ0FBYztZQUMzQixPQUFFLEdBQUYsRUFBRSxDQUFtQjtZQXpIakQsa0JBQWEsR0FBWSxLQUFLLENBQUM7WUFFdEIsU0FBSSxHQUFpQixLQUFLLENBQUM7WUFDM0IsZ0JBQVcsR0FBVyxFQUFFLENBQUM7WUFDekIsYUFBUSxHQUFZLEtBQUssQ0FBQztZQVF6QixTQUFJLEdBQUcsSUFBSUUsaUJBQVksRUFBUSxDQUFDO1lBQ2hDLFVBQUssR0FBRyxJQUFJQSxpQkFBWSxFQUFRLENBQUM7WUFDakMsYUFBUSxHQUFHLElBQUlBLGlCQUFZLEVBQWlCLENBQUM7WUFDN0Msa0JBQWEsR0FBdUIsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1lBQ3ZELGNBQVMsR0FBNEIsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1lBQ3hELGVBQVUsR0FBNEIsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1lBQ3pELGFBQVEsR0FBa0MsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1lBWXZFLHVCQUFrQixHQUFZLEtBQUssQ0FBQztZQUNwQyxvQkFBZSxHQUFZLEtBQUssQ0FBQztZQUNqQyxjQUFTLEdBQWEsRUFBRSxDQUFDO1lBRXpCLHFCQUFnQixHQUFZLEtBQUssQ0FBQztZQU9sQyx1Q0FBa0MsR0FBZSxFQUFFLENBQUM7WUFDcEQsK0JBQTBCLEdBQWUsRUFBRSxDQUFDO1lBRTVDLFFBQUcsR0FBb0I7Z0JBQ3JCLElBQUksRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQ25DLEtBQUssRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7Z0JBQ25DLGNBQWMsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7YUFDL0MsQ0FBQztZQUNGLGdCQUFXLEdBQUcsV0FBVyxDQUFDO1NBeUV6QjtRQXZFRCxzQkFBSSx5Q0FBUTs7O2dCQVVaO2dCQUNFLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUN2Qjs7OztnQkFaRCxVQUFhLFFBQWtCO2dCQUM3QixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztnQkFDMUIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLG9CQUFXLElBQUksQ0FBQyxZQUFZO3FCQUNaLHNCQUFzQixDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxjQUFjLENBQUMsU0FBUyxDQUFDO3FCQUM3SCxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7O29CQUNULEdBQUcsR0FBRyxJQUFJLENBQUMsdUJBQXVCLENBQUMsUUFBUSxDQUFDO2dCQUNsRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNsQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUN6Qjs7O1dBQUE7UUFNRCxzQkFBSSxrREFBaUI7OztnQkFBckI7Z0JBQ0UsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUM7YUFDaEM7Ozs7Z0JBVUQsVUFBc0IsS0FBYztnQkFDbEMsSUFBSSxLQUFLLEVBQUU7b0JBQ1QsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7b0JBQzVCLElBQUksQ0FBQyxTQUFTLENBQUMsdUJBQXVCLENBQUM7d0JBQ3JDLFNBQVMsRUFBRSxJQUFJLENBQUMsZUFBZTt3QkFDL0IsT0FBTyxFQUFFLElBQUksQ0FBQyxlQUFlO3dCQUM3QixNQUFNLEVBQUUsSUFBSSxDQUFDLHFCQUFxQjt3QkFDbEMsT0FBTyxFQUFFLElBQUksQ0FBQyxTQUFTO3dCQUN2QixLQUFLLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLO3dCQUNqQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLO3FCQUNsQyxDQUFDLENBQUM7aUJBQ0o7cUJBQU07b0JBQ0wsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7b0JBQzNCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQztpQkFDdEM7Z0JBRUQsSUFBSSxDQUFDLGtCQUFrQixHQUFHLEtBQUssQ0FBQzthQUNqQzs7O1dBM0JBO1FBRUQsc0JBQUksNENBQVc7OztnQkFBZjtnQkFDRSxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsV0FBVyxDQUFDO2FBQ3pDOzs7V0FBQTtRQUVELHNCQUFJLDRDQUFXOzs7Z0JBQWY7Z0JBQ0UsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQzthQUN6Qzs7O1dBQUE7UUFxQkQsc0JBQUksZ0RBQWU7OztnQkFBbkI7Z0JBQ0UsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7YUFDOUI7Ozs7Z0JBRUQsVUFBb0IsSUFBWTtnQkFDOUIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztnQkFFN0IsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUFFO29CQUN2QixJQUFJLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDMUM7Z0JBRUQsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEVBQUU7b0JBQ3pCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7aUJBQzVDO2dCQUVELElBQUksSUFBSSxDQUFDLGtCQUFrQixFQUFFO29CQUMzQixJQUFJLENBQUMsa0JBQWtCLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUM5QzthQUNGOzs7V0FoQkE7Ozs7UUEyQkQscUNBQU87OztZQURQO2dCQUVFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFO29CQUNyQixPQUFPO2lCQUNSO2dCQUVELElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFO29CQUM1QyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztvQkFDNUIsSUFBSSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRTt3QkFDM0IsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO3FCQUN0QjtpQkFDRjthQUNGOzs7O1FBRUQseUNBQVc7OztZQUFYO2dCQUNFLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxrQkFBa0IsRUFBRTtvQkFDM0MsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFO3dCQUNuRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7cUJBQ3JCO29CQUVELElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDO2lCQUM5QjthQUNGOzs7O1FBR0Qsc0NBQVE7OztZQURSO2dCQUVFLElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFO29CQUMxQixJQUFJLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDO3dCQUNoQyxTQUFTLEVBQUUsSUFBSSxDQUFDLGVBQWU7d0JBQy9CLE9BQU8sRUFBRSxJQUFJLENBQUMsZUFBZTt3QkFDN0IsTUFBTSxFQUFFLElBQUksQ0FBQyxxQkFBcUI7d0JBQ2xDLE9BQU8sRUFBRSxJQUFJLENBQUMsU0FBUzt3QkFDdkIsS0FBSyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSzt3QkFDakMsS0FBSyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSztxQkFDbEMsQ0FBQyxDQUFDO2lCQUNKO2FBQ0Y7Ozs7O1FBRUQsd0NBQVU7Ozs7WUFBVixVQUFXLEtBQW9CO2dCQUM3QixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztnQkFFeEIsSUFBSSxLQUFLLElBQUksS0FBSyxLQUFLLEVBQUUsRUFBRTtvQkFDekIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWTt5QkFDWixvQkFBb0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO29CQUNySCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7aUJBQ2I7cUJBQU07b0JBQ0wsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7aUJBQ3BCO2dCQUVELElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUM7YUFDeEI7Ozs7O1FBRUQsOENBQWdCOzs7O1lBQWhCLFVBQWlCLEVBQU87Z0JBQ3RCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7YUFDNUI7Ozs7OztRQUVELDhDQUFnQjs7Ozs7WUFBaEIsVUFBaUIsQ0FBTSxFQUFFLGNBQXVCO2FBQy9DOzs7OztRQUVELCtDQUFpQjs7OztZQUFqQixVQUFrQixFQUFPO2dCQUN2QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsRUFBRSxDQUFDO2FBQzdCOzs7O1FBRUQsK0NBQWlCOzs7WUFBakI7YUFFQzs7Ozs7UUFFRCxzQ0FBUTs7OztZQUFSLFVBQVMsV0FBd0I7Z0JBQy9CLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDM0M7Ozs7O1FBRUQscURBQXVCOzs7O1lBQXZCLFVBQXdCLFFBQTJCO2dCQUNqRCxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRTtvQkFDaEMsT0FBTyxRQUFRLENBQUM7aUJBQ2pCO3FCQUFNO29CQUNMLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsQ0FDN0MsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQzNCLFFBQVEsRUFDUixJQUFJLENBQUMsZUFBZSxDQUFDLGlCQUFpQixJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUNqSSxDQUFDO2lCQUNIO2FBQ0Y7Ozs7UUFFRCw0Q0FBYzs7O1lBQWQ7Z0JBQ0UsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FDakQ7b0JBQ0UsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO29CQUNyQixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87b0JBQ3JCLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztvQkFDckIsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO2lCQUN0QixFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDN0MsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7YUFDM0U7Ozs7UUFFRCxzQ0FBUTs7O1lBQVI7Z0JBQ0UsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDWixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7YUFDdkI7Ozs7O1FBRUQseUNBQVc7Ozs7WUFBWCxVQUFZLE9BQXNCO2dCQUNoQyxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7b0JBQ2YsSUFBQSx5QkFBTyxFQUFFLHlCQUFPLEVBQUUseUJBQU8sRUFBRSx5QkFBTztvQkFFekMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO29CQUVaLElBQUksT0FBTyxJQUFJLE9BQU8sSUFBSSxPQUFPLElBQUksT0FBTyxFQUFFO3dCQUM1QyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7cUJBQ3ZCO2lCQUNGO2FBQ0Y7Ozs7UUFFRCw2Q0FBZTs7O1lBQWY7Z0JBQ0UsSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUM7YUFDaEM7Ozs7O1FBRUQsOENBQWdCOzs7O1lBQWhCLFVBQWlCLFVBQW1CO2dCQUNsQyxJQUFJLENBQUMsUUFBUSxHQUFHLFVBQVUsQ0FBQzthQUM1Qjs7OztRQUVELHFEQUF1Qjs7O1lBQXZCO2dCQUNFLElBQUksQ0FBQyxlQUFlLHNCQUFpQixJQUFJLENBQUMsaUJBQWlCLENBQUMsYUFBYSxFQUFBLENBQUM7Z0JBQzFFLElBQUksQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO2dCQUNoQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDdkUsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFFdEMsSUFBQSx3Q0FBUTtnQkFDZixJQUFJLFFBQVEsRUFBRTtvQkFDWixJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRTt3QkFDaEMsSUFBSSxDQUFDLGVBQWUsc0JBQWdCLFFBQVEsQ0FBQyxhQUFhLG9CQUFTLFFBQVEsR0FBQyxFQUFBLENBQUM7cUJBQzlFO3lCQUFNO3dCQUNMLElBQUksQ0FBQyxlQUFlLHNCQUFnQixRQUFRLEVBQUEsQ0FBQztxQkFDOUM7aUJBQ0Y7cUJBQU07b0JBQ0wsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQztpQkFDbkQ7Z0JBRUQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2FBQ3hEOzs7O1FBRUQsc0RBQXdCOzs7WUFBeEI7Z0JBQ0UsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxxQkFBcUIsQ0FBQzt1QkFDdEcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLHFCQUFxQixDQUFDO3VCQUMvRCxRQUFRLENBQUMsSUFBSSxDQUFDO2FBQ3BCOzs7OztRQUVELHFEQUF1Qjs7OztZQUF2QixVQUF3QixPQUFvQjtnQkFBNUMsaUJBTUM7Z0JBTEMsSUFBSSxDQUFDLGtDQUFrQyxDQUFDLElBQUksQ0FDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRTtvQkFDckMsS0FBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7aUJBQzdCLENBQUMsQ0FDSCxDQUFDO2FBQ0g7Ozs7UUFFRCxrQ0FBSTs7O1lBQUo7Z0JBQ0UsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMvRSxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxXQUFXO3NCQUNuQyxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFO3NCQUN4RixJQUFJLENBQUMsWUFBWTt5QkFDWixxQkFBcUIsQ0FDcEIsSUFBSSxDQUFDLGVBQWUsRUFDcEIsSUFBSSxDQUFDLFFBQVEsRUFDYixJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFnQixFQUNyQyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FDekIsQ0FBQztnQkFDVixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztnQkFDekYsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7Z0JBQ2pHLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2FBQzFGOzs7O1FBRUQsMENBQVk7OztZQUFaO2dCQUFBLGlCQWdCQztnQkFmQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRTtvQkFDckIsT0FBTztpQkFDUjtnQkFFRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO2dCQUM3QixVQUFVLENBQUM7b0JBQ1QsSUFBSSxDQUFDLEtBQUksQ0FBQyxpQkFBaUIsRUFBRTt3QkFDM0IsS0FBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO3FCQUN0QjtvQkFFRCxLQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztvQkFFN0IsS0FBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUssQ0FBQztvQkFDOUIsS0FBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztpQkFDeEIsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQ3RDOzs7O1FBRUQsMENBQVk7OztZQUFaO2dCQUNFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO2FBQzFCOzs7O1FBRUQsMkNBQWE7OztZQUFiO2dCQUNFLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO2dCQUM1QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDO2dCQUU5QixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUU7b0JBQ3RCLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxDQUFDO2lCQUN4QztnQkFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNqQixJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFDO2FBQ3hCOzs7O1FBRUQsMENBQVk7OztZQUFaO2dCQUNFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxLQUFLLENBQUM7Z0JBRS9CLElBQUksSUFBSSxDQUFDLGNBQWMsRUFBRTtvQkFDdkIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2lCQUMvRDtnQkFFRCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNsQixJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFDO2FBQ3hCOzs7OztRQUVELDhDQUFnQjs7OztZQUFoQixVQUFpQixLQUFvQjs7b0JBQzdCLE1BQU0sR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDakcsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMscUJBQXFCLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRTtvQkFDN0UsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsOEJBQThCLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztvQkFDbkcsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU07MEJBQ3ZDLElBQUksQ0FBQyxZQUFZLENBQUMscUJBQXFCLENBQ3ZDLElBQUksRUFDSixJQUFJLENBQUMsUUFBUSxFQUNiLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLEVBQ3JDLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUN6QjswQkFDQyxJQUFJLENBQUMsZUFBZSxDQUFDO29CQUV6QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQzt3QkFDakIsSUFBSSxFQUFFLE1BQU07d0JBQ1osSUFBSSxFQUFFLFdBQVcsQ0FBQyxLQUFLO3dCQUN2QixXQUFXLEVBQUUsSUFBSTtxQkFDbEIsQ0FBQyxDQUFBO2lCQUNIO3FCQUFNO29CQUNMLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFlBQVk7eUJBQ1osbUJBQW1CLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBQy9FLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7aUJBQ25FO2FBQ0Y7Ozs7Ozs7O1FBRUQsMENBQVk7Ozs7Ozs7WUFBWixVQUFhLElBQVcsRUFBRSxXQUE0QixFQUFFLElBQWlCLEVBQUUsV0FBcUI7Z0JBQzlGLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVk7cUJBQ1osY0FBYyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUM7Z0JBQzdHLElBQUksQ0FBQyxXQUFXLEVBQUU7b0JBQ2hCLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztpQkFDcEI7Z0JBRUQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUM7b0JBQ2pCLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSTtvQkFDZixXQUFXLGFBQUE7b0JBQ1gsSUFBSSxNQUFBO2lCQUNMLENBQUMsQ0FBQzthQUNKOzs7O1FBRUQseUNBQVc7OztZQUFYO2dCQUNFLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxhQUFhLEVBQUU7b0JBQ3RDLFVBQVUsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLGtCQUFrQixDQUFDLENBQUM7aUJBQ25GO2FBQ0Y7Ozs7O1FBRUQsd0NBQVU7Ozs7WUFBVixVQUFXLEtBQW9CO2dCQUM3QixRQUFRLEtBQUssQ0FBQyxPQUFPO29CQUNuQixNQUFNLENBQUMsRUFBRTtvQkFDVCxNQUFNLEVBQUU7d0JBQ04sSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO3dCQUNwQixNQUFNO2lCQUNUO2FBQ0Y7Ozs7O1FBRUQsNENBQWM7Ozs7WUFBZCxVQUFlLElBQXlCOztvQkFDaEMsVUFBVSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQztnQkFDdkYsSUFBSSxDQUFDLGVBQWUsR0FBRyxVQUFVLENBQUM7YUFDbkM7Ozs7O1FBRUQsNENBQWM7Ozs7WUFBZCxVQUFlLE1BQWlCO2dCQUM5QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUM3Qjs7Ozs7UUFFRCw2Q0FBZTs7OztZQUFmLFVBQWdCLE1BQWlCO2dCQUMvQixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUM5Qjs7OztRQUVELGtEQUFvQjs7O1lBQXBCO2dCQUFBLGlCQVlDO2dCQVhDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxJQUFJLENBQ2xDLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxTQUFTLEVBQUUsVUFBQyxDQUFnQjtvQkFDekQsS0FBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDcEIsQ0FBQyxFQUNGLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUU7b0JBQ3ZDLEtBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztpQkFDakIsQ0FBQyxFQUNGLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUU7b0JBQ3RDLEtBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztpQkFDcEIsQ0FBQyxDQUNILENBQUM7YUFDSDs7OztRQUVELGlEQUFtQjs7O1lBQW5CO2dCQUNFLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxPQUFPLENBQUMsVUFBQyxFQUFFLElBQUssT0FBQSxFQUFFLEVBQUUsR0FBQSxDQUFDLENBQUM7Z0JBQ3RELElBQUksQ0FBQywwQkFBMEIsR0FBRyxFQUFFLENBQUM7YUFDdEM7Ozs7UUFFRCx5Q0FBVzs7O1lBQVg7Z0JBQ0UsSUFBSSxDQUFDLGtDQUFrQyxDQUFDLE9BQU8sQ0FBQyxVQUFBLEVBQUUsSUFBSSxPQUFBLEVBQUUsRUFBRSxHQUFBLENBQUMsQ0FBQztnQkFFNUQsSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFO29CQUN4QixJQUFJLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7aUJBQ3hEO2FBQ0Y7O29CQTVjRkMsY0FBUyxTQUFDO3dCQUNULFFBQVEsRUFBRSxnQkFBZ0I7d0JBQzFCLDZpR0FBeUM7d0JBRXpDLGFBQWEsRUFBRUMsc0JBQWlCLENBQUMsSUFBSTt3QkFDckMsZUFBZSxFQUFFQyw0QkFBdUIsQ0FBQyxNQUFNO3dCQUMvQyxTQUFTLEVBQUU7NEJBQ1QsaUJBQWlCOzRCQUNqQixzQkFBc0I7NEJBQ3RCLGtCQUFrQjs0QkFDbEIsaUJBQWlCOzRCQUNqQjtnQ0FDRSxPQUFPLEVBQUVDLHVCQUFpQjtnQ0FDMUIsV0FBVyxFQUFFQyxlQUFVLENBQUMsY0FBTSxPQUFBLG1CQUFtQixHQUFBLENBQUM7Z0NBQ2xELEtBQUssRUFBRSxJQUFJOzZCQUNaOzRCQUNEO2dDQUNFLE9BQU8sRUFBRUMsbUJBQWE7Z0NBQ3RCLFdBQVcsRUFBRUQsZUFBVSxDQUFDLGNBQU0sT0FBQSxtQkFBbUIsR0FBQSxDQUFDO2dDQUNsRCxLQUFLLEVBQUUsSUFBSTs2QkFDWjt5QkFDRjs7cUJBQ0Y7Ozs7O3dCQTNETyxpQkFBaUI7d0JBakJqQixTQUFTO3dCQXVCZkUsZUFBVTt3QkFVVkMsYUFBUTt3QkFoQ0YsWUFBWTt3QkFvQmxCQyxzQkFBaUI7Ozs7NkJBK0RoQkMsVUFBSzsyQkFDTEEsVUFBSztrQ0FDTEEsVUFBSzsrQkFDTEEsVUFBSztrQ0FDTEEsVUFBSzs0QkFDTEMsZ0JBQVcsU0FBQyxPQUFPLGNBQUdELFVBQUs7OEJBQzNCQSxVQUFLOzhCQUNMQSxVQUFLOzhCQUNMQSxVQUFLOzhCQUNMQSxVQUFLOzJCQUVMRSxXQUFNOzRCQUNOQSxXQUFNOytCQUNOQSxXQUFNO29DQUNOQSxXQUFNO2dDQUNOQSxXQUFNO2lDQUNOQSxXQUFNOytCQUNOQSxXQUFNO3dDQUVOQyxjQUFTLFNBQUMsV0FBVztxQ0FDckJBLGNBQVMsU0FBQyxhQUFhO3VDQUN2QkEsY0FBUyxTQUFDLGVBQWU7eUNBQ3pCQSxjQUFTLFNBQUMsaUJBQWlCO29DQUMzQkEsY0FBUyxTQUFDLFlBQVk7OEJBb0d0QkMsaUJBQVksU0FBQyxPQUFPOytCQXdCcEJBLGlCQUFZLFNBQUMsZUFBZTs7UUE0Ui9CLDBCQUFDO0tBN2NEOzs7Ozs7O1FDakRFLG9DQUFtQixZQUEwQjtZQUExQixpQkFBWSxHQUFaLFlBQVksQ0FBYztTQUM1Qzs7Ozs7O1FBRUQseURBQW9COzs7OztZQUFwQixVQUFxQixRQUE2QixFQUFFLFdBQXdCO2dCQUMxRSxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRTtvQkFDaEMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxXQUFXLEVBQUUsUUFBUSxDQUFDLENBQUM7aUJBQy9EO3FCQUFNLElBQUksUUFBUSxFQUFFO29CQUNuQixPQUFPLFFBQVEsQ0FBQyxhQUFhLENBQUM7aUJBQy9CO2dCQUVELE9BQU8sU0FBUyxDQUFDO2FBQ2xCOzs7Ozs7O1FBRUQsOENBQVM7Ozs7OztZQUFULFVBQVUsTUFBdUMsRUFDdkMsV0FBd0IsRUFDeEIsUUFBOEI7Z0JBRjlCLHVCQUFBO29CQUFBLFdBQXVDOzs7b0JBR3pDLE9BQU8sZ0JBQW1DLE1BQU0sQ0FBQztnQkFDdkQsT0FBTyxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQzs7b0JBRTlCLE1BQU07Z0JBRVYsSUFBSSxNQUFNLENBQUMscUJBQXFCLEVBQUU7b0JBQ2hDLE1BQU0sR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO2lCQUMzRTtxQkFBTTtvQkFDTCxNQUFNLEdBQUcsV0FBVyxHQUFHLFdBQVcsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO2lCQUN6RDtnQkFFRCxJQUFJLE1BQU0sRUFBRTtvQkFDVixPQUFPLENBQUMscUJBQXFCLEdBQUcsUUFBUTswQkFDcEMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7MEJBQzNDLE1BQU0sQ0FBQztpQkFDWjtnQkFFRCxPQUFPLE9BQU8sQ0FBQzthQUNoQjs7b0JBcENGaEIsZUFBVTs7Ozs7d0JBSkgsWUFBWTs7O1FBeUNwQixpQ0FBQztLQXJDRDs7Ozs7O0FDRkE7UUFtS0UsNkJBQW1CLGdCQUFrQyxFQUNsQyxPQUFtQixFQUNuQix3QkFBa0QsRUFDbEQsT0FBbUMsRUFDdkIsV0FBc0IsRUFDbEMsWUFBMEI7WUFMMUIscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFrQjtZQUNsQyxZQUFPLEdBQVAsT0FBTyxDQUFZO1lBQ25CLDZCQUF3QixHQUF4Qix3QkFBd0IsQ0FBMEI7WUFDbEQsWUFBTyxHQUFQLE9BQU8sQ0FBNEI7WUFDdkIsZ0JBQVcsR0FBWCxXQUFXLENBQVc7WUFDbEMsaUJBQVksR0FBWixZQUFZLENBQWM7WUF6SXJDLFVBQUssR0FBaUIsS0FBSyxDQUFDO1lBeUgxQixTQUFJLEdBQUcsSUFBSUUsaUJBQVksRUFBUSxDQUFDO1lBQ2hDLFVBQUssR0FBRyxJQUFJQSxpQkFBWSxFQUFRLENBQUM7WUFDakMsYUFBUSxHQUFHLElBQUlBLGlCQUFZLEVBQWlCLENBQUM7WUFDN0Msa0JBQWEsR0FBdUIsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1lBQ3ZELGNBQVMsR0FBNEIsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1lBQ3hELGVBQVUsR0FBNEIsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1lBQ3pELGFBQVEsR0FBa0MsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1NBV3RFO1FBbklELHNCQUFJLHVDQUFNOzs7Z0JBQVY7Z0JBQ0UsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO2FBQ3JCOzs7O2dCQUVELFVBQWlDLE1BQWtDO2dCQUNqRSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDNUYsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7Z0JBQzlCLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUNyQjs7O1dBTkE7UUFRRCxzQkFBSSx5Q0FBUTs7O2dCQUFaO2dCQUNFLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUN2Qjs7OztnQkFFRCxVQUFzQixRQUE2QjtnQkFDakQsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDakcsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7Z0JBQzlCLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUNyQjs7O1dBUEE7UUFTRCxzQkFBSSxzQ0FBSzs7O2dCQUFUO2dCQUNFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQzthQUNwQjs7OztnQkFFRCxVQUFtQixLQUFhO2dCQUM5QixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztnQkFDcEIsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO29CQUNuQixJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7aUJBQy9CO2dCQUVELElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUNyQjs7O1dBVEE7UUFXRCxzQkFBSSxxQ0FBSTs7O2dCQUFSO2dCQUNFLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQzthQUNuQjs7OztnQkFFRCxVQUFrQixJQUFrQjtnQkFDbEMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7Z0JBQ2xCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtvQkFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO2lCQUM3QjtnQkFFRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7YUFDckI7OztXQVRBO1FBV0Qsc0JBQWEsd0NBQU87OztnQkFVcEI7Z0JBQ0UsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO2FBQ3RCOzs7O2dCQVpELFVBQXFCLE9BQTRCO2dCQUMvQyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztnQkFDeEIsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO29CQUNuQixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7b0JBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUM7aUJBQzVCO2dCQUVELElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUNyQjs7O1dBQUE7UUFNRCxzQkFBYSx3Q0FBTzs7O2dCQVVwQjtnQkFDRSxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7YUFDdEI7Ozs7Z0JBWkQsVUFBcUIsT0FBNEI7Z0JBQy9DLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO2dCQUN4QixJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7b0JBQ25CLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztvQkFDbEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztpQkFDNUI7Z0JBRUQsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO2FBQ3JCOzs7V0FBQTtRQU1ELHNCQUFhLHdDQUFPOzs7Z0JBVXBCO2dCQUNFLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQzthQUN0Qjs7OztnQkFaRCxVQUFxQixPQUE0QjtnQkFDL0MsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7Z0JBQ3hCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtvQkFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO29CQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxDQUFDO2lCQUM1QjtnQkFFRCxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7YUFDckI7OztXQUFBO1FBTUQsc0JBQWEsd0NBQU87OztnQkFVcEI7Z0JBQ0UsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO2FBQ3RCOzs7O2dCQVpELFVBQXFCLE9BQTRCO2dCQUMvQyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztnQkFDeEIsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO29CQUNuQixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7b0JBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLENBQUM7aUJBQzVCO2dCQUVELElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUNyQjs7O1dBQUE7UUFNRCxzQkFBSSw0Q0FBVzs7O2dCQUFmO2dCQUNFLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQzthQUMxQjs7OztnQkFFRCxVQUF5QixXQUFnQztnQkFDdkQsSUFBSSxDQUFDLFlBQVksR0FBRyxXQUFXLENBQUM7Z0JBQ2hDLElBQUksQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO2dCQUU5QixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7YUFDckI7OztXQVBBOzs7O1FBNEJELHNDQUFROzs7WUFBUjtnQkFDRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO2dCQUMxQyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDO2dCQUMvQixJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztnQkFDOUIsSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7YUFDcEM7Ozs7UUFFRCw4Q0FBZ0I7OztZQUFoQjs7b0JBQ1EsT0FBTyxHQUFHLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyx1QkFBdUIsQ0FBQyxtQkFBbUIsQ0FBQztnQkFDMUYsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQzthQUNoRTs7OztRQUVELHFEQUF1Qjs7O1lBQXZCO2dCQUFBLGlCQStDQztnQkE5Q0MsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUU7b0JBQ3JCLE9BQU87aUJBQ1I7Z0JBRUQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUV6RCxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsVUFBQyxLQUFLO29CQUM1QyxJQUFJLEtBQUssS0FBSyxLQUFJLENBQUMsVUFBVSxDQUFDLGlCQUFpQixFQUFFOzs0QkFDekMsTUFBTSxHQUFHLEtBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxLQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUM7d0JBQy9GLEtBQUksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUM7cUJBQzFDO2lCQUNGLENBQUMsQ0FBQzs7b0JBRUMsS0FBSyxHQUFHLElBQUk7Z0JBRWhCLElBQUksQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsVUFBQyxLQUFLLEVBQUUsY0FBYztvQkFDckQsSUFBSSxLQUFLLEVBQUU7OzRCQUNILGtCQUFrQixHQUFHLEtBQUssSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU07d0JBRXpFLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxDQUFDLGNBQWMsRUFBRTs0QkFDMUMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUksQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsQ0FBQzt5QkFDdEU7cUJBQ0Y7O3dCQUVLLE1BQU0sR0FBRyxLQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUM7b0JBRWhELElBQUksQ0FBQyxLQUFLLEVBQUU7d0JBQ1YsS0FBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDOzRCQUNuQyxRQUFRLEVBQUUsSUFBSTt5QkFDZixDQUFDLENBQUM7cUJBQ0o7eUJBQU07d0JBQ0wsS0FBSyxHQUFHLEtBQUssQ0FBQztxQkFDZjtvQkFFRCxJQUFJLE1BQU0sRUFBRTt3QkFDVixJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLEVBQUU7NEJBQzVCLElBQUEsOEJBQUs7NEJBQ1osS0FBSSxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsR0FBRyxLQUFLLENBQUM7NEJBQzFDLElBQUksQ0FBQyxjQUFjLEVBQUU7Z0NBQ25CLEtBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQzs2QkFDMUM7eUJBQ0Y7d0JBRUQsS0FBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO3FCQUM1QztpQkFDRixDQUFDLENBQUM7YUFDSjs7OztRQUdELHFDQUFPOzs7WUFEUDtnQkFFRSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFDO2FBQzNCOzs7O1FBR0QscUNBQU87OztZQURQO2dCQUVFLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxFQUFFLENBQUM7YUFDaEM7Ozs7O1FBRU8sb0RBQXNCOzs7O1lBQTlCO2dCQUNFLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtvQkFDbkIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztvQkFDdkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztvQkFDdkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztvQkFDdkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztvQkFDdkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLENBQUM7b0JBQzFDLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7b0JBQy9DLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7b0JBQ3JDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7b0JBQ2pDLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7b0JBQ25DLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7b0JBQ3pDLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7b0JBQ25ELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7b0JBQzNDLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7b0JBQzdDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7b0JBRXpDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUM7b0JBRXZCLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsZUFBZSxFQUFFO3dCQUNuRCxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO3FCQUMzRDt5QkFBTTt3QkFDTCxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUM7cUJBQ3hEO2lCQUNGO2FBQ0Y7Ozs7UUFFRCwwQ0FBWTs7O1lBQVo7Z0JBQ0UsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO29CQUNuQixJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztpQkFDbkM7YUFDRjs7b0JBNVBGZSxjQUFTLFNBQUM7d0JBQ1QsUUFBUSxFQUFFLGFBQWE7d0JBQ3ZCLFNBQVMsRUFBRSxDQUFDLDBCQUEwQixDQUFDO3dCQUN2QyxRQUFRLEVBQUUsZUFBZTtxQkFDMUI7Ozs7O3dCQWJDQyxxQkFBZ0I7d0JBUGhCVCxlQUFVO3dCQUZWVSw2QkFBd0I7d0JBSmxCLDBCQUEwQjt3QkFlMUJDLGVBQVMsdUJBd0pGQyxhQUFRO3dCQXBKZixZQUFZOzs7OzZCQXVCakJULFVBQUssU0FBQyxhQUFhOytCQVVuQkEsVUFBSzs0QkFXTEEsVUFBSzsyQkFhTEEsVUFBSzs4QkFTTEEsVUFBSzs4QkFjTEEsVUFBSzs4QkFjTEEsVUFBSzs4QkFjTEEsVUFBSztrQ0FrQkxBLFVBQUs7MkJBT0xFLFdBQU07NEJBQ05BLFdBQU07K0JBQ05BLFdBQU07b0NBQ05BLFdBQU07Z0NBQ05BLFdBQU07aUNBQ05BLFdBQU07K0JBQ05BLFdBQU07OEJBMkVORSxpQkFBWSxTQUFDLE9BQU87OEJBS3BCQSxpQkFBWSxTQUFDLE9BQU87O1FBcUN2QiwwQkFBQztLQTdQRDs7Ozs7O0FDdEJBO1FBbUNNZixRQUFNLEdBQUcsUUFBUTtBQUV2QjtRQWdGRSw4QkFBNEIsa0JBQXNDLEVBQ3RDLFlBQTBCLEVBQzFCLEVBQXFCO1lBRnJCLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBb0I7WUFDdEMsaUJBQVksR0FBWixZQUFZLENBQWM7WUFDMUIsT0FBRSxHQUFGLEVBQUUsQ0FBbUI7WUF0RHZDLGFBQVEsR0FBdUIsSUFBSUMsaUJBQVksRUFBRSxDQUFDO1lBQ2xELGtCQUFhLEdBQXlCLElBQUlBLGlCQUFZLEVBQUUsQ0FBQztZQUN6RCx3QkFBbUIsR0FBZ0MsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1lBQ3RFLGtCQUFhLEdBQXVCLElBQUlBLGlCQUFZLEVBQUUsQ0FBQztZQUN2RCxjQUFTLEdBQTRCLElBQUlBLGlCQUFZLEVBQUUsQ0FBQztZQUN4RCxlQUFVLEdBQTRCLElBQUlBLGlCQUFZLEVBQUUsQ0FBQztZQUVuRSxpQkFBWSxHQUFHLGFBQWEsQ0FBQztZQUM3QixhQUFRLEdBQVksS0FBSyxDQUFDO1lBUzFCLHdCQUFtQixHQUFrQixhQUFhLENBQUMsR0FBRyxDQUFDO1lBRXZELHVCQUFrQixHQUFZLElBQUksQ0FBQztZQUtuQyxRQUFHLEdBQUc7Z0JBQ0osZUFBZSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDaEQsY0FBYyxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDOUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7YUFDdkQsQ0FBQztTQTJCRDtRQXpCRCxzQkFBSSwwQ0FBUTs7O2dCQUtaO2dCQUNFLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUN2Qjs7OztnQkFQRCxVQUFhLFFBQWtCO2dCQUM3QixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztnQkFDMUIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2FBQy9EOzs7V0FBQTtRQU1ELHNCQUFJLGlEQUFlOzs7Z0JBU25CO2dCQUNFLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO2FBQzlCOzs7O2dCQVhELFVBQW9CLE9BQWU7Z0JBQ2pDLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7Z0JBQ3hDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLGtCQUFrQjtxQkFDakMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNsRixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztnQkFDcEcsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztnQkFDMUcsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQzthQUM3Rzs7O1dBQUE7Ozs7UUFXRCx1Q0FBUTs7O1lBQVI7Z0JBQ0UsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7Z0JBQ3JCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFDWixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7YUFDdkI7Ozs7UUFFRCxtQ0FBSTs7O1lBQUo7Z0JBQ0UsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDdEUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQztnQkFDcEMsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsV0FBVztzQkFDbkMsSUFBSSxDQUFDLFlBQVksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssRUFBRTtzQkFDeEYsSUFBSSxDQUFDLFlBQVk7eUJBQ2hCLHFCQUFxQixDQUNwQixJQUFJLENBQUMsZUFBZSxFQUNwQixJQUFJLENBQUMsUUFBUSxFQUNiLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLEVBQ3JDLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUN6QixDQUFDO2dCQUNOLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGtCQUFrQjtxQkFDcEMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFDekQsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztnQkFDN0csSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7Z0JBQ2hHLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQzthQUNwRDs7Ozs7UUFFRCwwQ0FBVzs7OztZQUFYLFVBQVksT0FBc0I7Z0JBQ2hDLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDVixJQUFBLHlCQUFPLEVBQUUseUJBQU8sRUFBRSx1QkFBTTtvQkFFL0IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUNoQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7b0JBRVosSUFBSSxPQUFPLElBQUksT0FBTyxFQUFFO3dCQUN0QixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7cUJBQ3ZCO2lCQUNGO2FBQ0Y7Ozs7O1FBRUQseUNBQVU7Ozs7WUFBVixVQUFXLEtBQW9CO2dCQUM3QixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztnQkFFeEIsSUFBSSxLQUFLLEVBQUU7b0JBQ1QsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWTt5QkFDOUIsb0JBQW9CLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztvQkFDbkcsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsWUFBWTt5QkFDcEMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2lCQUN6RTtxQkFBTTtvQkFDTCxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztpQkFDcEI7Z0JBRUQsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsa0JBQWtCO3FCQUNqQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUVqRixJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFDO2FBQ3hCOzs7OztRQUVELCtDQUFnQjs7OztZQUFoQixVQUFpQixFQUFPO2dCQUN0QixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO2FBQzVCOzs7OztRQUVELCtDQUFnQjs7OztZQUFoQixVQUFpQixDQUFNO2FBQ3RCOzs7OztRQUVELGdEQUFpQjs7OztZQUFqQixVQUFrQixFQUFPO2FBQ3hCOzs7OztRQUVELHVDQUFROzs7O1lBQVIsVUFBUyxXQUF3QjtnQkFDL0IsSUFBSSxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7b0JBQ2hDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7aUJBQzNDO3FCQUFNO29CQUNMLE9BQU8sY0FBTSxPQUFBLElBQUksR0FBQSxDQUFDO2lCQUNuQjthQUNGOzs7OztRQUVELHNEQUF1Qjs7OztZQUF2QixVQUF3QixLQUFlO2dCQUNyQyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsc0JBQXNCLENBQzdDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUMzQixLQUFLLEVBQ0wsSUFBSSxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUM5RCxDQUFDO2FBQ0g7Ozs7UUFFRCw2Q0FBYzs7O1lBQWQ7Z0JBQ0UsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FDakQsRUFBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBQyxFQUM5QyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFDM0IsS0FBSyxDQUNOLENBQUM7Z0JBRUYsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQzthQUNwRTs7Ozs7UUFFRCx5Q0FBVTs7OztZQUFWLFVBQVcsR0FBUztnQkFDbEIsSUFBSSxHQUFHLENBQUMsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxlQUFlLEVBQUU7b0JBQ3pELE9BQU87aUJBQ1I7Z0JBRUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWTtxQkFDOUIsY0FBYyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFDN0UsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsa0JBQWtCO3FCQUNqQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNqRixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUN6Qjs7Ozs7UUFFRCw0Q0FBYTs7OztZQUFiLFVBQWMsR0FBUztnQkFDckIsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQzlFOzs7OztRQUVELGdEQUFpQjs7OztZQUFqQixVQUFrQixHQUFTOztvQkFDbkIsVUFBVSxHQUErQjtvQkFDN0MsYUFBYSxFQUFFLEdBQUcsQ0FBQyxRQUFRO29CQUMzQixrQkFBa0IsRUFBRSxHQUFHLENBQUMsWUFBWTtvQkFDcEMsZUFBZSxFQUFFLEdBQUcsQ0FBQyxTQUFTO29CQUM5QixlQUFlLEVBQUUsR0FBRyxDQUFDLFNBQVM7b0JBQzlCLGdCQUFnQixFQUFFLEdBQUcsQ0FBQyxVQUFVO2lCQUNqQzs7b0JBQ0ssY0FBYyxHQUFXLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUM7Z0JBQ3hHLElBQUksY0FBYyxFQUFFO29CQUNsQixVQUFVLENBQUMsY0FBYyxDQUFDLEdBQUcsSUFBSSxDQUFDO2lCQUNuQztnQkFFRCxPQUFPLFVBQVUsQ0FBQzthQUNuQjs7OztRQUVELDZDQUFjOzs7WUFBZDs7b0JBQ1EsSUFBSSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFO2dCQUN6QyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7O29CQUNsRCxFQUFFLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUU7Z0JBQ3ZDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxNQUFBLEVBQUUsRUFBRSxJQUFBLEVBQUMsQ0FBQyxDQUFDO2FBQ2pDOzs7O1FBRUQsOENBQWU7OztZQUFmOztvQkFDUSxJQUFJLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUU7Z0JBQ3pDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7O29CQUNqRCxFQUFFLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUU7Z0JBQ3ZDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxNQUFBLEVBQUUsRUFBRSxJQUFBLEVBQUMsQ0FBQyxDQUFDO2FBQ2xDOzs7OztRQUVELHVEQUF3Qjs7OztZQUF4QixVQUF5QixNQUFpQjtnQkFDeEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDN0I7Ozs7O1FBRUQsd0RBQXlCOzs7O1lBQXpCLFVBQTBCLE1BQWlCO2dCQUN6QyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUM5Qjs7Ozs7UUFFRCxnRUFBaUM7Ozs7WUFBakMsVUFBa0MsTUFBaUI7Z0JBQ2pELElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzlCOzs7OztRQUVELGlFQUFrQzs7OztZQUFsQyxVQUFtQyxNQUFpQjtnQkFDbEQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7YUFDN0I7Ozs7O1FBRUQsNkNBQWM7Ozs7WUFBZCxVQUFlLE9BQWU7Z0JBQzVCLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsRUFBRTtvQkFDekMsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO2lCQUM3RDtnQkFFRCxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUMsQ0FBQzthQUMzRDs7Ozs7UUFFRCxpREFBa0I7Ozs7WUFBbEIsVUFBbUIsSUFBbUI7Z0JBQ3BDLElBQUksSUFBSSxDQUFDLG1CQUFtQixLQUFLLElBQUksRUFBRTtvQkFDckMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQztvQkFDaEMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDckM7Z0JBRUQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUN4Qjs7Ozs7UUFFRCw0Q0FBYTs7OztZQUFiLFVBQWMsS0FBYTtnQkFDekIsSUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUMxQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQztnQkFDN0MsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDaEM7Ozs7Ozs7UUFFRCw4Q0FBZTs7Ozs7O1lBQWYsVUFBZ0IsT0FBZSxFQUFFLE1BQWMsRUFBRSxXQUFzQztnQkFBdEMsNEJBQUE7b0JBQUEscUJBQXNDOztnQkFDckYsSUFBSSxDQUFDLGVBQWUsR0FBRyxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQztnQkFDaEUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUN4Qjs7Ozs7UUFFRCw2Q0FBYzs7OztZQUFkLFVBQWUsRUFBdUI7Z0JBQ3BDLElBQUksRUFBRSxFQUFFO29CQUNOLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxlQUFlLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQzNGO2dCQUVELElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUM7YUFDeEI7Ozs7UUFFRCxnREFBaUI7OztZQUFqQjtnQkFDRSxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLElBQUksQ0FBQyxlQUFlLENBQUMsZUFBZSxFQUNwQyxLQUFLLEVBQ0wsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQ3hCLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUN6QixDQUFDO2FBQ0g7Ozs7UUFFRCwwQ0FBVzs7O1lBQVg7Z0JBQ0UsSUFBSSxDQUFDLGVBQWUsR0FBR0QsUUFBTSxFQUFFLENBQUM7Z0JBQ2hDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDM0I7Ozs7O1FBRUQsaURBQWtCOzs7O1lBQWxCLFVBQW1CLE1BQW9CO2dCQUNyQyxJQUFJLE1BQU0sRUFBRTs7d0JBQ0osUUFBUSxHQUErQixJQUFJLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUM7O3dCQUM5RixXQUFXLEdBQStCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQztvQkFFdEcsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLHNCQUFzQixDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsRUFBRTt3QkFDbkUsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztxQkFDOUI7aUJBQ0Y7YUFDRjs7b0JBMVNGRSxjQUFTLFNBQUM7d0JBQ1QsUUFBUSxFQUFFLGlCQUFpQjt3QkFDM0IscWxFQUEwQzt3QkFFMUMsYUFBYSxFQUFFQyxzQkFBaUIsQ0FBQyxJQUFJO3dCQUNyQyxlQUFlLEVBQUVDLDRCQUF1QixDQUFDLE1BQU07d0JBQy9DLFNBQVMsRUFBRTs0QkFDVCxrQkFBa0I7NEJBQ2xCO2dDQUNFLE9BQU8sRUFBRUMsdUJBQWlCO2dDQUMxQixXQUFXLEVBQUVDLGVBQVUsQ0FBQyxjQUFNLE9BQUEsb0JBQW9CLEdBQUEsQ0FBQztnQ0FDbkQsS0FBSyxFQUFFLElBQUk7NkJBQ1o7NEJBQ0Q7Z0NBQ0UsT0FBTyxFQUFFQyxtQkFBYTtnQ0FDdEIsV0FBVyxFQUFFRCxlQUFVLENBQUMsY0FBTSxPQUFBLG9CQUFvQixHQUFBLENBQUM7Z0NBQ25ELEtBQUssRUFBRSxJQUFJOzZCQUNaO3lCQUNGOztxQkFDRjs7Ozs7d0JBeENPLGtCQUFrQjt3QkFjbEIsWUFBWTt3QkEzQmxCSSxzQkFBaUI7Ozs7NkJBd0RoQkMsVUFBSztrQ0FDTEEsVUFBSzs4QkFDTEEsVUFBSzs4QkFDTEEsVUFBSzs0QkFDTEMsZ0JBQVcsU0FBQyxPQUFPLGNBQUdELFVBQUs7K0JBRTNCRSxXQUFNO29DQUNOQSxXQUFNOzBDQUNOQSxXQUFNO29DQUNOQSxXQUFNO2dDQUNOQSxXQUFNO2lDQUNOQSxXQUFNOztRQTBRVCwyQkFBQztLQTNTRDs7Ozs7OztRQ2pDTWIsUUFBTSxHQUFHLFFBQVE7QUFFdkI7UUFjRSw4QkFBb0IsWUFBMEI7WUFBMUIsaUJBQVksR0FBWixZQUFZLENBQWM7WUFackMsbUJBQWMsR0FBaUM7Z0JBQ3RELGdCQUFnQixFQUFFLEtBQUs7Z0JBQ3ZCLFVBQVUsRUFBRSxNQUFNO2dCQUNsQixNQUFNLEVBQUUsU0FBUztnQkFDakIsdUJBQXVCLEVBQUUsS0FBSztnQkFDOUIsY0FBYyxFQUFFLEtBQUs7Z0JBQ3JCLE1BQU0sRUFBRUEsUUFBTSxDQUFDLE1BQU0sRUFBRTtnQkFDdkIsdUJBQXVCLEVBQUUsRUFBRTtnQkFDM0IsMkJBQTJCLEVBQUUsS0FBSztnQkFDbEMsZUFBZSxFQUFFLElBQUk7YUFDdEIsQ0FBQztTQUdEOzs7OztRQUVELHdDQUFTOzs7O1lBQVQsVUFBVSxNQUE0Qjs7b0JBQzlCLE9BQU8sbUNBQ1IsSUFBSSxDQUFDLGNBQWMsRUFDbkIsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLEdBQzVDO2dCQUVELElBQUksQ0FBQyxZQUFZLENBQUMsb0JBQW9CLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFFaEZBLFFBQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUU5QixPQUFPLE9BQU8sQ0FBQzthQUNoQjs7Ozs7OztRQUVELDJDQUFZOzs7Ozs7WUFBWixVQUFhLE1BQTRCLEVBQUUsSUFBWSxFQUFFLFFBQXlCO2dCQUFsRixpQkFtQkM7Z0JBbkJ3RCx5QkFBQTtvQkFBQSxlQUF5Qjs7O29CQUMxRSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7Z0JBRTFDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO29CQUMxQyxPQUFPLEtBQUksQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQzs7NEJBQ3BDLElBQUksR0FBRyxLQUFLLENBQUMsS0FBSyxFQUFFOzs0QkFDcEIsS0FBSyxHQUFHOzRCQUNaLElBQUksTUFBQTs0QkFDSixRQUFRLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsR0FBQSxDQUFDOzRCQUN4RCxZQUFZLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQ0EsUUFBTSxFQUFFLEVBQUUsT0FBTyxDQUFDOzRCQUM3QyxRQUFRLEVBQUUsS0FBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDOzRCQUM1QyxJQUFJLEVBQUUsS0FBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDO3lCQUN6Qzt3QkFFRCxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQzt3QkFFdEIsT0FBTyxLQUFLLENBQUM7cUJBQ2QsQ0FBQyxDQUFDO2lCQUNKLENBQUMsQ0FBQzthQUNKOzs7Ozs7UUFFRCw4Q0FBZTs7Ozs7WUFBZixVQUFnQixJQUFZLEVBQUUsTUFBNEI7Z0JBQ3hELElBQUksTUFBTSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEVBQUU7b0JBQ3BELE9BQU8sSUFBSSxDQUFDO2lCQUNiO2dCQUVELE9BQU8sQ0FBQyxFQUFFLE1BQU0sQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7YUFDNUQ7Ozs7OztRQUVELDZDQUFjOzs7OztZQUFkLFVBQWUsR0FBVyxFQUFFLGdCQUF3QjtnQkFDbEQsT0FBTyxHQUFHLEdBQUcsR0FBRyxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUM7YUFDNUQ7Ozs7OztRQUVELDhDQUFlOzs7OztZQUFmLFVBQWdCLEdBQVcsRUFBRSxnQkFBd0I7Z0JBQ25ELE9BQU8sR0FBRyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDO2FBQzNEOzs7Ozs7UUFFRCw2Q0FBYzs7Ozs7WUFBZCxVQUFlLE1BQTRCLEVBQUUsSUFBWTtnQkFDdkQsSUFBSSxNQUFNLENBQUMsYUFBYSxFQUFFO29CQUN4QixPQUFPLE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7aUJBQ25DO2dCQUVELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDdkM7Ozs7OztRQUVELDhDQUFlOzs7OztZQUFmLFVBQWdCLE1BQTRCLEVBQUUsS0FBYTtnQkFDekQsSUFBSSxNQUFNLENBQUMsaUJBQWlCLEVBQUU7b0JBQzVCLE9BQU8sTUFBTSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUN4QztnQkFFRCxPQUFPLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO2FBQzVDOzs7Ozs7UUFFRCxrREFBbUI7Ozs7O1lBQW5CLFVBQW9CLE1BQTRCLEVBQUUsS0FBYTtnQkFDN0QsSUFBSSxNQUFNLENBQUMsd0JBQXdCLEVBQUU7b0JBQ25DLE9BQU8sTUFBTSxDQUFDLHdCQUF3QixDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUMvQztnQkFFRCxPQUFPLEVBQUUsQ0FBQzthQUNYOztvQkF6RkZELGVBQVU7Ozs7O3dCQUxILFlBQVk7OztRQStGcEIsMkJBQUM7S0ExRkQ7Ozs7OztBQ1BBO1FBaUNNQyxRQUFNLEdBQUcsUUFBUTtBQUV2QjtRQStFRSxnQ0FBNEIsb0JBQTBDLEVBQzFDLFlBQTBCLEVBQzFCLEVBQXFCO1lBRnJCLHlCQUFvQixHQUFwQixvQkFBb0IsQ0FBc0I7WUFDMUMsaUJBQVksR0FBWixZQUFZLENBQWM7WUFDMUIsT0FBRSxHQUFGLEVBQUUsQ0FBbUI7WUF0RHZDLGFBQVEsR0FBeUIsSUFBSUMsaUJBQVksRUFBRSxDQUFDO1lBQ3BELHdCQUFtQixHQUF1QixJQUFJQSxpQkFBWSxFQUFFLENBQUM7WUFDN0Qsa0JBQWEsR0FBdUIsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1lBQ3ZELGNBQVMsR0FBNEIsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1lBQ3hELGVBQVUsR0FBNEIsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1lBQ3pELHVCQUFrQixHQUE0QixJQUFJQSxpQkFBWSxFQUFFLENBQUM7WUFDakUsd0JBQW1CLEdBQTRCLElBQUlBLGlCQUFZLEVBQUUsQ0FBQztZQUU1RSxhQUFRLEdBQVksS0FBSyxDQUFDO1lBUTFCLHVCQUFrQixHQUFZLElBQUksQ0FBQztZQU9uQyxRQUFHLEdBQUc7Z0JBQ0osY0FBYyxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO2dCQUNsRCxjQUFjLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO2FBQy9DLENBQUM7U0E2QkQ7UUEzQkQsc0JBQUksNENBQVE7OztnQkFLWjtnQkFDRSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7YUFDdkI7Ozs7Z0JBUEQsVUFBYSxRQUFrQjtnQkFDN0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQzthQUMvRDs7O1dBQUE7UUFNRCxzQkFBSSxtREFBZTs7O2dCQVduQjtnQkFDRSxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQzthQUM5Qjs7OztnQkFiRCxVQUFvQixPQUFlO2dCQUNqQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUN4QyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxvQkFBb0I7cUJBQ3hDLFlBQVksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQzVFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztnQkFDckcsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2dCQUM3RyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUM5RyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQywyQkFBMkIsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDO2dCQUNqRyxJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQywyQkFBMkIsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDO2FBQ3BHOzs7V0FBQTs7OztRQVdELHlDQUFROzs7WUFBUjtnQkFDRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztnQkFDckIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNaLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQzthQUN2Qjs7Ozs7UUFFRCw0Q0FBVzs7OztZQUFYLFVBQVksT0FBc0I7Z0JBQ2hDLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDVixJQUFBLHlCQUFPLEVBQUUseUJBQU8sRUFBRSx1QkFBTTtvQkFFL0IsSUFBSSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUNoQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7b0JBRVosSUFBSSxPQUFPLElBQUksT0FBTyxFQUFFO3dCQUN0QixJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7cUJBQ3ZCO2lCQUNGO2FBQ0Y7Ozs7UUFFRCxxQ0FBSTs7O1lBQUo7Z0JBQ0UsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDeEUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxJQUFJLEVBQUUsQ0FBQztnQkFDcEMsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsV0FBVztzQkFDbkMsSUFBSSxDQUFDLFdBQVc7c0JBQ2hCLElBQUksQ0FBQyxZQUFZO3lCQUNoQixxQkFBcUIsQ0FDcEIsSUFBSSxDQUFDLGVBQWUsRUFDcEIsSUFBSSxDQUFDLFFBQVEsRUFDYixJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFnQixFQUNyQyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FDekIsQ0FBQztnQkFDTixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2dCQUM3RyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7YUFDcEQ7Ozs7O1FBRUQsMkNBQVU7Ozs7WUFBVixVQUFXLEtBQW9CO2dCQUM3QixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztnQkFFeEIsSUFBSSxLQUFLLEVBQUU7b0JBQ1QsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWTt5QkFDOUIsb0JBQW9CLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztvQkFDbkcsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsb0JBQW9CO3lCQUN4QyxZQUFZLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztvQkFDM0UsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxlQUFlLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztpQkFDOUc7cUJBQU07b0JBQ0wsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7b0JBQ25CLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLG9CQUFvQjt5QkFDeEMsWUFBWSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7aUJBQzVFO2dCQUVELElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUM7YUFDeEI7Ozs7O1FBRUQsaURBQWdCOzs7O1lBQWhCLFVBQWlCLEVBQU87Z0JBQ3RCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7YUFDNUI7Ozs7O1FBRUQsaURBQWdCOzs7O1lBQWhCLFVBQWlCLENBQU07YUFDdEI7Ozs7O1FBRUQsa0RBQWlCOzs7O1lBQWpCLFVBQWtCLEVBQU87YUFDeEI7Ozs7O1FBRUQseUNBQVE7Ozs7WUFBUixVQUFTLFdBQXdCO2dCQUMvQixJQUFJLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtvQkFDaEMsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDM0M7cUJBQU07b0JBQ0wsT0FBTyxjQUFNLE9BQUEsSUFBSSxHQUFBLENBQUM7aUJBQ25CO2FBQ0Y7Ozs7O1FBRUQsd0RBQXVCOzs7O1lBQXZCLFVBQXdCLEtBQWU7Z0JBQ3JDLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsQ0FDN0MsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQzNCLEtBQUssRUFDTCxJQUFJLENBQUMsZUFBZSxDQUFDLGlCQUFpQixJQUFJLElBQUksQ0FBQyxjQUFjLENBQzlELENBQUM7YUFDSDs7OztRQUVELCtDQUFjOzs7WUFBZDtnQkFDRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxlQUFlLENBQ25FLEVBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUMsRUFDOUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQzNCLE9BQU8sQ0FDUixDQUFDO2dCQUVGLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7YUFDcEU7Ozs7O1FBRUQsNkNBQVk7Ozs7WUFBWixVQUFhLEtBQWE7Z0JBQ3hCLElBQUksS0FBSyxDQUFDLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsZUFBZSxFQUFFO29CQUMzRCxPQUFPO2lCQUNSO2dCQUVELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFlBQVk7cUJBQzlCLGNBQWMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFnQixFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUN4RixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxvQkFBb0I7cUJBQ3hDLFlBQVksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUMzRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUMzQjs7OztRQUVELCtDQUFjOzs7WUFBZDs7b0JBQ1EsSUFBSSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFO2dCQUN6QyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQzs7b0JBQ2xFLEVBQUUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRTtnQkFDdkMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ3BILElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxNQUFBLEVBQUUsRUFBRSxJQUFBLEVBQUMsQ0FBQyxDQUFDO2FBQ2pDOzs7O1FBRUQsd0RBQXVCOzs7WUFBdkI7O29CQUNNLFVBQVUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLHVCQUF1Qjs7b0JBQ3ZELGNBQWMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUc7b0JBQzdDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsVUFBVTtnQkFFNUUsSUFBSSxjQUFjLEVBQUU7b0JBQ2xCLFVBQVUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO2lCQUM1RTs7b0JBRUssSUFBSSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFO2dCQUN6QyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBRSxNQUFNLENBQUMsQ0FBQzs7b0JBQzNFLEVBQUUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRTtnQkFDdkMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksTUFBQSxFQUFFLEVBQUUsSUFBQSxFQUFDLENBQUMsQ0FBQzthQUMxQzs7OztRQUVELGdEQUFlOzs7WUFBZjs7b0JBQ1EsSUFBSSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFO2dCQUN6QyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQzs7b0JBQzdELEVBQUUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRTtnQkFDdkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBQyxJQUFJLE1BQUEsRUFBRSxFQUFFLElBQUEsRUFBQyxDQUFDLENBQUM7YUFDbEM7Ozs7UUFFRCx5REFBd0I7OztZQUF4Qjs7b0JBQ00sVUFBVSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsdUJBQXVCOztvQkFDdkQsY0FBYyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRztvQkFDN0MsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxVQUFVO2dCQUU1RSxJQUFJLGNBQWMsRUFBRTtvQkFDbEIsVUFBVSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxFQUFFLENBQUM7aUJBQzVFOztvQkFFSyxJQUFJLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUU7Z0JBQ3pDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDOztvQkFDdEUsRUFBRSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFO2dCQUN2QyxJQUFJLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxNQUFBLEVBQUUsRUFBRSxJQUFBLEVBQUMsQ0FBQyxDQUFDO2FBQzNDOzs7O1FBRUQsbURBQWtCOzs7WUFBbEI7Z0JBQ0UsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxDQUFDO2FBQ2pDOzs7OztRQUVELG9EQUFtQjs7OztZQUFuQixVQUFvQixLQUFhOztvQkFDekIsUUFBUSxHQUErQjtvQkFDM0MsYUFBYSxFQUFFLEtBQUssQ0FBQyxRQUFRO29CQUM3QixrQkFBa0IsRUFBRSxLQUFLLENBQUMsWUFBWTtpQkFDdkM7O29CQUNLLGNBQWMsR0FBVyxJQUFJLENBQUMsb0JBQW9CLENBQUMsbUJBQW1CLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDO2dCQUU5RyxJQUFJLGNBQWMsRUFBRTtvQkFDbEIsUUFBUSxDQUFDLGNBQWMsQ0FBQyxHQUFHLElBQUksQ0FBQztpQkFDakM7Z0JBRUQsT0FBTyxRQUFRLENBQUM7YUFDakI7Ozs7UUFFRCxrREFBaUI7OztZQUFqQjtnQkFDRSxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQ3hDLElBQUksQ0FBQyxlQUFlLENBQUMsZUFBZSxFQUNwQyxPQUFPLEVBQ1AsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQ3hCLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUN6QixDQUFDO2FBQ0g7Ozs7UUFFRCw0Q0FBVzs7O1lBQVg7Z0JBQ0UsSUFBSSxDQUFDLGVBQWUsR0FBR0QsUUFBTSxFQUFFLENBQUM7Z0JBQ2hDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDM0I7Ozs7O1FBRUQsK0NBQWM7Ozs7WUFBZCxVQUFlLEVBQXVCO2dCQUNwQyxJQUFJLEVBQUUsRUFBRTtvQkFDTixJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUMxRixJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFDO2lCQUN4QjthQUNGOzs7OztRQUVELG1EQUFrQjs7OztZQUFsQixVQUFtQixNQUFvQjtnQkFDckMsSUFBSSxNQUFNLEVBQUU7O3dCQUNKLFFBQVEsR0FBaUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDOzt3QkFDbEcsV0FBVyxHQUFpQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUM7b0JBRTFHLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLEVBQUUsV0FBVyxDQUFDLEVBQUU7d0JBQ25FLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7cUJBQzlCO2lCQUNGO2FBQ0Y7O29CQXRSRkUsY0FBUyxTQUFDO3dCQUNULFFBQVEsRUFBRSxtQkFBbUI7d0JBQzdCLG94Q0FBNEM7d0JBRTVDLGFBQWEsRUFBRUMsc0JBQWlCLENBQUMsSUFBSTt3QkFDckMsZUFBZSxFQUFFQyw0QkFBdUIsQ0FBQyxNQUFNO3dCQUMvQyxTQUFTLEVBQUU7NEJBQ1Qsb0JBQW9COzRCQUNwQjtnQ0FDRSxPQUFPLEVBQUVDLHVCQUFpQjtnQ0FDMUIsV0FBVyxFQUFFQyxlQUFVLENBQUMsY0FBTSxPQUFBLHNCQUFzQixHQUFBLENBQUM7Z0NBQ3JELEtBQUssRUFBRSxJQUFJOzZCQUNaOzRCQUNEO2dDQUNFLE9BQU8sRUFBRUMsbUJBQWE7Z0NBQ3RCLFdBQVcsRUFBRUQsZUFBVSxDQUFDLGNBQU0sT0FBQSxzQkFBc0IsR0FBQSxDQUFDO2dDQUNyRCxLQUFLLEVBQUUsSUFBSTs2QkFDWjt5QkFDRjs7cUJBQ0Y7Ozs7O3dCQXRDTyxvQkFBb0I7d0JBYXBCLFlBQVk7d0JBM0JsQkksc0JBQWlCOzs7OzZCQXNEaEJDLFVBQUs7a0NBQ0xBLFVBQUs7OEJBQ0xBLFVBQUs7OEJBQ0xBLFVBQUs7NEJBQ0xDLGdCQUFXLFNBQUMsT0FBTyxjQUFHRCxVQUFLOytCQUUzQkUsV0FBTTswQ0FDTkEsV0FBTTtvQ0FDTkEsV0FBTTtnQ0FDTkEsV0FBTTtpQ0FDTkEsV0FBTTt5Q0FDTkEsV0FBTTswQ0FDTkEsV0FBTTs7UUFzUFQsNkJBQUM7S0F2UkQ7Ozs7OztBQ2xDQTtRQThCTWIsUUFBTSxHQUFHLFFBQVE7QUFFdkI7UUE2RUUsNkJBQW1CLGlCQUFvQyxFQUNwQyxZQUEwQixFQUMxQixFQUFxQjtZQUZyQixzQkFBaUIsR0FBakIsaUJBQWlCLENBQW1CO1lBQ3BDLGlCQUFZLEdBQVosWUFBWSxDQUFjO1lBQzFCLE9BQUUsR0FBRixFQUFFLENBQW1CO1lBakQ5QixhQUFRLEdBQXdCLElBQUlDLGlCQUFZLEVBQUUsQ0FBQztZQUU3RCxhQUFRLEdBQVksS0FBSyxDQUFDO1lBeUMxQixRQUFHLEdBQUc7Z0JBQ0osYUFBYSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzthQUMxQyxDQUFDO1NBS0Q7UUE1QkQsc0JBQUkseUNBQVE7OztnQkFpQlo7Z0JBQ0UsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO2FBQ3ZCOzs7O2dCQW5CRCxVQUFhLFFBQWdCO2dCQUMzQixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztnQkFDMUIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFFdkMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO2dCQUMzRyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQy9HLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztnQkFFL0csSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO2dCQUMzRyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQy9HLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztnQkFFL0csSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFFaEgsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2FBQy9EOzs7V0FBQTs7OztRQWVELHNDQUFROzs7WUFBUjtnQkFDRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztnQkFDckIsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO2dCQUNaLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQzthQUN2Qjs7OztRQUVELGtDQUFJOzs7WUFBSjtnQkFDRSxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNyRSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLElBQUlELFFBQU0sRUFBRSxDQUFDO2dCQUMxQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUM7YUFDOUU7Ozs7O1FBRUQseUNBQVc7Ozs7WUFBWCxVQUFZLE9BQXNCO2dCQUNoQyxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7b0JBQ1YsSUFBQSx5QkFBTyxFQUFFLHlCQUFPLEVBQUUseUJBQU8sRUFBRSx5QkFBTztvQkFDekMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO29CQUVaLElBQUksT0FBTyxJQUFJLE9BQU8sSUFBSSxPQUFPLElBQUksT0FBTyxFQUFFO3dCQUM1QyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7cUJBQ3ZCO2lCQUNGO2FBQ0Y7Ozs7O1FBRUQsd0NBQVU7Ozs7WUFBVixVQUFXLEtBQW9CO2dCQUM3QixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztnQkFFeEIsSUFBSSxLQUFLLEVBQUU7O3dCQUNILFdBQVcsR0FBRyxJQUFJLENBQUMsWUFBWTt5QkFDbEMsb0JBQW9CLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDcEcsSUFBSSxXQUFXLENBQUMsT0FBTyxFQUFFLEVBQUU7d0JBQ3pCLElBQUksQ0FBQyxRQUFRLEdBQUcsV0FBVyxDQUFDO3dCQUM1QixJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxZQUFZOzZCQUNwQyxZQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQztxQkFDekM7aUJBQ0Y7Z0JBRUQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUN4Qjs7Ozs7UUFFRCw4Q0FBZ0I7Ozs7WUFBaEIsVUFBaUIsRUFBTztnQkFDdEIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQzthQUM1Qjs7Ozs7UUFFRCw4Q0FBZ0I7Ozs7WUFBaEIsVUFBaUIsQ0FBTTthQUN0Qjs7Ozs7UUFFRCwrQ0FBaUI7Ozs7WUFBakIsVUFBa0IsRUFBTzthQUN4Qjs7Ozs7UUFFRCxzQ0FBUTs7OztZQUFSLFVBQVMsV0FBd0I7Z0JBQy9CLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtvQkFDaEUsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDM0M7cUJBQU07b0JBQ0wsT0FBTyxjQUFNLE9BQUEsSUFBSSxHQUFBLENBQUM7aUJBQ25CO2FBQ0Y7Ozs7O1FBRUQscURBQXVCOzs7O1lBQXZCLFVBQXdCLEtBQWE7Z0JBQ25DLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsQ0FDN0MsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQzFELENBQUMsS0FBSyxDQUFDLEVBQ1AsSUFBSSxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUM5RCxDQUFDO2FBQ0g7Ozs7UUFFRCw0Q0FBYzs7O1lBQWQ7Z0JBQ0UsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FDakQ7b0JBQ0UsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO29CQUNyQixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87b0JBQ3JCLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztvQkFDckIsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO2lCQUN0QixFQUFFLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFFdkIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQzthQUNwRTs7Ozs7UUFFRCxzQ0FBUTs7OztZQUFSLFVBQVMsSUFBYztnQkFDckIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDM0YsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO2FBQ25COzs7OztRQUVELHNDQUFROzs7O1lBQVIsVUFBUyxJQUFjO2dCQUNyQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUMzRixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7YUFDbkI7Ozs7UUFFRCw0Q0FBYzs7O1lBQWQ7Z0JBQ0UsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDckUsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO2FBQ25COzs7O1FBRUQsd0NBQVU7OztZQUFWO2dCQUNFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBQyxDQUFDLENBQUM7Z0JBQzNELElBQUksQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUM7YUFDeEI7Ozs7O1FBRUQsZ0RBQWtCOzs7O1lBQWxCLFVBQW1CLElBQVk7Z0JBQzdCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFDO2dCQUN6RSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztnQkFDN0UsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQzdFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQ2hGOztvQkF4TEZFLGNBQVMsU0FBQzt3QkFDVCxRQUFRLEVBQUUsZ0JBQWdCO3dCQUMxQixpaUZBQXlDO3dCQUV6QyxhQUFhLEVBQUVDLHNCQUFpQixDQUFDLElBQUk7d0JBQ3JDLGVBQWUsRUFBRUMsNEJBQXVCLENBQUMsTUFBTTt3QkFDL0MsU0FBUyxFQUFFOzRCQUNULGlCQUFpQjs0QkFDakI7Z0NBQ0UsT0FBTyxFQUFFQyx1QkFBaUI7Z0NBQzFCLFdBQVcsRUFBRUMsZUFBVSxDQUFDLGNBQU0sT0FBQSxtQkFBbUIsR0FBQSxDQUFDO2dDQUNsRCxLQUFLLEVBQUUsSUFBSTs2QkFDWjs0QkFDRDtnQ0FDRSxPQUFPLEVBQUVDLG1CQUFhO2dDQUN0QixXQUFXLEVBQUVELGVBQVUsQ0FBQyxjQUFNLE9BQUEsbUJBQW1CLEdBQUEsQ0FBQztnQ0FDbEQsS0FBSyxFQUFFLElBQUk7NkJBQ1o7eUJBQ0Y7O3FCQUNGOzs7Ozt3QkFyQ08saUJBQWlCO3dCQWFqQixZQUFZO3dCQXpCbEJJLHNCQUFpQjs7Ozs2QkFvRGhCQyxVQUFLO2tDQUNMQSxVQUFLOzhCQUNMQSxVQUFLOzhCQUNMQSxVQUFLOzhCQUNMQSxVQUFLOzhCQUNMQSxVQUFLOzRCQUNMQyxnQkFBVyxTQUFDLE9BQU8sY0FBR0QsVUFBSzsrQkFFM0JFLFdBQU07O1FBMkpULDBCQUFDO0tBekxEOzs7Ozs7QUNsQ0E7UUFVQTtZQVNXLHFCQUFnQixHQUFZLEtBQUssQ0FBQztZQUNsQyxnQkFBVyxHQUFZLElBQUksQ0FBQztZQUM1Qix5QkFBb0IsR0FBWSxLQUFLLENBQUM7WUFDdEMsaUJBQVksR0FBWSxJQUFJLENBQUM7WUFDN0IsMEJBQXFCLEdBQVksS0FBSyxDQUFDO1lBQ3ZDLG9CQUFlLEdBQVksS0FBSyxDQUFDO1lBQ2pDLDZCQUF3QixHQUFZLEtBQUssQ0FBQztZQUMxQyxxQkFBZ0IsR0FBWSxLQUFLLENBQUM7WUFDbEMsOEJBQXlCLEdBQVksS0FBSyxDQUFDO1lBQzNDLG9CQUFlLEdBQVksSUFBSSxDQUFDO1lBRy9CLGNBQVMsR0FBdUIsSUFBSVosaUJBQVksRUFBRSxDQUFDO1lBQ25ELHVCQUFrQixHQUF1QixJQUFJQSxpQkFBWSxFQUFFLENBQUM7WUFDNUQsZUFBVSxHQUF1QixJQUFJQSxpQkFBWSxFQUFFLENBQUM7WUFDcEQsd0JBQW1CLEdBQXVCLElBQUlBLGlCQUFZLEVBQUUsQ0FBQztZQUM3RCxpQkFBWSxHQUF1QixJQUFJQSxpQkFBWSxFQUFFLENBQUM7WUFDdEQsa0JBQWEsR0FBdUIsSUFBSUEsaUJBQVksRUFBRSxDQUFDO1NBcUJsRTs7OztRQW5CQyw2Q0FBYzs7O1lBQWQ7Z0JBQ0UsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQzthQUN2Qjs7OztRQUVELHNEQUF1Qjs7O1lBQXZCO2dCQUNFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQzthQUNoQzs7OztRQUVELDhDQUFlOzs7WUFBZjtnQkFDRSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDO2FBQ3hCOzs7O1FBRUQsdURBQXdCOzs7WUFBeEI7Z0JBQ0UsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxDQUFDO2FBQ2pDOzs7O1FBRUQsMkNBQVk7OztZQUFaO2dCQUNFLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7YUFDMUI7O29CQTlDRkMsY0FBUyxTQUFDO3dCQUNULFFBQVEsRUFBRSxpQkFBaUI7d0JBQzNCLHc1REFBNEM7d0JBRTVDLGFBQWEsRUFBRUMsc0JBQWlCLENBQUMsSUFBSTt3QkFDckMsZUFBZSxFQUFFQyw0QkFBdUIsQ0FBQyxNQUFNOztxQkFDaEQ7Ozs0QkFFRU8sVUFBSzt1Q0FDTEEsVUFBSztrQ0FDTEEsVUFBSzsyQ0FDTEEsVUFBSzttQ0FDTEEsVUFBSzs0Q0FDTEEsVUFBSztzQ0FDTEEsVUFBSzsrQ0FDTEEsVUFBSzt1Q0FDTEEsVUFBSztnREFDTEEsVUFBSztzQ0FDTEEsVUFBSzs0QkFDTEMsZ0JBQVcsU0FBQyxPQUFPLGNBQUdELFVBQUs7Z0NBRTNCRSxXQUFNO3lDQUNOQSxXQUFNO2lDQUNOQSxXQUFNOzBDQUNOQSxXQUFNO21DQUNOQSxXQUFNO29DQUNOQSxXQUFNOztRQXFCVCwyQkFBQztLQS9DRDs7Ozs7O0FDUkE7UUE0RkUsa0NBQW1CLHNCQUE4QyxFQUM5QyxZQUEwQixFQUMxQixFQUFxQjtZQUZyQiwyQkFBc0IsR0FBdEIsc0JBQXNCLENBQXdCO1lBQzlDLGlCQUFZLEdBQVosWUFBWSxDQUFjO1lBQzFCLE9BQUUsR0FBRixFQUFFLENBQW1CO1lBN0I5QixhQUFRLEdBQXdCLElBQUlaLGlCQUFZLEVBQUUsQ0FBQztZQUNuRCxrQkFBYSxHQUF1QixJQUFJQSxpQkFBWSxFQUFFLENBQUM7WUFDdkQsY0FBUyxHQUE0QixJQUFJQSxpQkFBWSxFQUFFLENBQUM7WUFDeEQsZUFBVSxHQUE0QixJQUFJQSxpQkFBWSxFQUFFLENBQUM7WUFJbkUsYUFBUSxHQUFZLEtBQUssQ0FBQztZQWdCMUIsUUFBRyxHQUFHO2dCQUNKLGNBQWMsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7YUFDL0MsQ0FBQztTQUtEO1FBaEJELHNCQUFJLDhDQUFROzs7Z0JBS1o7Z0JBQ0UsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO2FBQ3ZCOzs7O2dCQVBELFVBQWEsUUFBZ0I7Z0JBQzNCLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO2dCQUMxQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7YUFDL0Q7OztXQUFBOzs7O1FBZUQsMkNBQVE7OztZQUFSO2dCQUNFLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO2dCQUNyQixJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBQ1osSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO2FBQ3ZCOzs7O1FBRUQsdUNBQUk7OztZQUFKO2dCQUNFLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQzFFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQzthQUM5RTs7Ozs7UUFFRCw4Q0FBVzs7OztZQUFYLFVBQVksT0FBc0I7Z0JBQ2hDLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDVixJQUFBLHlCQUFPLEVBQUUseUJBQU87b0JBQ3ZCLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztvQkFFWixJQUFJLE9BQU8sSUFBSSxPQUFPLEVBQUU7d0JBQ3RCLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztxQkFDdkI7aUJBQ0Y7YUFDRjs7Ozs7UUFFRCw2Q0FBVTs7OztZQUFWLFVBQVcsS0FBb0I7Z0JBQzdCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO2dCQUV4QixJQUFJLEtBQUssRUFBRTtvQkFDVCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZO3lCQUM5QixvQkFBb0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3RFLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFlBQVk7eUJBQ3BDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDO2lCQUN6QztxQkFBTTtvQkFDTCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztpQkFDdEI7Z0JBRUQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQzthQUN4Qjs7Ozs7UUFFRCxtREFBZ0I7Ozs7WUFBaEIsVUFBaUIsRUFBTztnQkFDdEIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQzthQUM1Qjs7Ozs7UUFFRCxtREFBZ0I7Ozs7WUFBaEIsVUFBaUIsQ0FBTTthQUN0Qjs7Ozs7UUFFRCxvREFBaUI7Ozs7WUFBakIsVUFBa0IsRUFBTzthQUN4Qjs7Ozs7UUFFRCwyQ0FBUTs7OztZQUFSLFVBQVMsV0FBd0I7Z0JBQy9CLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO29CQUNoQyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUMzQztxQkFBTTtvQkFDTCxPQUFPLGNBQU0sT0FBQSxJQUFJLEdBQUEsQ0FBQztpQkFDbkI7YUFDRjs7Ozs7UUFFRCwwREFBdUI7Ozs7WUFBdkIsVUFBd0IsS0FBYTtnQkFDbkMsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLHNCQUFzQixDQUM3QyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFDM0IsQ0FBQyxLQUFLLENBQUMsRUFDUCxJQUFJLENBQUMsZUFBZSxDQUFDLGlCQUFpQixJQUFJLElBQUksQ0FBQyxjQUFjLENBQzlELENBQUM7YUFDSDs7OztRQUVELGlEQUFjOzs7WUFBZDtnQkFDRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUNqRDtvQkFDRSxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87b0JBQ3JCLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztpQkFDdEIsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7Z0JBRTNCLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7YUFDcEU7Ozs7O1FBRUQsK0NBQVk7Ozs7WUFBWixVQUFhLEdBQVU7Z0JBQ3JCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUM1RixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7YUFDbkI7Ozs7O1FBRUQsNkNBQVU7Ozs7WUFBVixVQUFXLElBQVc7Z0JBQ3BCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDakYsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO2FBQ25COzs7O1FBRUQsNkNBQVU7OztZQUFWO2dCQUNFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBQyxDQUFDLENBQUM7YUFDNUQ7Ozs7O1FBRUQsaURBQWM7Ozs7WUFBZCxVQUFlLEVBQXVCO2dCQUNwQyxJQUFJLEVBQUUsRUFBRTtvQkFDTixJQUFJLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQztpQkFDeEM7YUFDRjs7Ozs7UUFFRCxpREFBYzs7OztZQUFkLFVBQWUsTUFBaUI7Z0JBQzlCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzdCOzs7OztRQUVELGtEQUFlOzs7O1lBQWYsVUFBZ0IsTUFBaUI7Z0JBQy9CLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQzlCOztvQkFqS0ZDLGNBQVMsU0FBQzt3QkFDVCxRQUFRLEVBQUUsc0JBQXNCO3dCQUNoQyxnckJBQStDO3dCQUUvQyxlQUFlLEVBQUVFLDRCQUF1QixDQUFDLE1BQU07d0JBQy9DLGFBQWEsRUFBRUQsc0JBQWlCLENBQUMsSUFBSTt3QkFDckMsU0FBUyxFQUFFOzRCQUNULHNCQUFzQjs0QkFDdEIsa0JBQWtCOzRCQUNsQixpQkFBaUI7NEJBQ2pCO2dDQUNFLE9BQU8sRUFBRUUsdUJBQWlCO2dDQUMxQixXQUFXLEVBQUVDLGVBQVUsQ0FBQyxjQUFNLE9BQUEsd0JBQXdCLEdBQUEsQ0FBQztnQ0FDdkQsS0FBSyxFQUFFLElBQUk7NkJBQ1o7NEJBQ0Q7Z0NBQ0UsT0FBTyxFQUFFQyxtQkFBYTtnQ0FDdEIsV0FBVyxFQUFFRCxlQUFVLENBQUMsY0FBTSxPQUFBLHdCQUF3QixHQUFBLENBQUM7Z0NBQ3ZELEtBQUssRUFBRSxJQUFJOzZCQUNaO3lCQUNGOztxQkFDRjs7Ozs7d0JBMUJPLHNCQUFzQjt3QkFMdEIsWUFBWTt3QkF2QmxCSSxzQkFBaUI7Ozs7NkJBeURoQkMsVUFBSztrQ0FDTEEsVUFBSzs4QkFDTEEsVUFBSzs4QkFDTEEsVUFBSzs0QkFDTEMsZ0JBQVcsU0FBQyxPQUFPLGNBQUdELFVBQUs7K0JBRTNCRSxXQUFNO29DQUNOQSxXQUFNO2dDQUNOQSxXQUFNO2lDQUNOQSxXQUFNO3FDQUVOQyxjQUFTLFNBQUMsYUFBYTs7UUErSDFCLCtCQUFDO0tBbEtEOzs7Ozs7QUNyQ0E7UUFtQkE7U0ErQkM7O29CQS9CQU8sYUFBUSxTQUFDO3dCQUNSLFNBQVMsRUFBRTs0QkFDVCxTQUFTOzRCQUNULFlBQVk7eUJBQ2I7d0JBQ0QsWUFBWSxFQUFFOzRCQUNaLG1CQUFtQjs0QkFDbkIsbUJBQW1COzRCQUNuQixvQkFBb0I7NEJBQ3BCLHNCQUFzQjs0QkFDdEIsb0JBQW9COzRCQUNwQixtQkFBbUI7NEJBQ25CLHdCQUF3Qjt5QkFDekI7d0JBQ0QsZUFBZSxFQUFFOzRCQUNmLG1CQUFtQjt5QkFDcEI7d0JBQ0QsT0FBTyxFQUFFOzRCQUNQQyxtQkFBWTs0QkFDWkMsaUJBQVc7eUJBQ1o7d0JBQ0QsT0FBTyxFQUFFOzRCQUNQLG1CQUFtQjs0QkFDbkIsbUJBQW1COzRCQUNuQixzQkFBc0I7NEJBQ3RCLG9CQUFvQjs0QkFDcEIsbUJBQW1COzRCQUNuQix3QkFBd0I7eUJBQ3pCO3FCQUNGOztRQUVELHlCQUFDO0tBL0JEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyJ9